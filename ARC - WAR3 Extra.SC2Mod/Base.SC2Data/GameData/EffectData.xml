<?xml version="1.0" encoding="us-ascii"?>
<Catalog>
    <CEffectCreateHealer default="1" id="War3_InstantHeal">
        <AINotifyFlags index="HelpFriend" value="1"/>
        <Flags index="Channeled" value="0"/>
        <PeriodCount value="0"/>
        <PeriodicPeriod value="1"/>
    </CEffectCreateHealer>
    <CEffectDamage default="1" id="AHfsAOEDamageBase" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Human"/>
        <AttributeFactor index="fortified" value="-0.25"/>
    </CEffectDamage>
    <CEffectCreateHealer default="1" id="AHdrDrainManaBase">
        <EditorCategories value="Race:Human"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
        <PeriodCount value="6"/>
        <PeriodicValidator value="AHdrMaxRange"/>
        <PeriodicPeriod value="1"/>
        <DrainVital value="Energy"/>
        <DrainVitalCostFactor value="1"/>
        <RechargeVital value="Energy"/>
        <ValidatorArray value="TargetNotDead"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer default="1" id="AHdrTransferManaBase">
        <EditorCategories value="Race:Human"/>
        <PeriodCount value="6"/>
        <PeriodicValidator value="AHdrMaxRange"/>
        <PeriodicPeriod value="1"/>
        <DrainVital value="Energy"/>
        <DrainVitalCostFactor value="1"/>
        <RechargeVital value="Energy"/>
        <ValidatorArray value="TargetEnergyNotFull"/>
        <ValidatorArray value="TargetNotDead"/>
    </CEffectCreateHealer>
    <CEffectCreatePersistent default="1" id="AHbzBase">
        <EditorCategories value="Race:Human"/>
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <Flags index="Channeled" value="1"/>
        <PeriodicEffectArray value="AHbzDamageDelay"/>
        <PeriodicPeriodArray value="1"/>
        <InitialEffect value="AHbzDamageDelay"/>
        <ExpireDelay value="1"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent default="1" id="ANrfBase" parent="AHbzBase">
        <EditorCategories value="Race:Creeps"/>
        <PeriodicEffectArray index="0" value="ANrfDamageDelay"/>
        <InitialEffect value="ANrfDamageDelay"/>
    </CEffectCreatePersistent>
    <CEffectDamage default="1" id="AHbzAOEDamageBase" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Human"/>
        <AttributeFactor index="fortified" value="-0.5"/>
    </CEffectDamage>
    <CEffectDamage default="1" id="ANrfAOEDamageBase" parent="AHbzAOEDamageBase">
        <EditorCategories value="Race:Creeps"/>
    </CEffectDamage>
    <CEffectEnumArea default="1" id="War3_AuraSearch">
        <SearchFilters value="-;neutral,enemies,wall,tree,Missile,debris,item,structure,ward,dead,Hidden"/>
        <AreaArray Radius="7.0312" Effect="##aura##"/>
    </CEffectEnumArea>
    <!--Arch Mage - Water Elemental Buff=BHwe-->
    <CEffectEnumArea default="1" id="War3_AbilSearch">
        <SearchFilters value="-;air,ground,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable,immunity"/>
    </CEffectEnumArea>
    <CEffectEnumArea default="1" id="War3_AbilSearchRadiusExt" parent="War3_AbilSearch">
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectCreateHealer default="1" id="AHhbHealBase" parent="War3_InstantHeal">
        <ValidatorArray value="AHhbHealTarget"/>
        <EditorCategories value="Race:Human"/>
    </CEffectCreateHealer>
    <CEffectDamage default="1" id="AHhbDamageBase" parent="War3_MagicSpellDamage">
        <ValidatorArray value="AHhbDamageTarget"/>
        <EditorCategories value="Race:Human"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
    </CEffectDamage>
    <!--Warden - Fan of Knives-->
    <CEffectEnumArea default="1" id="AEfkSearchBase" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Nightelf"/>
        <AreaArray Radius="4" Effect="AEfkMissile"/>
        <SearchFilters value="Visible;player,allies,neutral,mechanical,wall,tree,debris,item,structure,ward,dead,Hidden,invulnerable,immunity"/>
        <MaxCount value="5"/>
        <TargetSorts>
            <SortArray value="TSDistance"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectEnumArea default="1" id="AEfnSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Nightelf"/>
        <AreaArray Effect="efon"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Targettree"/>
        <MinCount value="1"/>
        <SearchFilters value="tree;air,ground,wall,debris,item,structure,ward,Hidden,invulnerable"/>
        <TargetSorts>
            <SortArray value="TSRandom"/>
        </TargetSorts>
    </CEffectEnumArea>
    <!--Priestess - Searing Arrows-->
    <CEffectApplyBehavior default="1" id="AHfaBase" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
        <WhichUnit Value="Caster"/>
        <ValidatorArray value="AHfaRemove"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea default="1" id="AOwsSearch">
        <AreaArray Effect="##id##Impact"/>
        <EditorCategories value="Race:Orc"/>
        <SearchFilters value="-;player,allies,neutral,air,mechanical,wall,tree,debris,item,structure,ward,dead,Hidden,invulnerable,immunity"/>
    </CEffectEnumArea>
    <!--Dark Ranger - Silence Buff=BNsi-->
    <CEffectEnumArea default="1" id="ANsiSearchBase" parent="War3_AbilSearch">
        <SearchFilters value="-;player,allies,mechanical,wall,tree,debris,item,structure,ward,dead,invulnerable,immunity"/>
        <AreaArray Radius="1.5625" Effect="ANsiBuffSet"/>
        <ImpactLocation Value="TargetPoint"/>
    </CEffectEnumArea>
    <CEffectDamage default="1" id="War3_Poision" parent="War3_PhysicSpellDamage">
        <Flags index="Live" value="1"/>
        <Amount value="1"/>
        <ResponseFlags index="Flee" value="0"/>
    </CEffectDamage>
    <!--Death Knight - Death Coil-->
    <CEffectCreateHealer default="1" id="AUdcHealBase" parent="War3_InstantHeal">
        <ValidatorArray value="AUdcHealTarget"/>
        <EditorCategories value="Race:Undead"/>
    </CEffectCreateHealer>
    <CEffectDamage default="1" id="AUdcDamageBase" parent="War3_MagicSpellDamage">
        <ValidatorArray value="AUdcDamageTarget"/>
        <EditorCategories value="Race:Undead"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
    </CEffectDamage>
    <CEffectDamage default="1" id="ANcsAOEDamageBase" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ValidatorArray index="0" removed="1"/>
        <AreaArray Radius="1.5625" Fraction="1" Validator="CasterNoEngineeringUpgrade"/>
        <AreaArray Radius="1.7968" Fraction="1" Validator="ANegLevel0AndCasterHasEngineeringUpgrade"/>
        <AreaArray Radius="2.0312" Fraction="1" Validator="ANegLevel1"/>
        <AreaArray Radius="2.2656" Fraction="1" Validator="ANegLevel2"/>
        <SearchFilters value="-;player,allies,air,wall,tree,debris,item,ward,invulnerable"/>
        <MaxCount value="12"/>
    </CEffectDamage>
    <CEffectCreatePersistent default="1" id="ANhsBase">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <Flags index="Channeled" value="1"/>
        <PeriodicEffectArray value="ANhsSearchDelay"/>
        <PeriodicPeriodArray value="1"/>
        <InitialEffect value="ANhsSearchDelay"/>
    </CEffectCreatePersistent>
    <CEffectCreateHealer default="1" id="ANdrDrainLifeBase">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
        <PeriodCount value="8"/>
        <PeriodicValidator value="AHdrMaxRange"/>
        <PeriodicPeriod value="1"/>
        <DrainVitalCostFactor value="1"/>
        <Flags index="Channeled" value="0"/>
    </CEffectCreateHealer>
    <CEffectApplyBehavior default="1" id="War3_AugmentApply" parent="War3_ApplyBuff">
        <ValidatorArray value="AugmentTargetFilterDefault"/>
        <ValidatorArray value="CasterIsFiringWeapon_War3"/>
        <ValidatorArray value="CasterHasNoAttackAugment"/>
        <ValidatorArray value="CasterWeaponNotInCooldownWar3"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectDamage default="1" id="ANdrDamageBase">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Flags index="Notification" value="1"/>
        <Flags index="NoLeech" value="1"/>
        <Flags index="NoGain" value="1"/>
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoFractionDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
        <Flags index="NoDealtMaximum" value="1"/>
        <Flags index="NoDealtMinimum" value="1"/>
        <Flags index="NoFractionTakenBonus" value="1"/>
        <Flags index="NoUnscaledTakenBonus" value="1"/>
        <Flags index="NoTakenMaximum" value="1"/>
        <Flags index="NoTakenMinimum" value="1"/>
        <Flags index="NoBehaviorResponse" value="1"/>
    </CEffectDamage>
    <CEffectEnumArea id="ACsiSearchAI" parent="ANsiSearchBase">
        <Marker Link="Effect/ACsiSearch"/>
        <SearchFilters value="HasEnergy;player,allies,neutral,mechanical,wall,tree,debris,item,structure,ward,dead,invulnerable,immunity"/>
        <AreaArray index="0" Radius="1.7578" Effect="ACsi"/>
    </CEffectEnumArea>
    <CEffectSet id="ACssMissileImpactSet">
        <EffectArray value="BEsh"/>
        <EffectArray value="ACssSpeedDecay"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANcsChannelDummy">
        <WhichUnit Value="Caster"/>
        <Behavior value="ANcs"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="ANcsStunSearchCursor" parent="War3_AbilSearch">
        <ValidatorArray value="CasterNoEngineeringUpgrade"/>
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Marker Link="Effect/ANcsStunSearch"/>
        <SearchFilters value="-;player,allies,air,wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable"/>
        <AreaArray Radius="1.5625" Effect="BNcs"/>
    </CEffectEnumArea>
    <CEffectLaunchMissile id="ANsyMissile">
        <ImpactLocation Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ANsyMissileImpactSet">
        <EffectArray value="nfac"/>
        <EffectArray value="nfa1"/>
        <EffectArray value="nfa2"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectCancelOrder id="CancelInventoryDropOrder">
        <AbilCmd value="AInv,Drop"/>
        <Flags index="Queued" value="1"/>
        <Flags index="Uninterruptible" value="1"/>
    </CEffectCancelOrder>
    <CEffectCancelOrder id="CancelInventoryMoveOrder">
        <AbilCmd value="AInv,Move"/>
        <Flags index="Queued" value="1"/>
        <Flags index="Uninterruptible" value="1"/>
    </CEffectCancelOrder>
    <CEffectCancelOrder id="CancelInventoryPawnInstantOrder">
        <AbilCmd value="AInv,PawnInstant"/>
        <Flags index="Queued" value="1"/>
        <Flags index="Uninterruptible" value="1"/>
    </CEffectCancelOrder>
    <CEffectSet id="War3_AbsorbResponseBypass">
        <EffectArray value=""/>
    </CEffectSet>
    <CEffectSet id="AraiEx">
        <EffectArray value="Arai"/>
        <EffectArray value="AraiCargo"/>
        <ValidatorArray value="RaiseDeadValidator"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AraiCargo">
        <EditorCategories value="Race:Undead"/>
        <Flags index="Channeled" value="1"/>
        <ValidatorArray value="TargetNotDead"/>
        <ExpireDelay value="1.5"/>
    </CEffectCreatePersistent>
    <CEffectSet id="Arai">
        <ValidatorArray value="RaiseDeadValidatorDeadCombie"/>
    </CEffectSet>
    <CEffectDamage id="BOhxInitDummy">
        <EditorCategories value=""/>
    </CEffectDamage>
    <CEffectApplyBehavior id="BUts"/>
    <CEffectSet id="BcrsEffectSet">
        <EffectArray value="BcrsMissChanceUsed"/>
        <EffectArray value="BcrsMiss33Chance"/>
        <ValidatorArray value="BcrsMissChanceNotUsed"/>
    </CEffectSet>
    <CEffectCancelOrder id="CancelAttackOrdersWar3Active">
        <Marker Link="Effect/CancelAttackOrdersWar3"/>
        <AbilCmd value="Aatk,Execute"/>
    </CEffectCancelOrder>
    <CEffectSet id="Drunk45EffectSet">
        <EffectArray value="BNdhMissChanceUsed"/>
        <EffectArray value="DrunkMiss45Chance"/>
        <ValidatorArray value="DrunkMissChanceNotUsed"/>
    </CEffectSet>
    <CEffectSet id="Drunk65EffectSet">
        <EffectArray value="BNdhMissChanceUsed"/>
        <EffectArray value="DrunkMiss65Chance"/>
        <ValidatorArray value="DrunkMissChanceNotUsed"/>
    </CEffectSet>
    <CEffectSet id="Drunk80EffectSet">
        <EffectArray value="BNdhMissChanceUsed"/>
        <EffectArray value="DrunkMiss80Chance"/>
        <ValidatorArray value="DrunkMissChanceNotUsed"/>
    </CEffectSet>
    <CEffectSet id="BladeMasterSlamControl"/>
    <CEffectApplyBehavior id="BladeMasterSlamControlBackstab"/>
    <CEffectApplyBehavior id="ChannelingSpell">
        <WhichUnit Value="Caster"/>
        <Behavior value="ChannelingWar3Abilites"/>
    </CEffectApplyBehavior>
    <CEffectEnumInventory id="DropInventory">
        <SearchFilters value="Item;-"/>
        <MaxCount value="255"/>
        <Effect value="DropItem"/>
    </CEffectEnumInventory>
    <CEffectTeleport id="DropItem">
        <TargetLocation Value="OuterPoint"/>
    </CEffectTeleport>
    <CEffectSet id="LumberMillBirthNotice">
        <EditorCategories value=""/>
    </CEffectSet>
    <CEffectRemoveBehavior id="RemoveAllPurgableBuffTrigger">
        <EditorCategories value="Race:Trigger"/>
        <BehaviorCategories index="Temporary" value="1"/>
        <BehaviorAlignment value="Positive"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="RemoveAPurgableBuffTrigger">
        <EditorCategories value="Race:Trigger"/>
        <BehaviorCategories index="Temporary" value="1"/>
        <BehaviorAlignment value="Positive"/>
        <Count value="1"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="RemoveAllPurgableDebufTrigger">
        <EditorCategories value="Race:Trigger"/>
        <BehaviorCategories index="Temporary" value="1"/>
        <BehaviorAlignment value="Negative"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="RemoveAPurgableDebuffTrigger">
        <EditorCategories value="Race:Trigger"/>
        <BehaviorCategories index="Temporary" value="1"/>
        <BehaviorAlignment value="Negative"/>
        <Count value="1"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="RemoveIncinerate">
        <WhichUnit Value="Source"/>
        <BehaviorLink value="BNic"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="RemoveSuppressInvisibility">
        <BehaviorLink value="SuppressInvisibility"/>
    </CEffectRemoveBehavior>
    <CEffectApplyBehavior id="SlamValidTarget" parent="War3_AugmentApply"/>
    <CEffectIssueOrder id="HostileAttackSummoned">
        <WhichUnit Value="Caster"/>
        <Abil value="Aatk"/>
        <Player Value="Caster"/>
        <Target Value="TargetUnit"/>
    </CEffectIssueOrder>
    <CEffectEnumArea id="HostileSearchSummoned">
        <ValidatorArray value="CreepNotSleeping"/>
        <ValidatorArray value="CasterIsAttackingWar3"/>
        <SearchFilters value="Visible,summoned;player,allies,neutral"/>
        <AreaArray Radius="3.9" Effect="HostileAttackSummoned"/>
        <MaxCount value="1"/>
        <MinCount value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="PointTargetSuicide">
        <EffectArray value="Suicide"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ShareVisibilitywithTarget">
        <WhichUnit Value="Caster"/>
        <Behavior value="ShareVisibility"/>
    </CEffectApplyBehavior>
    <CEffectSet id="Acmg"/>
    <CEffectSet id="Aret">
        <EditorCategories value="Race:Other,AbilityorEffectType:Item"/>
    </CEffectSet>
    <CEffectModifyUnit id="ArevMP100">
        <VitalArray index="Energy" Change="100"/>
    </CEffectModifyUnit>
    <CEffectEnumArea id="AutoEntangleSearch">
        <AreaArray Radius="5" Effect="AutoEntangle"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectIssueOrder id="AutoReplenish">
        <WhichUnit Value="Caster"/>
        <Abil value="Ambt"/>
        <CmdFlags index="SmartClick" value="1"/>
        <Player Value="Caster"/>
        <Target Value="TargetUnit"/>
    </CEffectIssueOrder>
    <CEffectSet id="AutoReplenishSet">
        <ValidatorArray value="LifeNotFullOrEnergyNotFull"/>
        <ValidatorArray value="CasterHasEnergy"/>
        <EffectArray value="AutoReplenish"/>
    </CEffectSet>
    <CEffectCancelOrder id="CancelAcmgControlMagic">
        <AbilCmd value="Acmg,Execute"/>
        <Flags index="Queued" value="1"/>
        <Flags index="Uninterruptible" value="1"/>
    </CEffectCancelOrder>
    <CEffectCancelOrder id="CancelUseTargetItem">
        <AbilCmd value="AInv,ItemTarget"/>
        <Flags index="Queued" value="1"/>
    </CEffectCancelOrder>
    <CEffectIssueOrder id="AutoEntangle">
        <WhichUnit Value="Caster"/>
        <Abil value="Aent"/>
        <Player Value="Caster"/>
        <Target Value="TargetUnitOrPoint"/>
    </CEffectIssueOrder>
    <CEffectIssueOrder id="CreepsBackHome">
        <EditorCategories value=""/>
        <Abil value="Amov"/>
        <Target Value="OriginPoint"/>
    </CEffectIssueOrder>
    <CEffectApplyBehavior id="GODMarker"/>
    <CEffectSet id="HealingWardTactSearchValidator">
        <ValidatorArray value="NotMoving"/>
        <ValidatorArray value="TargetLifeNotFull"/>
    </CEffectSet>
    <CEffectSet id="HeroDeathAlertSet">
        <ValidatorArray value="NoUseTestBuff"/>
    </CEffectSet>
    <CEffectSet id="HexTactSet">
        <EffectArray value="HexTactSet"/>
    </CEffectSet>
    <CEffectSet id="HumanBuildStartSet">
        <EffectArray value="WorkerBuildOutdoor"/>
    </CEffectSet>
    <CEffectTeleport id="HumanBuildTeleport">
        <EditorCategories value=""/>
        <WhichUnit Value="Caster"/>
        <ClearQueuedOrders value="0"/>
        <MinDistance value="0"/>
        <PlacementAround Value="TargetUnit"/>
        <PlacementRange value="8"/>
        <TargetLocation Value="TargetPoint"/>
        <TeleportFlags index="TestFog" value="0"/>
        <PlacementArc value="360"/>
    </CEffectTeleport>
    <CEffectRemoveBehavior id="RemoveSuppressXPGrantOnKill">
        <ValidatorArray value="TargetCantAttack"/>
        <BehaviorLink value="SuppressXPGrantOnKill"/>
    </CEffectRemoveBehavior>
    <CEffectApplyBehavior id="RetrainNoUse" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="RetrainSuppress"/>
    <CEffectIssueOrder id="SerpentAttackOrder">
        <ValidatorArray value="CasterIsNotAttackingTargetWar3"/>
        <Abil value="Aatk"/>
        <Target Value="TargetUnit"/>
    </CEffectIssueOrder>
    <CEffectEnumArea id="SerpentAttackTargetSearch">
        <SearchFilters value="Visible;player,allies,neutral,wall,tree,Missile,ethereal,dead,Hallucination,invulnerable"/>
        <TargetSorts>
            <SortArray value="ArmorTypeUnarmored"/>
            <SortArray value="ArmorTypeSmall"/>
            <SortArray value="TSLife"/>
        </TargetSorts>
        <AreaArray Radius="4.6" Effect="SerpentAttackOrder"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="SerpentWardTactSearch">
        <SearchFilters value="Visible;player,allies,neutral,wall,tree,Missile,ethereal,dead,Hallucination,invulnerable"/>
        <AreaArray Radius="4.6"/>
    </CEffectEnumArea>
    <CEffectCreatePersistent id="ShareVisibilitywithTargetDelay">
        <EditorCategories value=""/>
        <WhichLocation Value="TargetUnit"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="ShareVisibilitywithTarget"/>
    </CEffectCreatePersistent>
    <CEffectSet id="SmartEntangleSet">
        <EffectArray value="AutoEntangle"/>
    </CEffectSet>
    <CEffectCancelOrder id="StopAwha">
        <EditorCategories value="Race:Nightelf"/>
        <ValidatorArray value="OrderCountGT1"/>
        <AbilCmd value="Awha,Gather"/>
        <Flags index="Uninterruptible" value="1"/>
    </CEffectCancelOrder>
    <CEffectCancelOrder id="StopAaha">
        <EditorCategories value="Race:Undead"/>
        <ValidatorArray value="OrderCountGT1Caster"/>
        <AbilCmd value="Aaha,Execute"/>
        <Flags index="Uninterruptible" value="1"/>
        <WhichUnit Value="Caster"/>
    </CEffectCancelOrder>
    <CEffectApplyBehavior id="SuppressInvisibility" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectSet id="TactFilterEnemyHasPurgableBuffOrFriendHasPurgableDebuff">
        <ValidatorArray value="EnemyHasPurgableBuffOrFriendHasPurgableDebuff"/>
    </CEffectSet>
    <CEffectCreatePersistent id="TavernNoticeDelay">
        <ExpireDelay value="0.0625"/>
        <FinalEffect value="TavernNoticeFinal"/>
    </CEffectCreatePersistent>
    <CEffectSet id="TavernNoticeFinal"/>
    <CEffectSet id="War3_TriggerTOOMeleeImpactUnitTargetNotice"/>
    <CEffectApplyBehavior id="WorkerBuildHide">
        <WhichUnit Value="Caster"/>
        <Behavior value="War3_WorkerBuildHide"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="WorkerBuildOutdoor">
        <WhichUnit Value="Caster"/>
        <Behavior value="War3_WorkerBuildOutdoor"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="WorkerBuildUnhide">
        <WhichUnit Value="Caster"/>
        <BehaviorLink value="War3_WorkerBuildHide"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="WorkerBuildOutdoorEnd">
        <WhichUnit Value="Caster"/>
        <BehaviorLink value="War3_WorkerBuildOutdoor"/>
    </CEffectRemoveBehavior>
    <CEffectSet id="WorkerBuildOutdoorEndFinish">
        <EffectArray value="War3_WorkerBuildOutdoor"/>
    </CEffectSet>
    <CEffectModifyUnit id="ClearMana">
        <VitalArray index="Energy" ChangeFraction="-1"/>
    </CEffectModifyUnit>
    <CEffectDamage id="LocustHealSuicide">
        <ImpactLocation Value="CasterUnit"/>
        <Flags index="Kill" value="1"/>
        <Flags index="NoKillCredit" value="1"/>
    </CEffectDamage>
    <!--Alchemist - Healing Spray Buff=BNhs effect=XNhs-->
    <CEffectSet id="ACtbMissileImpactSet">
        <EffectArray value="AHtbDamage1"/>
        <EffectArray value="BHtb2s"/>
    </CEffectSet>
    <CEffectSet id="ANcaSphereEffect"/>
    <CEffectLaunchMissile id="ANcsMissile">
        <ImpactLocation Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="ANhsMissile">
        <ImpactLocation Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="ANstMissile">
        <LaunchLocation Value="SourcePoint"/>
        <ImpactLocation Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ANstMissileImpactSet">
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectLaunchMissile id="ANtmMissile">
        <ValidatorArray index="0" value="NonPowerfulMob"/>
    </CEffectLaunchMissile>
    <CEffectSet id="AOmiCopyTriggerDummy">
        <EditorCategories value="Race:Orc"/>
    </CEffectSet>
    <CEffectLaunchMissile id="AOmiMissile">
        <ImpactLocation Value="TargetPoint"/>
        <ImpactEffect value=""/>
        <FinishEffect value="AOmiCreateUnit"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="AOmiMissileNonMirror" parent="War3_AbilMissile">
        <AmmoUnit value="AOmiMissile"/>
        <ImpactLocation Value="TargetPoint"/>
        <ImpactEffect value=""/>
        <FinishEffect value="AOmiTeleport"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="AOs2Missile" parent="War3_AbilMissile">
        <ImpactLocation Value="TargetPoint"/>
        <LaunchEffect value="AOs2PersistentScanner"/>
        <ImpactEffect value="AOshMissileImpactSet"/>
        <AmmoUnit value="AOshMissile"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="AabsMissile">
        <LaunchLocation Value="TargetUnit"/>
        <ImpactLocation Value="CasterUnit"/>
        <LaunchEffect value="AabsLaunch"/>
    </CEffectLaunchMissile>
    <CEffectSet id="AabsMissileImpactSet">
        <EffectArray value="AabsImpact"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AahaHarvesting" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <ValidatorArray value="TargetIsHauntedGoldMine"/>
        <ValidatorArray value="LessThan5Gatherer"/>
        <ValidatorArray value="NotBeingUnsummon"/>
    </CEffectApplyBehavior>
    <CEffectLaunchMissile id="AdvmMissile">
        <ValidatorArray index="0" value="EnemyHasPurgableBuffOrFriendHasPurgableDebuff"/>
        <LaunchLocation Value="TargetUnit"/>
        <ImpactLocation Value="CasterUnit"/>
    </CEffectLaunchMissile>
    <CEffectSet id="AdvmMissileImpactSet">
        <EffectArray value="AdvmHeal"/>
    </CEffectSet>
    <CEffectSet id="AexhSpawn">
        <EditorCategories value="Race:Undead"/>
        <ValidatorArray value="IsCasterTransportNotFull"/>
    </CEffectSet>
    <CEffectDamage id="ANcaSplash1" parent="War3_HeroDamage">
        <ImpactLocation Value="TargetPoint"/>
        <Kind value="Melee"/>
        <AreaArray Radius="1.5625" Fraction="0.3"/>
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable"/>
    </CEffectDamage>
    <CEffectDamage id="ANcaSplash2" parent="War3_HeroDamage">
        <ImpactLocation Value="TargetPoint"/>
        <Kind value="Melee"/>
        <AreaArray Radius="1.5625" Fraction="0.55"/>
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable"/>
    </CEffectDamage>
    <CEffectDamage id="ANcaSplash3" parent="War3_HeroDamage">
        <ImpactLocation Value="TargetPoint"/>
        <Kind value="Melee"/>
        <AreaArray Radius="1.5625" Fraction="0.8"/>
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable"/>
    </CEffectDamage>
    <CEffectDamage id="ACceDamage" parent="War3_ChaosDamage">
        <Kind value="Melee"/>
        <AreaArray Radius="1.1718" Fraction="0.25"/>
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable"/>
    </CEffectDamage>
    <CEffectSet id="Aps2MissileImpactSet">
        <EffectArray value="AposControlled"/>
    </CEffectSet>
    <CEffectSet id="AraiSummonLv1">
        <EffectArray value="uskeX2"/>
    </CEffectSet>
    <CEffectSet id="AraiSummonLv2">
        <EffectArray value="uske"/>
        <EffectArray value="uskm"/>
    </CEffectSet>
    <CEffectSet id="AwebMissileImpactSet">
        <EffectArray value="Bwea"/>
    </CEffectSet>
    <!--Firelord - Incinerate Buff=BNic-->
    <CEffectApplyBehavior id="ANiaAugment" parent="War3_AugmentApply">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANiaImpactSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANiaImpact1"/>
        <EffectArray value="ANiaImpact2"/>
        <EffectArray value="ANiaImpact3"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANiaImpact1" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps"/>
        <ValidatorArray value="ANiaLevel0"/>
        <Behavior value="BNic"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANiaImpact2" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps"/>
        <ValidatorArray value="ANiaLevel1"/>
        <Behavior value="BNic"/>
        <Count value="2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANiaImpact3" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps"/>
        <ValidatorArray value="ANiaLevel2"/>
        <Behavior value="BNic"/>
        <Count value="3"/>
    </CEffectApplyBehavior>
    <CEffectCreatePersistent id="BNicDeathAoEDelay">
        <EditorCategories value="Race:Creeps"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <ExpireDelay value="0.2"/>
        <ExpireEffect value="BNicDeathAoESet"/>
    </CEffectCreatePersistent>
    <CEffectSet id="BNicDeathHandleSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="RemoveIncinerate"/>
        <EffectArray value="TargetRemoveTriggerRequest"/>
        <EffectArray value="BNicDeathAoEDelay"/>
    </CEffectSet>
    <CEffectSet id="BNicDeathAoESet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="BNicDeathAoEDamage1"/>
        <EffectArray value="BNicDeathAoEDamage2"/>
        <EffectArray value="BNicDeathAoEDamage3"/>
        <TargetLocationType value="UnitOrPoint"/>
    </CEffectSet>
    <CEffectDamage id="BNicDeathAoEDamage1" parent="War3_MagicSpellDamage">
        <ValidatorArray index="0" value="ANiaLevel0"/>
        <EditorCategories value="Race:Creeps"/>
        <Amount value="30"/>
        <AreaArray Radius="0.7812" Fraction="1"/>
        <AreaArray Radius="1.4062" Fraction="0.5"/>
        <SearchFilters value="-;player,allies,mechanical,wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable,immunity"/>
    </CEffectDamage>
    <CEffectDamage id="BNicDeathAoEDamage2" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Amount value="45"/>
        <ValidatorArray index="0" value="ANiaLevel1"/>
        <AreaArray Radius="0.7812" Fraction="1"/>
        <AreaArray Radius="1.4062" Fraction="0.5"/>
        <SearchFilters value="-;player,allies,mechanical,wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable,immunity"/>
    </CEffectDamage>
    <CEffectDamage id="BNicDeathAoEDamage3" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Amount value="60"/>
        <ValidatorArray index="0" value="ANiaLevel2"/>
        <AreaArray Radius="0.7812" Fraction="1"/>
        <AreaArray Radius="1.4062" Fraction="0.5"/>
        <SearchFilters value="-;player,allies,mechanical,wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable,immunity"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="CreatedCorpse">
        <EditorCategories value="Race:Undead,AbilityorEffectType:Unit"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="ForceExpoldeDeath">
        <LaunchLocation Value="TargetUnit"/>
        <ImpactLocation Value="SourceUnit"/>
        <Flags index="Kill" value="1"/>
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoFractionDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
        <Death value="Blast"/>
        <KillHallucination value="1"/>
    </CEffectDamage>
    <CEffectDamage id="KillXPGrant">
        <Flags index="Kill" value="1"/>
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoFractionDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
        <Flags index="NoDamageTimerReset" value="1"/>
        <ImpactLocation Value="TargetUnit"/>
        <LaunchLocation Value="CasterUnit"/>
    </CEffectDamage>
    <CEffectDamage id="MakeCorpse">
        <Flags index="Kill" value="1"/>
    </CEffectDamage>
    <CEffectRemoveBehavior id="RemoveAsacChanneling">
        <WhichUnit Value="Caster"/>
        <BehaviorLink value="AsacChanneling"/>
    </CEffectRemoveBehavior>
    <CEffectDamage id="AmedSuicideTarget">
        <EditorCategories value="Race:Undead"/>
        <LaunchLocation Value="TargetUnit"/>
        <ImpactLocation Value="TargetUnit"/>
        <Flags index="Kill" value="1"/>
        <Flags index="NoKillCredit" value="1"/>
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoFractionDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
    </CEffectDamage>
    <CEffectDamage id="TriggerCallForHelp">
        <ResponseFlags index="Acquire" value="1"/>
        <Flags index="Notification" value="1"/>
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoFractionDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
        <Flags index="NoDealtMaximum" value="1"/>
        <Flags index="NoDealtMinimum" value="1"/>
        <Flags index="NoBehaviorResponse" value="1"/>
        <AreaArray Radius="4"/>
        <SearchFlags index="CallForHelp" value="1"/>
        <SearchFilters value="-;player,allies,neutral"/>
        <LaunchLocation Value="TargetUnitOrPoint"/>
        <Visibility value="Visible"/>
    </CEffectDamage>
    <CEffectDamage id="TriggerWakeUpdamage">
        <ResponseFlags index="Acquire" value="1"/>
        <Flags index="Notification" value="1"/>
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoFractionDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
        <Flags index="NoDealtMaximum" value="1"/>
        <Flags index="NoDealtMinimum" value="1"/>
        <Flags index="NoBehaviorResponse" value="1"/>
        <SearchFlags index="CallForHelp" value="1"/>
        <SearchFilters value="-;player,allies,neutral"/>
        <LaunchLocation Value="TargetUnitOrPoint"/>
    </CEffectDamage>
    <CEffectCancelOrder id="CancelAttackOrdersWar3">
        <AbilCmd value="Aatk,Execute"/>
        <Flags index="Queued" value="1"/>
    </CEffectCancelOrder>
    <CEffectSet id="RemoveAllNonPermanentTriggerDummy"/>
    <CEffectDamage id="TriggerHeroRangedDamageNoBonus" parent="War3_HeroDamage">
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
        <Flags index="NoDealtMaximum" value="1"/>
    </CEffectDamage>
    <CEffectDamage id="TriggerHeroMeleeDamageNoBonus" parent="War3_HeroDamage">
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoFractionDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
        <Kind value="Melee"/>
    </CEffectDamage>
    <CEffectCreateHealer id="TriggerInstantHeal" parent="War3_InstantHeal"/>
    <CEffectSet id="otau1Crit">
        <EffectArray value="otau1"/>
        <EffectArray value="AwarAoEDamage"/>
    </CEffectSet>
    <CEffectDamage id="AwarAoEDamage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <AreaArray Radius="1.9531" Bonus="60" Fraction="1"/>
        <AreaArray Radius="2.7343" Bonus="30" Fraction="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,debris,item,structure,ward,dead,invulnerable"/>
        <ExcludeArray index="0" removed="1"/>
    </CEffectDamage>
    <CEffectModifyUnit id="AIh1">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life" Change="250"/>
        <ValidatorArray value="CasterLifeNotFull"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AIh2">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life" Change="500"/>
        <ValidatorArray value="CasterLifeNotFull"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AIre">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life" Change="200"/>
        <ValidatorArray value="CasterLifeNotFull"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AIm1">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Energy" Change="150"/>
        <ValidatorArray value="TargetEnergyNotFull"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AIm2">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Energy" Change="300"/>
        <ValidatorArray value="TargetEnergyNotFull"/>
    </CEffectModifyUnit>
    <CEffectSet id="Adis">
        <EffectArray value="AdisSearch"/>
        <EffectArray value="DispelOwlR200"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectSet id="AensMissileImpactSet">
        <EffectArray value="Aens"/>
    </CEffectSet>
    <CEffectSet id="AesnMissileImpactSet">
        <EffectArray value="XEsn"/>
    </CEffectSet>
    <CEffectCreateUnit id="Amec" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other"/>
        <SpawnEffect value="Bmec"/>
        <SpawnUnit value="nshe"/>
    </CEffectCreateUnit>
    <CEffectModifyUnit id="AmecMimic">
        <EditorCategories value="Race:Other"/>
        <ModifyFlags index="Mimic" value="1"/>
    </CEffectModifyUnit>
    <CEffectCreateHealer id="Arep">
        <ValidatorArray value="MechanicalOrPreventDefeat"/>
    </CEffectCreateHealer>
    <CEffectModifyUnit id="BIrlHealTick">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life" Change="5"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="BIrm" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
        <ValidatorArray value="EnergyNotFullCaster"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BIrm200" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
        <ValidatorArray value="EnergyNotFullCaster"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="BIrmHealTick">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Energy" Change="3.3334"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="BIrm200HealTick">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Energy" Change="3.3334"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="Bmec" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <CEffectDestroyPersistent id="DispelOwlSingle">
        <WhichLocation Value="TargetUnit"/>
        <Effect value="XEsn"/>
    </CEffectDestroyPersistent>
    <CEffectDestroyPersistent id="DispelOwlR200">
        <WhichLocation Value="TargetUnitOrPoint"/>
        <Effect value="XEsn"/>
        <Radius value="1.5625"/>
    </CEffectDestroyPersistent>
    <CEffectDestroyPersistent id="DispelOwlR250">
        <WhichLocation Value="TargetUnitOrPoint"/>
        <Effect value="XEsn"/>
        <Radius value="1.9531"/>
    </CEffectDestroyPersistent>
    <CEffectModifyUnit id="ReviveTarget">
        <ModifyFlags index="Revive" value="1"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="AHdrDrainLauncherBuff">
        <EditorCategories value="Race:Human"/>
        <Behavior value="Bdcm"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AHdrDrainImpactBuff">
        <EditorCategories value="Race:Human"/>
        <Behavior value="Bdtm"/>
        <WhichUnit Value="Caster"/>
        <KillHallucination value="1"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="AHdrManaDecay">
        <EditorCategories value="Race:Human"/>
        <ImpactUnit Value="Caster"/>
        <VitalArray index="Energy" Change="-3"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="AHdrTransferLauncherBuff">
        <EditorCategories value="Race:Human"/>
        <Behavior value="Bdcm"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AHdrTransferImpactBuff">
        <EditorCategories value="Race:Human"/>
        <Behavior value="Bdtm"/>
        <KillHallucination value="1"/>
    </CEffectApplyBehavior>
    <CEffectCreateHealer id="AHdrDrainMana1" parent="AHdrDrainManaBase">
        <RechargeVitalRate value="15"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="AHdrDrainMana2" parent="AHdrDrainManaBase">
        <RechargeVitalRate value="30"/>
        <ValidatorArray value="AHdrLevel1"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="AHdrDrainMana3" parent="AHdrDrainManaBase">
        <RechargeVitalRate value="45"/>
        <ValidatorArray value="AHdrLevel2"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="AHdrTransferMana1" parent="AHdrTransferManaBase">
        <RechargeVitalRate value="30"/>
        <ValidatorArray value="AHdrLevel0"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="AHdrTransferMana2" parent="AHdrTransferManaBase">
        <RechargeVitalRate value="60"/>
        <ValidatorArray value="AHdrLevel1"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="AHdrTransferMana3" parent="AHdrTransferManaBase">
        <RechargeVitalRate value="90"/>
        <ValidatorArray value="AHdrLevel2"/>
    </CEffectCreateHealer>
    <CEffectDamage id="AHfsTreeKiller" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Human"/>
        <Flags index="Kill" value="1"/>
        <ValidatorArray value="IsTreeWar3"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="BFig"/>
    <CEffectApplyBehavior id="Bdbm">
        <EditorCategories value="Race:Human"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="BdbmRemoveHalfMana">
        <EditorCategories value="Race:Human"/>
        <VitalArray index="Energy" ChangeFraction="-0.5"/>
    </CEffectModifyUnit>
    <CEffectSet id="AEpa">
        <ValidatorArray index="0" removed="1"/>
    </CEffectSet>
    <CEffectDamage id="AHbhExtraDamage" parent="War3_HeroDamage">
        <EditorCategories value="Race:Human"/>
        <Amount value="25"/>
        <ResponseFlags index="Acquire" value="0"/>
        <ResponseFlags index="Flee" value="0"/>
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
        <SearchFlags index="CallForHelp" value="0"/>
    </CEffectDamage>
    <CEffectCreatePersistent id="AHfs">
        <EditorCategories value="Race:Human"/>
        <Flags index="Channeled" value="1"/>
        <ExpireDelay value="1.33"/>
        <ExpireEffect value="AHfsActualEffect"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AHfsActualEffect">
        <EditorCategories value="Race:Human"/>
        <InitialEffect value="AHfsFullDamageSearch"/>
        <ExpireEffect value="AHfsSubsides"/>
        <PeriodCount value="8"/>
        <PeriodicEffectArray value="AHfsFullDamageSearch"/>
        <PeriodicPeriodArray value="0.33"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="AHfsFullDamage1" parent="AHfsAOEDamageBase">
        <ValidatorArray value="AHfsLevel0"/>
        <Amount value="15"/>
    </CEffectDamage>
    <CEffectDamage id="AHfsFullDamage2" parent="AHfsAOEDamageBase">
        <ValidatorArray value="AHfsLevel1"/>
        <Amount value="26.67"/>
    </CEffectDamage>
    <CEffectDamage id="AHfsFullDamage3" parent="AHfsAOEDamageBase">
        <ValidatorArray value="AHfsLevel2"/>
        <Amount value="36.67"/>
    </CEffectDamage>
    <CEffectDamage id="AHfsHalfDamage1" parent="AHfsAOEDamageBase">
        <ValidatorArray value="AHfsLevel0"/>
        <Amount value="4"/>
    </CEffectDamage>
    <CEffectDamage id="AHfsHalfDamage2" parent="AHfsAOEDamageBase">
        <ValidatorArray value="AHfsLevel1"/>
        <Amount value="6"/>
    </CEffectDamage>
    <CEffectDamage id="AHfsHalfDamage3" parent="AHfsAOEDamageBase">
        <ValidatorArray value="AHfsLevel2"/>
        <Amount value="8"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="BHfs">
        <EditorCategories value="Race:Human"/>
        <ValidatorArray index="0" value="NotBuilding_War3"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="AHfsFullDamageSearch">
        <EditorCategories value="Race:Human"/>
        <AreaArray Radius="1.5625" Effect="AHfsFullDamageSet"/>
        <SearchFilters value="-;air,wall,Missile,item,ward,dead,Hidden,invulnerable,immunity"/>
        <MaxCount value="6"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AHfsHalfDamageSearch">
        <EditorCategories value="Race:Human"/>
        <AreaArray Radius="1.5625" Effect="AHfsHalfDamageSet"/>
        <SearchFilters value="-;air,wall,Missile,item,ward,dead,Hidden,invulnerable,immunity"/>
    </CEffectEnumArea>
    <CEffectSet id="AHfsFullDamageSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHfsFullDamage1"/>
        <EffectArray value="AHfsFullDamage2"/>
        <EffectArray value="AHfsFullDamage3"/>
        <EffectArray value="AHfsTreeKiller"/>
        <EffectArray value="BHfs"/>
    </CEffectSet>
    <CEffectSet id="AHfsHalfDamageSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHfsHalfDamage1"/>
        <EffectArray value="AHfsHalfDamage2"/>
        <EffectArray value="AHfsHalfDamage3"/>
        <EffectArray value="BHfs"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AHfsSubsides">
        <EditorCategories value="Race:Human"/>
        <PeriodCount value="6"/>
        <PeriodicPeriodArray value="1"/>
        <PeriodicEffectArray value="AHfsHalfDamageSearch"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="AHtbDamage1" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Human"/>
        <ValidatorArray value="AHtbLevel0"/>
        <Amount value="100"/>
    </CEffectDamage>
    <CEffectDamage id="AHtbDamage2" parent="War3_MagicSpellDamage">
        <ValidatorArray value="AHtbLevel1"/>
        <EditorCategories value="Race:Human"/>
        <Amount value="225"/>
    </CEffectDamage>
    <CEffectDamage id="AHtbDamage3" parent="War3_MagicSpellDamage">
        <ValidatorArray value="AHtbLevel2"/>
        <EditorCategories value="Race:Human"/>
        <Amount value="350"/>
    </CEffectDamage>
    <CEffectLaunchMissile id="AHtbMissile">
        <EditorCategories value="Race:Human"/>
        <ImpactEffect value="AHtbMissileDamage"/>
    </CEffectLaunchMissile>
    <CEffectSet id="AHtbMissileDamage">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHtbDamage1"/>
        <EffectArray value="AHtbDamage2"/>
        <EffectArray value="AHtbDamage3"/>
        <EffectArray value="BHtb"/>
        <ValidatorArray value="TargetIsVisible"/>
    </CEffectSet>
    <CEffectDamage id="AHtcDamage1" parent="War3_MagicSpellDamage">
        <ValidatorArray value="AHtcLevel0"/>
        <EditorCategories value="Race:Human"/>
        <Amount value="60"/>
    </CEffectDamage>
    <CEffectDamage id="AHtcDamage2" parent="War3_MagicSpellDamage">
        <ValidatorArray value="AHtcLevel1"/>
        <EditorCategories value="Race:Human"/>
        <Amount value="100"/>
    </CEffectDamage>
    <CEffectDamage id="AHtcDamage3" parent="War3_MagicSpellDamage">
        <ValidatorArray value="AHtcLevel2"/>
        <EditorCategories value="Race:Human"/>
        <Amount value="140"/>
    </CEffectDamage>
    <CEffectEnumArea id="AHtc1Search">
        <EditorCategories value="Race:Human"/>
        <AreaArray Radius="1.9531" Effect="BHtc"/>
        <SearchFilters value="-;player,allies,air,mechanical,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable,immunity"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AHtc2Search">
        <EditorCategories value="Race:Human"/>
        <AreaArray Radius="2.3437" Effect="BHtc"/>
        <SearchFilters value="-;player,allies,air,mechanical,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable,immunity"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AHtc3Search">
        <EditorCategories value="Race:Human"/>
        <AreaArray Radius="2.7343" Effect="BHtc"/>
        <SearchFilters value="-;player,allies,air,mechanical,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable,immunity"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="AHtcDamageSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHtcDamage1"/>
        <EffectArray value="AHtcDamage2"/>
        <EffectArray value="AHtcDamage3"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AHbn1HeroDur" parent="War3_HeroDur" buff="BHbn">
        <Duration value="4"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AHbn1Dur" parent="War3_Dur" buff="BHbn">
        <Duration value="12"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AHbn1" parent="War3_DurSet">
        <ValidatorArray value="NonSapper"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AHbn2HeroDur" parent="War3_HeroDur" buff="BHbn">
        <Duration value="5"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AHbn2Dur" parent="War3_Dur" buff="BHbn">
        <Duration value="15"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AHbn2" parent="War3_DurSet">
        <ValidatorArray value="NonSapper"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AHbn3HeroDur" parent="War3_HeroDur" buff="BHbn">
        <Duration value="6"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AHbn3Dur" parent="War3_Dur" buff="BHbn">
        <Duration value="18"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AHbn3" parent="War3_DurSet">
        <ValidatorArray value="NonSapper"/>
    </CEffectSet>
    <CEffectLaunchMissile id="AsphMissile">
        <ImpactEffect value=""/>
        <ImpactLocation Value="TargetUnitOrPoint"/>
    </CEffectLaunchMissile>
    <CEffectApplyBehavior id="BHtc">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AdefVisualDummy">
        <EditorCategories value="Race:Human"/>
    </CEffectSet>
    <CEffectCreatePersistent id="Andt">
        <ExpireDelay value="6"/>
        <RevealRadius value="7.0312"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;PreventDefeat,Hidden"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AHta">
        <EditorCategories value="Race:Human"/>
        <ExpireDelay value="15"/>
        <RevealRadius value="7.0312"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;PreventDefeat,Hidden"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AIta">
        <ExpireDelay value="10"/>
        <RevealRadius value="7.0312"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;PreventDefeat,Hidden"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="AfbkDamageUnit" parent="War3_SpellDamage">
        <ValidatorArray value="NonHero"/>
        <EditorCategories value="Race:Human"/>
        <VitalBonus index="Energy" value="20"/>
    </CEffectDamage>
    <CEffectDamage id="AfbkDamageHero" parent="War3_SpellDamage">
        <ValidatorArray value="Hero"/>
        <EditorCategories value="Race:Human"/>
        <VitalBonus index="Energy" value="4"/>
    </CEffectDamage>
    <CEffectModifyUnit id="AfbkManaLoseUnit">
        <ValidatorArray value="NonHero"/>
        <VitalArray index="Energy" Change="-20"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AfbkManaLoseHero">
        <EditorCategories value="Race:Human"/>
        <ValidatorArray value="Hero"/>
        <VitalArray index="Energy" Change="-4"/>
    </CEffectModifyUnit>
    <CEffectSet id="AfbkSphereEffect">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AfbkDamageUnit"/>
        <EffectArray value="AfbkDamageHero"/>
        <EffectArray value="AfbkManaLoseUnit"/>
        <EffectArray value="AfbkManaLoseHero"/>
    </CEffectSet>
    <CEffectDamage id="AfbtDamageUnit" parent="War3_SpellDamage">
        <ValidatorArray value="NonHero"/>
        <EditorCategories value="Race:Human"/>
        <VitalBonus index="Energy" value="24"/>
    </CEffectDamage>
    <CEffectDamage id="AfbtDamageHero" parent="War3_SpellDamage">
        <ValidatorArray value="Hero"/>
        <EditorCategories value="Race:Human"/>
        <VitalBonus index="Energy" value="12"/>
    </CEffectDamage>
    <CEffectDamage id="AfbtDamageSummoned" parent="War3_SpellDamage">
        <ValidatorArray value="IsSummonedOrHallucination"/>
        <EditorCategories value="Race:Human"/>
        <Amount value="20"/>
    </CEffectDamage>
    <CEffectModifyUnit id="AfbtManaLoseUnit">
        <ValidatorArray value="NonHero"/>
        <VitalArray index="Energy" Change="-24"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AfbtManaLoseHero">
        <EditorCategories value="Race:Human"/>
        <ValidatorArray value="Hero"/>
        <VitalArray index="Energy" Change="-12"/>
    </CEffectModifyUnit>
    <CEffectSet id="AfbtSphereEffect">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AfbtDamageUnit"/>
        <EffectArray value="AfbtDamageHero"/>
        <EffectArray value="AfbtManaLoseUnit"/>
        <EffectArray value="AfbtManaLoseHero"/>
        <EffectArray value="AfbtDamageSummoned"/>
    </CEffectSet>
    <CEffectDamage id="AflkSphereEffect" parent="War3_PierceDamage">
        <EditorCategories value="Race:Human"/>
        <AreaArray Radius="0.586" Bonus="7" Fraction="1"/>
        <AreaArray Radius="1.1718" Bonus="6" Fraction="1"/>
        <AreaArray Radius="2.539" Bonus="5" Fraction="1"/>
        <SearchFilters value="-;player,allies,ground,wall,tree,Missile,debris,item,structure,ward,ethereal,dead,Hidden,invulnerable"/>
    </CEffectDamage>
    <CEffectDamage id="AfshSphereEffect" parent="War3_SiegeDamage">
        <EditorCategories value="Race:Human"/>
        <AreaArray Radius="0.7812" Bonus="25" Fraction="1"/>
        <AreaArray Radius="2.1484" Bonus="18" Fraction="1"/>
        <AreaArray Radius="1.9531" Bonus="12" Fraction="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,Missile,debris,item,structure,ward,ethereal,dead,Hidden,invulnerable"/>
        <AttributeFactor index="small" value="-1"/>
        <AttributeFactor index="divine" value="-1"/>
        <AttributeFactor index="large" value="-1"/>
        <AttributeFactor index="hero" value="-1"/>
        <AttributeFactor index="fortified" value="-1"/>
    </CEffectDamage>
    <CEffectDamage id="ApxfDamageDPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Human"/>
        <Amount value="2"/>
    </CEffectDamage>
    <CEffectLaunchMissile id="ApxfMissile">
        <EditorCategories value="Race:Human"/>
        <ValidatorArray index="0" value="NoPhoenixFire"/>
        <ImpactEffect value="Bpxf"/>
    </CEffectLaunchMissile>
    <CEffectDamage id="ApxfMissileDamage">
        <ValidatorArray value="MagicDamageTargetFilter"/>
        <EditorCategories value="Race:Human"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <AttributeFactor index="divine" value="-0.95"/>
        <AttributeFactor index="hero" value="-0.3"/>
        <Amount value="20"/>
        <ExcludeArray Value="Target"/>
        <SearchFlags index="CallForHelp" value="1"/>
        <SearchFlags index="SameCliff" value="0"/>
        <DisplayFlags index="CollapseBuffed" value="1"/>
    </CEffectDamage>
    <CEffectEnumArea id="ApxfSearch">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="-;player,allies,neutral,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable,Passive,immunity"/>
        <AreaArray Radius="4.6875" Effect="ApxfMissile"/>
        <MaxCount value="1"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="Asps">
        <ValidatorArray value="EnemyHasPurgableBuffOrFriendHasPurgableDebuff"/>
        <EditorCategories value="Race:Human"/>
    </CEffectSet>
    <CEffectModifyUnit id="AspsBuffImpact"/>
    <CEffectLaunchMissile id="AspsBuffMissile" parent="War3_Missile">
        <ValidatorArray index="0" value="SpellStealFinalTarget"/>
        <EditorCategories value="Race:Human"/>
        <ImpactEffect value="AspsBuffImpact"/>
        <AmmoUnit value="AspsMissile"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="AspsMissile">
        <ValidatorArray index="0" value="SpellStealFinalTarget"/>
        <EditorCategories value="Race:Human"/>
        <ImpactEffect value="AspsMissileDamage"/>
    </CEffectLaunchMissile>
    <CEffectDamage id="AspsMissileDamage"/>
    <CEffectApplyBehavior id="BHbh">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AHbhSphereEffect">
        <ValidatorArray value="NotBuilding_War3"/>
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHbhExtraDamage"/>
        <EffectArray value="BHbh"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BHtb">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Binf" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Binv"/>
    <CEffectApplyBehavior id="Bivs">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectSet id="Aivs">
        <ValidatorArray value="NonSapper"/>
        <EditorCategories value="Race:Human"/>
        <EffectArray value="RemoveSuppressInvisibility"/>
        <EffectArray value="Bivs"/>
        <EffectArray value="BinvDelay"/>
    </CEffectSet>
    <CEffectCreatePersistent id="BinvDelay">
        <FinalEffect value="Binv"/>
        <ExpireDelay value="0.0625"/>
        <WhichLocation Value="TargetUnit"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="Bply" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
        <ValidatorArray index="0" value="NotHaveGhost"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="BplyInitDummy">
        <EditorCategories value="Race:Human"/>
        <ValidatorArray value="IsInAir"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="Bpxf" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Bslo" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectSet id="DispelAllBuffsAndHurtEnemySummoned200">
        <EffectArray value="DispelAnyBuffs"/>
        <EffectArray value="HurtEnemySummoned200"/>
    </CEffectSet>
    <CEffectSet id="DispelAllBuffsAndHurtEnemySummoned250">
        <EffectArray value="DispelAnyBuffs"/>
        <EffectArray value="HurtEnemySummoned250"/>
    </CEffectSet>
    <CEffectSet id="DispelAllBuffsAndHurtEnemySummoned150AndDispelOwl">
        <EffectArray value="DispelAnyBuffs"/>
        <EffectArray value="HurtEnemySummoned150"/>
        <EffectArray value="DispelOwlSingle"/>
    </CEffectSet>
    <CEffectSet id="DispelAllBuffsAndHurtEnemySummoned180AndDispelOwl">
        <EffectArray value="DispelAnyBuffs"/>
        <EffectArray value="HurtEnemySummoned180"/>
        <EffectArray value="DispelOwlSingle"/>
    </CEffectSet>
    <CEffectSet id="DispelAllBuffsAndHurtEnemySummoned400AndDispelOwl">
        <EffectArray value="DispelAnyBuffs"/>
        <EffectArray value="HurtEnemySummoned400"/>
        <EffectArray value="DispelOwlSingle"/>
    </CEffectSet>
    <CEffectSet id="DispelAllEnemyBuffsAndFriendDebuffAndHurtEnemySummoned300AndDispelOwl">
        <EffectArray value="DispelAllEnemyBuffsAndFriendDebuffTriggerNotice"/>
        <EffectArray value="HurtEnemySummoned300"/>
        <EffectArray value="DispelOwlSingle"/>
    </CEffectSet>
    <CEffectSet id="DispelAllEnemyBuffsAndFriendDebuffTriggerNotice"/>
    <CEffectSet id="Hmbr1Crit">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="Hmbr1"/>
        <EffectArray value="AHbhSphereEffect"/>
    </CEffectSet>
    <CEffectSet id="Hmbr2Crit">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="Hmbr2"/>
        <EffectArray value="AHbhSphereEffect"/>
    </CEffectSet>
    <CEffectSet id="Hmkg1Crit">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="Hmkg1"/>
        <EffectArray value="AHbhSphereEffect"/>
    </CEffectSet>
    <CEffectSet id="Hmkg2Crit">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="Hmkg2"/>
        <EffectArray value="AHbhSphereEffect"/>
    </CEffectSet>
    <CEffectSet id="ngz21Crit">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ngz21"/>
        <EffectArray value="AHbhSphereEffect"/>
    </CEffectSet>
    <CEffectSet id="ngz22Crit">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ngz22"/>
        <EffectArray value="AHbhSphereEffect"/>
    </CEffectSet>
    <CEffectSet id="ngz31Crit">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ngz31"/>
        <EffectArray value="AHbhSphereEffect"/>
    </CEffectSet>
    <CEffectSet id="ngz32Crit">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ngz32"/>
        <EffectArray value="AHbhSphereEffect"/>
    </CEffectSet>
    <CEffectSet id="ngzd1Crit">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ngzd1"/>
        <EffectArray value="AHbhSphereEffect"/>
    </CEffectSet>
    <CEffectSet id="ngzd2Crit">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ngzd2"/>
        <EffectArray value="AHbhSphereEffect"/>
    </CEffectSet>
    <CEffectSet id="AHdr">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHdrDrainInit"/>
        <EffectArray value="AHdrTransferSet"/>
        <EffectArray value="ChannelingSpell"/>
        <ValidatorArray value="AHdrTargetFilter"/>
    </CEffectSet>
    <CEffectSet id="AHdrDrainSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHdrDrainMana1"/>
        <EffectArray value="AHdrDrainMana2"/>
        <EffectArray value="AHdrDrainMana3"/>
        <EffectArray value="AHdrDrainImpactBuff"/>
        <EffectArray value="AHdrDrainLauncherBuff"/>
        <EffectArray value="Bdbm"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AHdrDrainInit">
        <EditorCategories value="Race:Human"/>
        <FinalEffect value="AHdrDrainSet"/>
        <ValidatorArray value="AHdrDrainTarget"/>
        <Flags index="Channeled" value="1"/>
        <ExpireDelay value="0.0625"/>
        <WhichLocation Value="TargetUnit"/>
    </CEffectCreatePersistent>
    <CEffectSet id="AHdrTransferSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHdrTransferMana1"/>
        <EffectArray value="AHdrTransferMana2"/>
        <EffectArray value="AHdrTransferMana3"/>
        <EffectArray value="AHdrTransferImpactBuff"/>
        <EffectArray value="AHdrTransferLauncherBuff"/>
        <ValidatorArray value="AHdrTransferTarget"/>
    </CEffectSet>
    <CEffectEnumArea id="AclfSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="structure;wall,tree,Missile,debris,item,ward,dead,Hidden,immunity"/>
        <AreaArray Radius="2.3437" Effect="Bclf"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AdisSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="-;wall,Missile,debris,item,dead,Hidden"/>
        <AreaArray Radius="1.5625" Effect="DispelAllBuffsAndHurtEnemySummoned200"/>
        <ImpactLocation Value="TargetPoint"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="Bcmg" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="DispelAnyBuffs">
        <AINotifyFlags index="HelpFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <BehaviorCategories index="Temporary" value="1"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="DispelEnemyBuffs">
        <ValidatorArray index="0" value="IsEnemy"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <BehaviorCategories index="Temporary" value="1"/>
        <BehaviorAlignment value="Positive"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="DispelFriendDeBuffs">
        <ValidatorArray index="0" value="IsNotEnemy"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <BehaviorCategories index="Temporary" value="1"/>
        <BehaviorAlignment value="Negative"/>
    </CEffectRemoveBehavior>
    <CEffectDamage id="HurtEnemySummoned150" parent="War3_MagicSpellDamage">
        <ValidatorArray value="IsSummonedOrHallucination"/>
        <ValidatorArray value="IsEnemy"/>
        <ValidatorArray value="NotInvulnerable"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Amount value="150"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectDamage id="HurtEnemySummoned180" parent="War3_MagicSpellDamage">
        <ValidatorArray value="IsSummonedOrHallucination"/>
        <ValidatorArray value="IsEnemy"/>
        <ValidatorArray value="NotInvulnerable"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Amount value="180"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectDamage id="HurtEnemySummoned200" parent="War3_MagicSpellDamage">
        <ValidatorArray value="IsSummonedOrHallucination"/>
        <ValidatorArray value="IsEnemy"/>
        <ValidatorArray value="NotInvulnerable"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Amount value="200"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectDamage id="HurtEnemySummoned250" parent="War3_MagicSpellDamage">
        <ValidatorArray value="IsSummonedOrHallucination"/>
        <ValidatorArray value="IsEnemy"/>
        <ValidatorArray value="NotInvulnerable"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Amount value="250"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectDamage id="HurtEnemySummoned300" parent="War3_MagicSpellDamage">
        <ValidatorArray value="IsSummonedOrHallucination"/>
        <ValidatorArray value="IsEnemy"/>
        <ValidatorArray value="NotInvulnerable"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Amount value="300"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectDamage id="HurtEnemySummoned225" parent="War3_MagicSpellDamage">
        <ValidatorArray value="IsSummonedOrHallucination"/>
        <ValidatorArray value="IsEnemy"/>
        <ValidatorArray value="NotInvulnerable"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Amount value="225"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectDamage id="HurtEnemySummoned400" parent="War3_MagicSpellDamage">
        <ValidatorArray value="IsSummonedOrHallucination"/>
        <ValidatorArray value="IsEnemy"/>
        <ValidatorArray value="NotInvulnerable"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
        <Amount value="400"/>
        <Death value="Timeout"/>
    </CEffectDamage>
    <CEffectDamage id="SuicideImpact">
        <ImpactLocation Value="SourceUnit"/>
        <Flags index="Kill" value="1"/>
        <Death value="Impact"/>
    </CEffectDamage>
    <CEffectDamage id="SuicideImpactCaster">
        <ImpactLocation Value="CasterUnit"/>
        <Flags index="Kill" value="1"/>
        <Death value="Impact"/>
    </CEffectDamage>
    <CEffectDamage id="UniqueSummonedDeath">
        <Flags index="Kill" value="1"/>
        <Flags index="NoKillCredit" value="1"/>
        <Flags index="NoGain" value="1"/>
        <Flags index="NoScaledDealtBonus" value="1"/>
        <Flags index="NoFractionDealtBonus" value="1"/>
        <Flags index="NoUnscaledDealtBonus" value="1"/>
        <Flags index="NoDealtMaximum" value="1"/>
        <Flags index="NoDealtMinimum" value="1"/>
        <Flags index="NoBehaviorResponse" value="1"/>
        <Flags index="NoVitalGainEnergy" value="1"/>
        <Death value="Timeout"/>
        <ImpactLocation Value="CasterUnit"/>
    </CEffectDamage>
    <CEffectSet id="UniqueSummonedDeathRemove">
        <EffectArray value="UniqueSummonedDeath"/>
    </CEffectSet>
    <CEffectSet id="XclfInitSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="ChannelingSpell"/>
        <EffectArray value="AclfSearch"/>
    </CEffectSet>
    <CEffectCreatePersistent id="Xclf">
        <EditorCategories value="Race:Human"/>
        <Flags index="Channeled" value="1"/>
        <InitialEffect value="XclfInitSet"/>
        <PeriodicEffectArray value="AclfSearch"/>
        <PeriodicPeriodArray value="1"/>
        <PeriodCount value="30"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="Amls">
        <EditorCategories value="Race:Human"/>
        <WhichLocation Value="TargetUnit"/>
        <Flags index="Channeled" value="1"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
        <InitialEffect value="Bmlt"/>
        <PeriodicValidator value="TargetHasBmlt"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="Xfla">
        <EditorCategories value="Race:Human"/>
        <InitialDelay value="0.8"/>
        <ExpireDelay value="15"/>
        <RevealRadius value="14.0625"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;PreventDefeat,Hidden"/>
    </CEffectCreatePersistent>
    <CEffectRemoveBehavior id="BmlcRemove">
        <EditorCategories value="Race:Human"/>
        <WhichUnit Value="Caster"/>
        <BehaviorLink value="Bmlc"/>
    </CEffectRemoveBehavior>
    <CEffectSet id="LoseLevelEvent"/>
    <CEffectApplyBehavior id="Bmlc" parent="War3_ApplyBuff">
        <WhichUnit Value="Caster"/>
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Bmlt" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectIssueOrder id="OrderMorphToPeasant">
        <EditorCategories value="Race:Human"/>
        <Abil value="MorphToPeasant"/>
        <CmdFlags index="Preempt" value="1"/>
    </CEffectIssueOrder>
    <CEffectIssueOrder id="OrderMorphToMilitia">
        <EditorCategories value="Race:Human"/>
        <Abil value="MorphToMilitia"/>
        <CmdFlags index="Preempt" value="1"/>
    </CEffectIssueOrder>
    <CEffectIssueOrder id="OrderSwapToMilitia">
        <EditorCategories value="Race:Human"/>
        <ValidatorArray value="QualifiedPeasant"/>
        <WhichUnit Value="Caster"/>
        <Abil value="OrderSwapToMilitia"/>
        <Target Value="TargetUnit"/>
    </CEffectIssueOrder>
    <CEffectIssueOrder id="OrderSwapToPeasant">
        <EditorCategories value="Race:Human"/>
        <ValidatorArray value="QualifiedMilitia"/>
        <WhichUnit Value="Caster"/>
        <Abil value="OrderSwapToPeasant"/>
        <Target Value="TargetUnit"/>
    </CEffectIssueOrder>
    <CEffectIssueOrder id="OrderMeSwapToMilitia">
        <EditorCategories value="Race:Human"/>
        <Abil value="OrderSwapToMilitia"/>
        <Target Value="CasterUnit"/>
        <ValidatorArray value="TownHallhasCallToArmAndNotDisabledAndPathable"/>
    </CEffectIssueOrder>
    <CEffectIssueOrder id="OrderMeSwapToPeasant">
        <EditorCategories value="Race:Human"/>
        <Abil value="OrderSwapToPeasant"/>
        <Target Value="CasterUnit"/>
        <ValidatorArray value="TownHallhasCallToArmAndNotDisabledAndPathable"/>
    </CEffectIssueOrder>
    <CEffectIssueOrder id="OrderMorphToPhoenix">
        <EditorCategories value="Race:Human"/>
        <Abil value="AphxUn"/>
    </CEffectIssueOrder>
    <CEffectEnumArea id="SearchForPeasant">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="Visible;allies,neutral,enemies,Missile,dead,Hidden"/>
        <AreaArray Radius="15.625" Effect="OrderSwapToMilitia"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Calltoarms"/>
        <MinCount value="1"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="SearchForMilitia">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="Visible;allies,neutral,enemies,Missile,dead,Hidden"/>
        <AreaArray Radius="15.625" Effect="OrderSwapToPeasant"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Backtowork"/>
        <MinCount value="1"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="SearchForTownHallPeasant">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="Visible;allies,neutral,enemies,Missile,dead,Hidden"/>
        <AreaArray Radius="500" Effect="OrderMeSwapToMilitia"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Calltoarmspeasant"/>
        <MinCount value="1"/>
        <TargetSorts>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="SearchForTownHallMilitia">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="Visible;allies,neutral,enemies,Missile,dead,Hidden"/>
        <AreaArray Radius="500" Effect="OrderMeSwapToPeasant"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Backtoworkmilitia"/>
        <MinCount value="1"/>
        <TargetSorts>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="BHav" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Bclf" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="hrttBarrageSearch">
        <EditorCategories value="Race:Human"/>
        <ImpactLocation Value="CasterUnit"/>
        <IncludeArray Value="Target"/>
        <SearchFilters value="Visible;player,allies,neutral,ground,wall,tree,Missile,debris,item,structure,ward,ethereal,dead,Hidden,invulnerable"/>
        <AreaArray Radius="3.9062" Effect="hrtt2LM"/>
        <MaxCount value="11"/>
    </CEffectEnumArea>
    <!--AheaHeal-->
    <CEffectCreatePersistent id="Ahea">
        <ValidatorArray value="IsNotBeingHealed"/>
        <ValidatorArray value="TargetLifeNotFull"/>
        <EditorCategories value="Race:Human"/>
        <WhichLocation Value="TargetUnit"/>
        <Flags index="Channeled" value="1"/>
        <InitialEffect value="AheaExtraSet"/>
        <!--ExpireEffect value="AheaHealTargetAgain"/-->
        <ExpireDelay value="1"/>
    </CEffectCreatePersistent>
    <CEffectSet id="AheaExtraSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AheaHeal"/>
        <EffectArray value="Bhea"/>
    </CEffectSet>
    <CEffectCreateHealer id="AheaHeal" parent="War3_InstantHeal">
        <EditorCategories value="Race:Human"/>
        <PeriodCount value="1"/>
        <RechargeVitalRate value="25"/>
    </CEffectCreateHealer>
    <CEffectApplyBehavior id="Bhea" parent="War3_ApplyBuff"/>
    <CEffectIssueOrder id="AheaHealTargetAgain">
        <EditorCategories value="Race:Human"/>
        <WhichUnit Value="Caster"/>
        <Abil value="Ahea"/>
        <Target Value="TargetUnit"/>
        <CmdFlags index="Preempt" value="1"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <ResponseFlags index="Acquire" value="1"/>
        <Player Value="Caster"/>
    </CEffectIssueOrder>
    <CEffectCreateUnit id="AHpx" parent="War3_SummonUnit">
        <EditorCategories value="Race:Human"/>
        <SpawnUnit value="hphx"/>
    </CEffectCreateUnit>
    <!--Arch Mage - Blizzard Buff=BHbd,BHbz effect=XHbz cast=1-->
    <CEffectCreatePersistent id="AHbzDamageDelay">
        <EditorCategories value="Race:Human"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="AHbzSearch"/>
        <InitialEffect value="ChannelingSpell"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AHbz1" parent="AHbzBase">
        <PeriodCount value="5"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AHbz2" parent="AHbzBase">
        <PeriodCount value="7"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AHbz3" parent="AHbzBase">
        <PeriodCount value="9"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="AHbzDamage1" parent="AHbzAOEDamageBase">
        <ValidatorArray value="AHbzLevel0"/>
        <Amount value="30"/>
    </CEffectDamage>
    <CEffectDamage id="AHbzDamage2" parent="AHbzAOEDamageBase">
        <ValidatorArray value="AHbzLevel1"/>
        <Amount value="40"/>
    </CEffectDamage>
    <CEffectDamage id="AHbzDamage3" parent="AHbzAOEDamageBase">
        <ValidatorArray value="AHbzLevel2"/>
        <Amount value="50"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="BHbd">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AHbzImpactSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHbzDamage1"/>
        <EffectArray value="AHbzDamage2"/>
        <EffectArray value="AHbzDamage3"/>
        <EffectArray value="BHbd"/>
    </CEffectSet>
    <CEffectEnumArea id="AHbzSearch">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="-;wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable,immunity"/>
        <AreaArray Radius="1.5625" Effect="AHbzImpactSet"/>
        <MaxCount value="5"/>
    </CEffectEnumArea>
    <!--Arch Mage - Brilliance Aura Buff=BHab-->
    <CEffectApplyBehavior id="BHab1" parent="War3_AuraBuff">
        <EditorCategories value="Race:Human"/>
        <ValidatorArray value="AHabLevel0"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BHab2" parent="War3_AuraBuff">
        <ValidatorArray value="AHabLevel1"/>
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BHab3" parent="War3_AuraBuff">
        <EditorCategories value="Race:Human"/>
        <ValidatorArray value="AHabLevel2"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="AHabSearch" parent="War3_AuraSearch" aura="BHabSet">
        <EditorCategories value="Race:Human"/>
    </CEffectEnumArea>
    <CEffectSet id="BHabSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="BHab1"/>
        <EffectArray value="BHab2"/>
        <EffectArray value="BHab3"/>
    </CEffectSet>
    <!--Arch Mage - Mass Teleport-->
    <CEffectEnumArea id="AHmtTarget">
        <EditorCategories value="Race:Human"/>
        <ExcludeArray/>
        <SearchFilters value="-;neutral,enemies,wall,tree,Missile,debris,item,ward,dead,Hidden"/>
        <TargetSorts>
            <SortArray value="TSDistanceToTarget"/>
        </TargetSorts>
        <AreaArray Radius="5.4687" Effect="AHmt"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="Btrv"/>
    <CEffectCreatePersistent id="AHmt">
        <EditorCategories value="Race:Human"/>
        <Flags index="Channeled" value="1"/>
        <ExpireDelay value="3"/>
        <ExpireEffect value="AHmtSearch"/>
        <WhichLocation Value="TargetUnit"/>
        <ValidatorArray value="TargetNotDead"/>
        <InitialEffect value="Btrv"/>
        <PeriodicValidator value="CasterAndTargetNotDead"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AHmtSearch">
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="-;allies,neutral,enemies,wall,tree,Missile,debris,item,structure,ward,dead,Hidden"/>
        <AreaArray Radius="5.4687" Effect="AHmtTeleport"/>
        <ImpactLocation Value="CasterPoint"/>
        <LaunchLocation Value="CasterPoint"/>
        <ExcludeArray Effect="AHmt" Value="Target"/>
        <MaxCount value="24"/>
    </CEffectEnumArea>
    <CEffectTeleport id="AHmtTeleport">
        <EditorCategories value="Race:Human"/>
        <MinDistance value="0"/>
        <PlacementArc value="360"/>
        <PlacementAround Effect="AHmt" Value="TargetUnit"/>
        <PlacementRange value="15"/>
        <SourceLocation Value="TargetPoint"/>
        <TargetLocation Effect="AHmt" Value="TargetUnit"/>
        <TeleportFlags index="TestFog" value="0"/>
        <ValidatorArray value="WorkersNotWorking"/>
    </CEffectTeleport>
    <CEffectApplyBehavior id="BHwe">
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AHhb">
        <ValidatorArray value="AHhbTarget"/>
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHhbHeal1"/>
        <EffectArray value="AHhbHeal2"/>
        <EffectArray value="AHhbHeal3"/>
        <EffectArray value="AHhbDamage1"/>
        <EffectArray value="AHhbDamage2"/>
        <EffectArray value="AHhbDamage3"/>
    </CEffectSet>
    <CEffectCreateHealer id="AHhbHeal1" parent="AHhbHealBase">
        <RechargeVitalRate value="200"/>
        <ValidatorArray value="AHhbLevel0"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="AHhbHeal2" parent="AHhbHealBase">
        <RechargeVitalRate value="400"/>
        <ValidatorArray value="AHhbLevel1"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="AHhbHeal3" parent="AHhbHealBase">
        <RechargeVitalRate value="600"/>
        <ValidatorArray value="AHhbLevel2"/>
    </CEffectCreateHealer>
    <CEffectDamage id="AHhbDamage1" parent="AHhbDamageBase">
        <Amount value="100"/>
        <ValidatorArray value="AHhbLevel0"/>
    </CEffectDamage>
    <CEffectDamage id="AHhbDamage2" parent="AHhbDamageBase">
        <Amount value="200"/>
        <ValidatorArray value="AHhbLevel1"/>
    </CEffectDamage>
    <CEffectDamage id="AHhbDamage3" parent="AHhbDamageBase">
        <Amount value="300"/>
        <ValidatorArray value="AHhbLevel2"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="BHdsBase">
        <EditorCategories value="Race:Human"/>
        <Behavior value="BHds"/>
        <Flags index="UseDuration" value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BHds1" parent="BHdsBase">
        <Duration value="15"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BHds2" parent="BHdsBase">
        <Duration value="30"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BHds3" parent="BHdsBase">
        <Duration value="45"/>
    </CEffectApplyBehavior>
    <!--Paladin - Devotion Aura Buff=BHad-->
    <CEffectApplyBehavior id="BHad1" parent="War3_AuraBuff">
        <ValidatorArray value="AHadLevel0"/>
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BHad2" parent="War3_AuraBuff">
        <ValidatorArray value="AHadLevel1"/>
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BHad3" parent="War3_AuraBuff">
        <ValidatorArray value="AHadLevel2"/>
        <EditorCategories value="Race:Human"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="AHadSearch" parent="War3_AuraSearch" aura="BHadSet">
        <EditorCategories value="Race:Human"/>
    </CEffectEnumArea>
    <CEffectSet id="BHadSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="BHad1"/>
        <EffectArray value="BHad2"/>
        <EffectArray value="BHad3"/>
    </CEffectSet>
    <!--Paladin - Resurrection-->
    <CEffectEnumArea id="AHre" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="7.0312" Effect="AHreReviveSet"/>
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="dead;self,neutral,enemies,wall,tree,Missile,debris,item,structure,ward,Hidden,invulnerable,hero"/>
        <MinCount value="1"/>
        <MaxCount value="6"/>
        <TargetSorts>
            <SortArray value="UnitLevel"/>
            <SortArray value="TSAlliancePassive"/>
        </TargetSorts>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindfriendlycorpse"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AHreRevive">
        <ModifyFlags index="Revive" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AHreHeal">
        <VitalArray index="Life" ChangeFraction="1"/>
        <VitalArray index="Shields" ChangeFraction="1"/>
    </CEffectModifyUnit>
    <CEffectSet id="AHreReviveSet">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="AHreRevive"/>
        <EffectArray value="AHreHeal"/>
    </CEffectSet>
    <CEffectCreateUnit id="hwat" parent="War3_SummonUnit">
        <EditorCategories value="Race:Human"/>
        <SpawnEffect value="BHwe"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="hwt2" parent="War3_SummonUnit">
        <EditorCategories value="Race:Human"/>
        <SpawnEffect value="BHwe"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="hwt3" parent="War3_SummonUnit">
        <EditorCategories value="Race:Human"/>
        <SpawnEffect value="BHwe"/>
    </CEffectCreateUnit>
    <!--Creep Abi-->
    <!--Self Destruct Dur=.1 HeroDur=.1-->
    <CEffectSet id="Asds">
        <EditorCategories value="Race:Creeps"/>
        <TargetLocationType value="UnitOrPoint"/>
        <EffectArray value="SuicideImpactCaster"/>
        <EffectArray value="AsdsDamage"/>
    </CEffectSet>
    <CEffectDamage id="AsdsDamage" parent="War3_PhysicSpellDamage">
        <ValidatorArray index="0" removed="1"/>
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="CasterUnitOrPoint"/>
        <AttributeFactor index="fortified" value="2"/>
        <AreaArray Radius="0.7812" Bonus="250" Fraction="1"/>
        <AreaArray Radius="1.9531" Bonus="100" Fraction="1"/>
        <ExcludeArray index="0" removed="1"/>
        <SearchFilters value="-;air,wall,item,ethereal,dead,Hidden,invulnerable"/>
    </CEffectDamage>
    <CEffectDamage id="AsdgDamage" parent="War3_PhysicSpellDamage">
        <ValidatorArray index="0" removed="1"/>
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="CasterUnitOrPoint"/>
        <AreaArray Radius="0.7812" Bonus="30" Fraction="1"/>
        <AreaArray Radius="1.9531" Bonus="12" Fraction="1"/>
        <ExcludeArray index="0" removed="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,item,ethereal,dead,Hidden,invulnerable"/>
    </CEffectDamage>
    <CEffectDamage id="Asd2Damage" parent="War3_PhysicSpellDamage">
        <ValidatorArray index="0" removed="1"/>
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="CasterUnitOrPoint"/>
        <AreaArray Radius="0.7812" Bonus="60" Fraction="1"/>
        <AreaArray Radius="1.9531" Bonus="22" Fraction="1"/>
        <ExcludeArray index="0" removed="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,item,ethereal,dead,Hidden,invulnerable"/>
    </CEffectDamage>
    <CEffectDamage id="Asd3Damage" parent="War3_PhysicSpellDamage">
        <ValidatorArray index="0" removed="1"/>
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="CasterUnitOrPoint"/>
        <AreaArray Radius="0.7812" Bonus="80" Fraction="1"/>
        <AreaArray Radius="1.9531" Bonus="30" Fraction="1"/>
        <ExcludeArray index="0" removed="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,item,ethereal,dead,Hidden,invulnerable"/>
    </CEffectDamage>
    <!--Neutral Regen (health only)-->
    <CEffectEnumArea id="ACnrSearch" parent="War3_AuraSearch" aura="BCnr">
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;mechanical,wall,tree,Missile,debris,item,structure,ward,dead,Hidden"/>
        <AreaArray index="0" Radius="3.9062" Effect="BCnr"/>
        <MinCount value="1"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="ACnrHealTick">
        <EditorCategories value="Race:Creeps"/>
        <VitalArray index="Life" ChangeFraction="0.01"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="BCnr" parent="War3_AuraBuff">
        <EditorCategories value="Race:Creeps"/>
        <ValidatorArray value="TargetLifeNotFull"/>
    </CEffectApplyBehavior>
    <!--Creep Abi End-->
    <!--Item Abi-->
    <!--Scroll of Life Regen Dur=45 HeroDur=45 Buff=BIrg,BIrl,BIrm-->
    <CEffectEnumArea id="AIslSearch">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="-;neutral,enemies,mechanical,wall,tree,Missile,debris,item,structure,ward,dead,Hidden"/>
        <AreaArray Radius="4.6875" Effect="BIrl"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AIslTactAISearch" parent="AIslSearch">
        <MinCount value="2"/>
        <AreaArray index="0" Radius="4.6875" Effect="AIslTactAISearchTerm"/>
    </CEffectEnumArea>
    <CEffectSet id="AIslTactAISearchTerm">
        <ValidatorArray value="TargetLifeNotFull"/>
        <ValidatorArray value="RegenerationTestBuff"/>
        <EditorCategories value="Race:Other"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BIrl" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
        <ValidatorArray value="TargetLifeNotFull"/>
    </CEffectApplyBehavior>
    <!--ItemTownPortal cast=5-->
    <CEffectEnumArea id="Hearthstone">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="PreventReveal,Visible;neutral,enemies,UnderConstruction,dead,Hidden"/>
        <TargetSorts>
            <SortArray value="TSAllianceControl"/>
            <SortArray value="TSSubgroupPriorityLargest"/>
        </TargetSorts>
        <AreaArray Radius="500" Effect="AItpTarget"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Nopreservationtarget"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AItpTarget">
        <EditorCategories value="Race:Other"/>
        <ExcludeArray/>
        <SearchFilters value="PreventReveal;neutral,enemies,UnderConstruction,dead,Hidden"/>
        <TargetSorts>
            <SortArray value="TSDistanceToTarget"/>
        </TargetSorts>
        <AreaArray Radius="8" Effect="AItp"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
        <ImpactLocation Value="TargetPoint"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Notownportalhalls"/>
    </CEffectEnumArea>
    <CEffectCreatePersistent id="AItp">
        <EditorCategories value="Race:Other"/>
        <Flags index="Channeled" value="1"/>
        <ExpireDelay value="5"/>
        <ExpireEffect value="AItpEndEffect"/>
        <WhichLocation Value="TargetUnit"/>
        <ValidatorArray value="TargetNotDead"/>
        <ValidatorArray value="TownPortalCliffLevelEqual"/>
        <InitialEffect value="Btrv"/>
        <PeriodicValidator value="CasterAndTargetNotDead"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AItpEndEffect">
        <InitialEffect value="AItpSearch"/>
        <ExpireDelay value="2"/>
        <RevealRadius value="6.25"/>
        <RevealFlags index="Unfog" value="1"/>
        <WhichLocation Value="CasterPoint"/>
        <OffsetVectorStartLocation Value="CasterPoint"/>
        <OffsetVectorEndLocation Value="CasterPoint"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AItpSearch">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="-;allies,neutral,enemies,wall,tree,Missile,debris,item,structure,ward,dead,Hidden"/>
        <AreaArray Radius="8.5937" Effect="AItpTeleport"/>
        <ImpactLocation Value="CasterPoint"/>
        <LaunchLocation Value="CasterPoint"/>
        <ExcludeArray Effect="AItp" Value="Target"/>
        <MaxCount value="90"/>
    </CEffectEnumArea>
    <CEffectTeleport id="AItpTeleport">
        <ValidatorArray value="WorkersNotWorking"/>
        <EditorCategories value="Race:Other"/>
        <MinDistance value="0"/>
        <PlacementArc value="360"/>
        <PlacementAround Effect="AItp" Value="TargetUnit"/>
        <PlacementRange value="7"/>
        <SourceLocation Value="TargetUnit"/>
        <TargetLocation Effect="AItpTarget" Value="TargetUnitOrPoint"/>
    </CEffectTeleport>
    <!--Build Tiny Scout Tower-->
    <CEffectSet id="AIbtShell">
        <EditorCategories value="Race:Other"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <!--Build Tiny Great Hall Dur=20 HeroDur=-->
    <CEffectSet id="AIbgShell">
        <EditorCategories value="Race:Other"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <!--Orb of Fire-->
    <CEffectDamage id="AIfbSphereEffect" parent="War3_UltraSpellDamage">
        <EditorCategories value="Race:Other"/>
        <ImpactLocation Value="TargetUnit"/>
        <AreaArray Radius="1.0937" Bonus="5" Fraction="1"/>
        <SearchFilters value="-;player,allies,neutral,wall,tree,Missile,debris,item,structure,dead,Hidden,invulnerable"/>
    </CEffectDamage>
    <!--Preservation-->
    <CEffectSet id="ANpr">
        <EditorCategories value="Race:Other"/>
        <ValidatorArray value="IHaveATown"/>
        <EffectArray value="ANprTarget"/>
    </CEffectSet>
    <CEffectEnumArea id="ANprTarget">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="PreventReveal;allies,neutral,enemies,UnderConstruction,dead,Hidden"/>
        <TargetSorts>
            <SortArray value="TSSubgroupPriorityLargest"/>
        </TargetSorts>
        <AreaArray Radius="500" Effect="ANprTeleport"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Nopreservationtarget"/>
    </CEffectEnumArea>
    <CEffectTeleport id="ANprTeleport">
        <EditorCategories value="Race:Other"/>
        <WhichUnit Effect="ANprTarget"/>
        <MinDistance value="0"/>
        <PlacementArc value="360"/>
        <PlacementAround Value="TargetUnit"/>
        <PlacementRange value="15"/>
        <SourceLocation Effect="ANprTarget" Value="TargetUnit"/>
        <TargetLocation Value="TargetUnit"/>
        <TeleportFlags index="TestFog" value="0"/>
        <ValidatorArray value="WorkersNotWorking"/>
    </CEffectTeleport>
    <!--Sanctuary Buff=BNsa-->
    <CEffectSet id="ANsa">
        <EditorCategories value="Race:Other"/>
        <ValidatorArray value="IHaveATown"/>
        <EffectArray value="ANsaTarget"/>
        <EffectArray value="BNsaRegenDelay"/>
        <EffectArray value="BNsa"/>
    </CEffectSet>
    <CEffectEnumArea id="ANsaTarget">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="PreventReveal;allies,neutral,enemies,UnderConstruction,dead,Hidden"/>
        <TargetSorts>
            <SortArray value="TSSubgroupPriorityLargest"/>
        </TargetSorts>
        <AreaArray Radius="500" Effect="ANsaTeleport"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Nopreservationtarget"/>
    </CEffectEnumArea>
    <CEffectTeleport id="ANsaTeleport">
        <EditorCategories value="Race:Other"/>
        <WhichUnit Effect="ANsaTarget"/>
        <MinDistance value="0"/>
        <PlacementArc value="360"/>
        <PlacementAround Value="TargetUnit"/>
        <PlacementRange value="15"/>
        <SourceLocation Effect="ANsaTarget" Value="TargetUnit"/>
        <TargetLocation Value="TargetUnit"/>
        <TeleportFlags index="TestFog" value="0"/>
    </CEffectTeleport>
    <CEffectApplyBehavior id="BNsa" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNsaRegen" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNsaRegenDelay" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <!--Dust of Appearance Dur=20 HeroDur=20 Buff=Bdet-->
    <CEffectEnumArea id="AItbSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="-;player,allies,wall,tree,Missile,debris,item,structure,dead,Hidden,immunity"/>
        <AreaArray Radius="7.8125" Effect="Bdet"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="Bdet" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <!--Staff o' Teleportation-->
    <CEffectEnumArea id="AImtTarget">
        <EditorCategories value="Race:Other"/>
        <ExcludeArray/>
        <SearchFilters value="-;neutral,enemies,wall,tree,Missile,debris,item,ward,dead,Hidden"/>
        <TargetSorts>
            <SortArray value="TSDistanceToTarget"/>
        </TargetSorts>
        <AreaArray Radius="5.4687" Effect="AImt"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectCreatePersistent id="AImt">
        <EditorCategories value="Race:Other"/>
        <Flags index="Channeled" value="1"/>
        <ExpireDelay value="3"/>
        <ExpireEffect value="AImtTeleport"/>
        <WhichLocation Value="TargetUnit"/>
        <ValidatorArray value="TargetNotDead"/>
        <InitialEffect value="Btrv"/>
    </CEffectCreatePersistent>
    <CEffectTeleport id="AImtTeleport">
        <EditorCategories value="Race:Other"/>
        <MinDistance value="0"/>
        <PlacementArc value="360"/>
        <PlacementAround Value="TargetUnit"/>
        <PlacementRange value="15"/>
        <TargetLocation Value="TargetUnit"/>
        <TeleportFlags index="TestFog" value="0"/>
        <WhichUnit Value="Caster"/>
    </CEffectTeleport>
    <!--ItemInvul Dur=15 HeroDur=15 Buff=Bvul-->
    <CEffectApplyBehavior id="Bvul" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <!--ItemInvul Dur=7 HeroDur=7 Buff=Bvul-->
    <CEffectApplyBehavior id="AIvl" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
        <Behavior value="Bvul"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="7"/>
    </CEffectApplyBehavior>
    <!--PowerupHealAoeLesser-->
    <CEffectSet id="APh1"/>
    <CEffectEnumArea id="APh1Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="-;neutral,enemies,mechanical,wall,tree,Missile,debris,item,structure,ward,dead"/>
        <AreaArray Radius="6.25" Effect="APh1Heal"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="APh1Heal">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life" Change="125"/>
    </CEffectModifyUnit>
    <!--PowerupHealAoe-->
    <CEffectSet id="APh2"/>
    <CEffectEnumArea id="APh2Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="-;neutral,enemies,mechanical,wall,tree,Missile,debris,item,structure,ward,dead"/>
        <AreaArray Radius="6.25" Effect="APh2Heal"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="APh2Heal">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life" Change="250"/>
    </CEffectModifyUnit>
    <!--PowerupHealAoeGreater-->
    <CEffectSet id="APh3"/>
    <CEffectEnumArea id="APh3Search" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="-;neutral,enemies,mechanical,wall,tree,Missile,debris,item,structure,ward,dead"/>
        <AreaArray Radius="6.25" Effect="APh3Heal"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="APh3Heal">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life" Change="400"/>
    </CEffectModifyUnit>
    <!--ItemHealAoe-->
    <CEffectEnumArea id="AIhaSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <AreaArray Radius="4.6875" Effect="AIhaHeal"/>
        <SearchFilters value="-;neutral,enemies,mechanical,wall,tree,Missile,debris,item,structure,ward,dead"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AIhaHeal">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life" Change="150"/>
    </CEffectModifyUnit>
    <!--ItemRestoreAoe-->
    <CEffectEnumArea id="AIraSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <AreaArray Radius="4.6875" Effect="AIraHeal"/>
        <SearchFilters value="-;neutral,enemies,mechanical,wall,tree,Missile,debris,item,structure,ward,dead"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AIraHeal">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life" Change="300"/>
        <VitalArray index="Energy" Change="150"/>
    </CEffectModifyUnit>
    <!--ItemDefenseAoe Dur=30 HeroDur=30 Buff=Bdef-->
    <CEffectEnumArea id="AIdaSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Other"/>
        <AreaArray Radius="4.6875" Effect="Bdef"/>
        <SearchFilters value="-;neutral,enemies,wall,tree,Missile,debris,item,structure,ward,dead"/>
    </CEffectEnumArea>
    <!--ItemInvis (Lesser) Dur=120 HeroDur=120 Buff=Binv-->
    <CEffectApplyBehavior id="Bdef" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
        <Duration value="30"/>
    </CEffectApplyBehavior>
    <!--NE Abil-->
    <!--Cyclone Dur=20 HeroDur=6 Buff=Bcyc,Bcy2-->
    <CEffectApplyBehavior id="Bcyc" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <!--NE Abil End-->
    <!--Detonate-->
    <CEffectEnumArea id="AdtnSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Nightelf"/>
        <AreaArray Radius="2.3437" Effect="AdtnImpactSet"/>
        <SearchFilters value="-;wall,tree,Missile,debris,item,ward,dead"/>
        <ImpactLocation Value="TargetPoint"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AdtnManaLoss">
        <EditorCategories value="Race:Nightelf"/>
        <VitalArray index="Energy" Change="-50"/>
    </CEffectModifyUnit>
    <CEffectSet id="AdtnImpactSet">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="HurtEnemySummoned225"/>
        <EffectArray value="DispelAnyBuffs"/>
        <EffectArray value="SuicideImpact"/>
        <EffectArray value="AdtnManaLoss"/>
    </CEffectSet>
    <!--Eat Tree Dur=30 HeroDur=30 Buff=Beat-->
    <CEffectSet id="Aeat">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="AeatEatDelay"/>
        <EffectArray value="AeatTreeKiller"/>
    </CEffectSet>
    <CEffectDamage id="AeatTreeKiller" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Nightelf"/>
        <Flags index="Kill" value="1"/>
        <ValidatorArray value="IsTreeWar3"/>
    </CEffectDamage>
    <CEffectCreatePersistent id="AeatEatDelay">
        <EditorCategories value="Race:Nightelf"/>
        <ExpireDelay value="2"/>
        <ExpireEffect value="Beat"/>
        <Flags index="Channeled" value="1"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="Beat" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <!--Entangled Gold Mine-->
    <CEffectSet id="AegmHarvestingSet">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="AegmHarvestingNoUpkeeper"/>
        <EffectArray value="AegmHarvestingLowUpkeeper"/>
        <EffectArray value="AegmHarvestingHighUpkeeper"/>
        <EffectArray value="StopAaha"/>
    </CEffectSet>
    <CEffectModifyUnit id="AegmHarvestingNoUpkeeper">
        <EditorCategories value="Race:Nightelf"/>
        <LaunchUnit Value="Caster"/>
        <Resources value="-10"/>
        <ResourcesHarvestedBonus value="10"/>
        <ValidatorArray value="UPKEEP_NONE"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AegmHarvestingLowUpkeeper">
        <ValidatorArray value="UPKEEP_LOW"/>
        <ValidatorArray value="FoodLE80"/>
        <EditorCategories value="Race:Nightelf"/>
        <LaunchUnit Value="Caster"/>
        <Resources value="-10"/>
        <ResourcesHarvestedBonus value="7"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AegmHarvestingHighUpkeeper">
        <ValidatorArray value="UPKEEP_HIGH"/>
        <EditorCategories value="Race:Nightelf"/>
        <LaunchUnit Value="Caster"/>
        <Resources value="-10"/>
        <ResourcesHarvestedBonus value="4"/>
    </CEffectModifyUnit>
    <!--Couple Instant (Archer)-->
    <CEffectSet id="Aco2Smart">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="Aco2MergeNotice"/>
        <ValidatorArray value="CanUseAco2"/>
    </CEffectSet>
    <CEffectSet id="Aco3Smart">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="Aco3MergeNotice"/>
        <ValidatorArray value="CanUseAco3"/>
    </CEffectSet>
    <CEffectEnumArea id="Aco2">
        <EditorCategories value="Race:Nightelf"/>
        <AreaArray Radius="7.0312" Effect="Aco2MergeNotice"/>
        <SearchFilters value="-;allies,neutral,enemies"/>
        <MaxCount value="1"/>
        <MinCount value="1"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindcoupletarget"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="Aco2MergeNotice">
        <EditorCategories value="Race:Nightelf"/>
        <ValidatorArray value="IsHippogryph"/>
        <ValidatorArray value="NoMergeMarker"/>
    </CEffectSet>
    <CEffectEnumArea id="Aco3">
        <EditorCategories value="Race:Nightelf"/>
        <AreaArray Radius="7.0312" Effect="Aco3MergeNotice"/>
        <SearchFilters value="-;allies,neutral,enemies"/>
        <MaxCount value="1"/>
        <MinCount value="1"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindcoupletarget"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="Aco3MergeNotice">
        <EditorCategories value="Race:Nightelf"/>
        <ValidatorArray value="IsArcher"/>
        <ValidatorArray value="NoMergeMarker"/>
    </CEffectSet>
    <!--Phase Shift Dur=1.5 HeroDur=1.5 Buff=Bpsh-->
    <CEffectApplyBehavior id="Bpsh" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <!--Rejuvination Dur=12 HeroDur=12 Buff=Brej-->
    <CEffectApplyBehavior id="Brej" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectApplyBehavior>
    <CEffectCreateHealer id="BrejHealTick" parent="War3_InstantHeal">
        <EditorCategories value="Race:Nightelf"/>
        <RechargeVitalRate value="32.336"/>
    </CEffectCreateHealer>
    <!--Faerie Fire Dur=90 HeroDur=60 Buff=Bfae-->
    <CEffectApplyBehavior id="Bfae" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectApplyBehavior>
    <!--Wisp Harvest Dur=8 HeroDur=8-->
    <CEffectCreatePersistent id="Awha">
        <EditorCategories value="Race:Nightelf"/>
        <Flags index="Channeled" value="1"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
        <WhichLocation Value="TargetUnit"/>
        <PeriodicEffectArray value="AwhaHarvest"/>
        <PeriodicPeriodArray value="8"/>
    </CEffectCreatePersistent>
    <CEffectSet id="Awha2">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="AwhaHarvest"/>
        <EffectArray value="StopAwha"/>
    </CEffectSet>
    <CEffectModifyPlayer id="AwhaHarvest">
        <EditorCategories value="Race:Nightelf"/>
        <Resources index="Custom" value="5"/>
        <ResourcesCollected index="Custom" value="5"/>
    </CEffectModifyPlayer>
    <!--Mana Battery-->
    <CEffectSet id="Ambt">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="AmbtLifeRecharge"/>
        <EffectArray value="AmbtManaRecharge"/>
        <ValidatorArray value="MoreThan10Mana"/>
        <ValidatorArray value="TargetNotFullVital"/>
    </CEffectSet>
    <CEffectCreateHealer id="AmbtLifeRecharge" parent="War3_InstantHeal">
        <EditorCategories value="Race:Nightelf"/>
        <DrainVital value="Energy"/>
        <DrainVitalCostFactor value="0.5"/>
        <RechargeVitalRate value="1200"/>
        <PeriodCount value="4294967295"/>
        <PeriodicPeriod value="0.0625"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="AmbtManaRecharge" parent="War3_InstantHeal">
        <EditorCategories value="Race:Nightelf"/>
        <DrainVital value="Energy"/>
        <DrainVitalCostFactor value="2"/>
        <RechargeVitalRate value="400"/>
        <PeriodCount value="4294967295"/>
        <PeriodicPeriod value="0.0625"/>
        <RechargeVital value="Energy"/>
    </CEffectCreateHealer>
    <!--Roar Dur=45 HeroDur=45 Buff=Broa-->
    <CEffectEnumArea id="AroaSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Nightelf"/>
        <AreaArray Radius="3.9062" Effect="Broa"/>
        <SearchFilters value="-;neutral,enemies,wall,tree,Missile,debris,item,structure,ward,dead,invulnerable,immunity"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="Broa" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
        <ValidatorArray value="TargetCanAttack"/>
    </CEffectApplyBehavior>
    <!--Sentinel effect=XEsn-->
    <CEffectCreatePersistent id="XEsn">
        <WhichLocation Value="TargetUnit"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
        <RevealRadius value="7.0312"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <PeriodicValidator value="TargetNotDead"/>
        <DetectFilters value="-;PreventDefeat,Hidden"/>
    </CEffectCreatePersistent>
    <!--Shadow Meld-->
    <CEffectApplyBehavior id="Ashm" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
        <Behavior value="AshmDelay"/>
        <ValidatorArray value="NotDetected"/>
        <ValidatorArray value="Night"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AshmB" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectApplyBehavior>
    <!--Slow Poison Dur=5 HeroDur=1 Buff=Bspo,Bssd-->
    <CEffectSet id="AspoSphereEffect">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="Bspo"/>
        <EffectArray value="Bssd"/>
    </CEffectSet>
    <CEffectDamage id="BssdDPS" parent="War3_Poision">
        <EditorCategories value="Race:Nightelf"/>
        <Amount value="4"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="Bspo" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Bssd" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectApplyBehavior>
    <!--Vengeance Dur=50 HeroDur=50 Buff=Bvng-->
    <CEffectEnumArea id="Avng" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="7.0312" Effect="AvngSummonSet"/>
        <EditorCategories value="Race:Nightelf"/>
        <SearchFilters value="dead;wall,tree,Missile,debris,item,structure,ward,Hidden,invulnerable,hero"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="AvngSummonSet">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="even"/>
        <EffectArray value="TargetRemoveTriggerRequest"/>
        <ValidatorArray value="DeathTimeGT0"/>
    </CEffectSet>
    <CEffectCreateUnit id="even" parent="War3_SummonUnit">
        <EditorCategories value="Race:Nightelf"/>
        <SpawnEffect value="Bvng"/>
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="OffsetByRadius" value="0"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="PlacementIgnoreBlockers" value="1"/>
        <CreateFlags index="PlacementIgnoreCliffTest" value="1"/>
        <CreateFlags index="SetFacing" value="1"/>
        <SpawnRange value="0"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="Bvng" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectApplyBehavior>
    <!--Taunt-->
    <CEffectEnumArea id="AtauSearch" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Nightelf"/>
        <AreaArray Radius="3.5156" Effect="AtauOrderAttack"/>
        <SearchFilters value="-;player,allies,neutral,wall,tree,Missile,debris,item,structure,ward,dead,Hidden"/>
        <TargetSorts>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <MaxCount value="10"/>
    </CEffectEnumArea>
    <CEffectIssueOrder id="AtauOrderAttack">
        <EditorCategories value="Race:Nightelf"/>
        <Abil value="Aatk"/>
        <ValidatorArray value="TargetCanAttackCaster_War3"/>
        <Target Value="CasterUnit"/>
    </CEffectIssueOrder>
    <!--Grab Tree Buff=Bgra-->
    <CEffectSet id="Agra">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="Bgra"/>
        <EffectArray value="AgraTreeKiller"/>
    </CEffectSet>
    <CEffectDamage id="AgraTreeKiller" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Nightelf"/>
        <Flags index="Kill" value="1"/>
        <ValidatorArray value="IsTreeWar3"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="Bgra" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectSet id="BgraHandleDummy">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectSet>
    <CEffectTeleport id="AEbl">
        <EditorCategories value="Race:Nightelf"/>
        <ClearQueuedOrders value="0"/>
        <PlacementAround Value="CasterUnit"/>
        <PlacementRange value="8"/>
        <WhichUnit Value="Caster"/>
        <TargetLocation Value="TargetPoint"/>
        <TeleportFlags index="TestCliff" value="1"/>
        <MinDistance value="1.5625"/>
    </CEffectTeleport>
    <!--Keeper - Entangling Roots Buff=BEer-->
    <CEffectSet id="AEer">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="AEer1"/>
        <EffectArray value="AEer2"/>
        <EffectArray value="AEer3"/>
        <EffectArray value="AEerStun"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AEerStun" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AEer1HeroDur" parent="War3_HeroDur" buff="BEer">
        <Duration value="3"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AEer1Dur" parent="War3_Dur" buff="BEer">
        <Duration value="9"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AEer1" parent="War3_DurSet">
        <ValidatorArray value="AEerLevel0"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AEer2HeroDur" parent="War3_HeroDur" buff="BEer">
        <Duration value="4"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AEer2Dur" parent="War3_Dur" buff="BEer">
        <Duration value="24"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AEer2" parent="War3_DurSet">
        <ValidatorArray value="AEerLevel1"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AEer3HeroDur" parent="War3_HeroDur" buff="BEer">
        <Duration value="5"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AEer3Dur" parent="War3_Dur" buff="BEer">
        <Duration value="36"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AEer3" parent="War3_DurSet">
        <ValidatorArray value="AEerLevel2"/>
    </CEffectSet>
    <CEffectSet id="BEerDPSSet">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="BEerDPS1"/>
        <EffectArray value="BEerDPS2"/>
        <EffectArray value="BEerDPS3"/>
    </CEffectSet>
    <CEffectDamage id="BEerDPS1" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Nightelf"/>
        <Amount value="15"/>
        <ValidatorArray value="AEerLevel0"/>
    </CEffectDamage>
    <CEffectDamage id="BEerDPS2" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Nightelf"/>
        <Amount value="15"/>
        <ValidatorArray value="AEerLevel1"/>
    </CEffectDamage>
    <CEffectDamage id="BEerDPS3" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Nightelf"/>
        <Amount value="25"/>
        <ValidatorArray value="AEerLevel2"/>
    </CEffectDamage>
    <!--Demon Hunter - Evasion-->
    <CEffectSet id="AEevMissDummy">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectSet>
    <!--Warden - Fan of Knives-->
    <CEffectEnumArea id="AEfk1Search" parent="AEfkSearchBase">
        <AreaArray index="0" Radius="3.125" Effect="AEfkMissile"/>
        <MaxCount value="3"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AEfk2Search" parent="AEfkSearchBase">
        <AreaArray index="0" Radius="3.5156" Effect="AEfkMissile"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AEfk3Search" parent="AEfkSearchBase">
        <AreaArray index="0" Radius="3.711" Effect="AEfkMissile"/>
    </CEffectEnumArea>
    <CEffectSet id="AEfkMissileImpactSet">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="AEfk1Damage"/>
        <EffectArray value="AEfk2Damage"/>
        <EffectArray value="AEfk3Damage"/>
    </CEffectSet>
    <CEffectDamage id="AEfk1Damage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Nightelf"/>
        <ValidatorArray value="AEfkLevel0"/>
        <Amount value="75"/>
    </CEffectDamage>
    <CEffectDamage id="AEfk2Damage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Nightelf"/>
        <ValidatorArray value="AEfkLevel1"/>
        <Amount value="125"/>
    </CEffectDamage>
    <CEffectDamage id="AEfk3Damage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Nightelf"/>
        <ValidatorArray value="AEfkLevel2"/>
        <Amount value="190"/>
    </CEffectDamage>
    <!--Keeper - Force of Nature Buff=BEfn-->
    <CEffectSet id="AEfn1">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="AEfn1Search"/>
        <EffectArray value="AEfn1SearchTreeKiller"/>
        <TargetLocationType value="Point"/>
        <ValidatorArray value="AEfn1"/>
    </CEffectSet>
    <CEffectSet id="AEfn2">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="AEfn2Search"/>
        <EffectArray value="AEfn2SearchTreeKiller"/>
        <TargetLocationType value="Point"/>
        <ValidatorArray value="AEfn2"/>
    </CEffectSet>
    <CEffectSet id="AEfn3">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="AEfn3Search"/>
        <EffectArray value="AEfn3SearchTreeKiller"/>
        <TargetLocationType value="Point"/>
        <ValidatorArray value="AEfn3"/>
    </CEffectSet>
    <CEffectCreateUnit id="efon" parent="War3_SummonUnit">
        <EditorCategories value="Race:Nightelf"/>
        <SpawnEffect value="BEfn"/>
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="OffsetByRadius" value="0"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="PlacementIgnoreBlockers" value="1"/>
        <CreateFlags index="PlacementIgnoreCliffTest" value="1"/>
    </CEffectCreateUnit>
    <CEffectEnumArea id="AEfn1Search" parent="AEfnSearch">
        <AreaArray index="0" Radius="1.1718" Effect="efon"/>
        <MaxCount value="2"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AEfn1SearchTreeKiller" parent="AEfnSearch">
        <AreaArray index="0" Radius="1.1718" Effect="AEfnTreeKiller"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AEfn2Search" parent="AEfnSearch">
        <AreaArray index="0" Radius="1.7578" Effect="efon"/>
        <MaxCount value="3"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AEfn2SearchTreeKiller" parent="AEfnSearch">
        <AreaArray index="0" Radius="1.7578" Effect="AEfnTreeKiller"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AEfn3Search" parent="AEfnSearch">
        <AreaArray index="0" Radius="2.3437" Effect="efon"/>
        <MaxCount value="4"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AEfn3SearchTreeKiller" parent="AEfnSearch">
        <AreaArray index="0" Radius="2.3437" Effect="AEfnTreeKiller"/>
    </CEffectEnumArea>
    <CEffectDamage id="AEfnTreeKiller" parent="War3_MagicSpellDamage">
        <ValidatorArray value="IsTreeWar3"/>
        <EditorCategories value="Race:Nightelf"/>
        <Flags index="Kill" value="1"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="BEfn" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectApplyBehavior>
    <!--Demon Hunter - Immolation Buff=BEim,BEia-->
    <CEffectModifyUnit id="AEimInitManaGain">
        <EditorCategories value="Race:Nightelf"/>
        <VitalArray index="Energy" Change="10"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectEnumArea id="BEimSearch" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Nightelf"/>
        <AreaArray Radius="1.25" Effect="BEimDPSSet"/>
        <SearchFilters value="-;player,allies,air,mechanical,wall,tree,debris,item,structure,ward,dead,Hidden,invulnerable,Passive,immunity"/>
    </CEffectEnumArea>
    <CEffectSet id="BEimDPSSet">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="BEimDPS1"/>
        <EffectArray value="BEimDPS2"/>
        <EffectArray value="BEimDPS3"/>
    </CEffectSet>
    <CEffectDamage id="BEimDPS1" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Nightelf"/>
        <Amount value="10"/>
        <ValidatorArray value="AEimLevel0"/>
    </CEffectDamage>
    <CEffectDamage id="BEimDPS2" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Nightelf"/>
        <Amount value="15"/>
        <ValidatorArray value="AEimLevel1"/>
    </CEffectDamage>
    <CEffectDamage id="BEimDPS3" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Nightelf"/>
        <Amount value="20"/>
        <ValidatorArray value="AEimLevel2"/>
    </CEffectDamage>
    <!--Demon Hunter - Mana Burn-->
    <CEffectSet id="AEmb1">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="AEmb1Damage"/>
        <EffectArray value="AEmb1ManaLoss"/>
    </CEffectSet>
    <CEffectSet id="AEmb2">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="AEmb2Damage"/>
        <EffectArray value="AEmb2ManaLoss"/>
    </CEffectSet>
    <CEffectSet id="AEmb3">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="AEmb3Damage"/>
        <EffectArray value="AEmb3ManaLoss"/>
    </CEffectSet>
    <CEffectDamage id="AEmb1Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Nightelf"/>
        <VitalBonus index="Energy" value="50"/>
    </CEffectDamage>
    <CEffectDamage id="AEmb2Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Nightelf"/>
        <VitalBonus index="Energy" value="100"/>
    </CEffectDamage>
    <CEffectDamage id="AEmb3Damage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Nightelf"/>
        <VitalBonus index="Energy" value="150"/>
    </CEffectDamage>
    <CEffectModifyUnit id="AEmb1ManaLoss">
        <EditorCategories value="Race:Nightelf"/>
        <VitalArray index="Energy" Change="-50"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AEmb2ManaLoss">
        <EditorCategories value="Race:Nightelf"/>
        <VitalArray index="Energy" Change="-100"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AEmb3ManaLoss">
        <EditorCategories value="Race:Nightelf"/>
        <VitalArray index="Energy" Change="-150"/>
    </CEffectModifyUnit>
    <!--Demon Hunter - Metamorphosis Buff=BEme-->
    <CEffectModifyUnit id="BEmeInitHPGain">
        <EditorCategories value="Race:Nightelf"/>
        <VitalArray index="Life" Change="500"/>
    </CEffectModifyUnit>
    <!--Priestess - Scout Buff=BEst-->
    <CEffectCreateUnit id="nowl" parent="War3_SummonUnit">
        <EditorCategories value="Race:Nightelf"/>
        <SpawnEffect value="AEst1Dur"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="now2" parent="War3_SummonUnit">
        <EditorCategories value="Race:Nightelf"/>
        <SpawnEffect value="AEst2Dur"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="now3" parent="War3_SummonUnit">
        <EditorCategories value="Race:Nightelf"/>
        <SpawnEffect value="AEst3Dur"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BEst" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
        <Flags index="UseDuration" value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AEst1Dur" parent="BEst">
        <Duration value="60"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AEst2Dur" parent="BEst">
        <Duration value="90"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AEst3Dur" parent="BEst">
        <Duration value="120"/>
    </CEffectApplyBehavior>
    <!--Priestess - Searing Arrows-->
    <CEffectApplyBehavior id="AHfaAugment" parent="War3_AugmentApply">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AHfa1" parent="AHfaBase"/>
    <CEffectApplyBehavior id="AHfa2" parent="AHfaBase"/>
    <CEffectApplyBehavior id="AHfa3" parent="AHfaBase"/>
    <CEffectModifyUnit id="AHfaManaLoss">
        <EditorCategories value="Race:Nightelf"/>
        <VitalArray index="Energy" Change="-8"/>
    </CEffectModifyUnit>
    <!--Black Arrow (melee, creep) Dur=2 HeroDur=2 Buff=BNba,BNdm-->
    <CEffectApplyBehavior id="ACbk" parent="War3_AugmentApply">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <!--Cold Arrows (creep) Dur=3 HeroDur=.75 Buff=BHca,Bcsd,Bcsi-->
    <CEffectApplyBehavior id="ACcw" parent="War3_AugmentApply">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <!--Warden - Shadow Strike Buff=BEsh cast=3-->
    <CEffectSet id="AEshMissileImpactSet">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="BEsh"/>
        <EffectArray value="BEshSpeedDecay"/>
    </CEffectSet>
    <CEffectModifyUnit id="AHfaInitManaGain">
        <EditorCategories value="Race:Nightelf"/>
        <VitalArray index="Energy" Change="8"/>
    </CEffectModifyUnit>
    <CEffectSet id="BEshInitSet">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="BEshInitDamage1"/>
        <EffectArray value="BEshInitDamage2"/>
        <EffectArray value="BEshInitDamage3"/>
    </CEffectSet>
    <CEffectSet id="BEshDecaySet">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="BEshDecayDamage1"/>
        <EffectArray value="BEshDecayDamage2"/>
        <EffectArray value="BEshDecayDamage3"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BEsh" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BEshSpeedDecay" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
        <Count value="32"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACssSpeedDecay" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps"/>
        <Count value="32"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="BEshInitDamage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Nightelf"/>
        <Amount value="75"/>
    </CEffectDamage>
    <CEffectDamage id="BEshInitDamage1" parent="BEshInitDamage">
        <ValidatorArray value="AEshLevel0"/>
    </CEffectDamage>
    <CEffectDamage id="BEshInitDamage2" parent="BEshInitDamage">
        <Amount value="150"/>
        <ValidatorArray value="AEshLevel1"/>
    </CEffectDamage>
    <CEffectDamage id="BEshInitDamage3" parent="BEshInitDamage">
        <Amount value="225"/>
        <ValidatorArray value="AEshLevel2"/>
    </CEffectDamage>
    <CEffectDamage id="BEshDecayDamage" parent="War3_MagicSpellDamage">
        <Amount value="10"/>
    </CEffectDamage>
    <CEffectDamage id="BEshDecayDamage1" parent="BEshDecayDamage">
        <ValidatorArray value="AEshLevel0"/>
    </CEffectDamage>
    <CEffectDamage id="BEshDecayDamage2" parent="BEshDecayDamage">
        <Amount value="30"/>
        <ValidatorArray value="AEshLevel1"/>
    </CEffectDamage>
    <CEffectDamage id="BEshDecayDamage3" parent="BEshDecayDamage">
        <Amount value="45"/>
        <ValidatorArray value="AEshLevel2"/>
    </CEffectDamage>
    <!--Priestess - Starfall Buff=AEsd effect=XEsf-->
    <CEffectCreatePersistent id="AEsf">
        <EditorCategories value="Race:Nightelf"/>
        <WhichLocation Value="CasterUnit"/>
        <PeriodicPeriodArray value="1.5"/>
        <PeriodicEffectArray value="AEsfSearch"/>
        <Flags index="Channeled" value="1"/>
        <PeriodCount value="30"/>
        <InitialEffect value="ChannelingSpell"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AEsfSearch" parent="War3_AbilSearch">
        <SearchFilters value="-;player,allies,wall,tree,debris,item,ward,dead,Hidden,invulnerable"/>
        <EditorCategories value="Race:Nightelf"/>
        <AreaArray Radius="7.8125" Effect="AEsd"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="AEsd" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="AEsfDamage" parent="War3_UltraSpellDamage">
        <EditorCategories value="Race:Nightelf"/>
        <AttributeFactor index="fortified" value="-0.65"/>
        <Amount value="50"/>
    </CEffectDamage>
    <!--Keeper - Thorns Aura Buff=BEah-->
    <CEffectEnumArea id="AEahSearch" parent="War3_AuraSearch" aura="BEah">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="BEah" parent="War3_AuraBuff">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectApplyBehavior>
    <CEffectSet id="BEahSpecial"/>
    <!--Keeper - Tranquility Buff=AEtr effect=XEtq-->
    <CEffectCreatePersistent id="AEtq">
        <EditorCategories value="Race:Nightelf"/>
        <WhichLocation Value="CasterUnit"/>
        <PeriodicPeriodArray value="1"/>
        <PeriodicEffectArray value="AEtqSearch"/>
        <Flags index="Channeled" value="1"/>
        <PeriodCount value="30"/>
        <InitialEffect value="ChannelingSpell"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AEtqSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Nightelf"/>
        <SearchFilters value="-;enemies,wall,tree,debris,item,structure,ward,dead,Hidden"/>
        <AreaArray Radius="7.8125" Effect="AEtr"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="AEtr" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectApplyBehavior>
    <CEffectCreateHealer id="AEtqHealTick" parent="War3_InstantHeal">
        <EditorCategories value="Race:Nightelf"/>
        <RechargeVitalRate value="20"/>
    </CEffectCreateHealer>
    <!--Priestess - Trueshot Aura Buff=BEar-->
    <CEffectEnumArea id="AEarSearch" parent="War3_AuraSearch" aura="BEarSet">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectEnumArea>
    <CEffectSet id="BEarSet">
        <EditorCategories value="Race:Nightelf"/>
        <EffectArray value="BEar1"/>
        <EffectArray value="BEar2"/>
        <EffectArray value="BEar3"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BEar1" parent="War3_AuraBuff">
        <EditorCategories value="Race:Nightelf"/>
        <ValidatorArray value="AEarLevel0"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BEar2" parent="War3_AuraBuff">
        <EditorCategories value="Race:Nightelf"/>
        <ValidatorArray value="AEarLevel1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BEar3" parent="War3_AuraBuff">
        <EditorCategories value="Race:Nightelf"/>
        <ValidatorArray value="AEarLevel2"/>
    </CEffectApplyBehavior>
    <!--Warden - Spirit of Vengeance Buff=BEsv-->
    <CEffectCreateUnit id="espv" parent="War3_SummonUnit">
        <EditorCategories value="Race:Nightelf"/>
        <SpawnEffect value="BEsv"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BEsv" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf"/>
    </CEffectApplyBehavior>
    <!--Ancestral Spirit-->
    <CEffectEnumArea id="Aast" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Orc"/>
        <AreaArray Radius="2.7343" Effect="AastRevive"/>
        <SearchFilters value="dead;self,allies,neutral,enemies,wall,tree,Missile,debris,item,structure,ward,Hidden,invulnerable,hero"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindcorpse"/>
        <TargetSorts>
            <SortArray value="UnitLevel"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AastRevive">
        <EditorCategories value="Race:Orc"/>
        <ModifyFlags index="Revive" value="1"/>
        <VitalArray index="Life" ChangeFraction="1"/>
        <VitalArray index="Shields" ChangeFraction="1"/>
        <ValidatorArray value="IsTauren"/>
    </CEffectModifyUnit>
    <!--Beserk Dur=12 HeroDur=12 Buff=Bbsk-->
    <CEffectApplyBehavior id="Bbsk" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <!--Bloodlust Dur=60 HeroDur=60 Buff=Bblo-->
    <CEffectApplyBehavior id="Bblo" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <!--Balls of Fire Dur=2.51 HeroDur=1.01 Buff=Bbof effect=Xbof-->
    <CEffectCreatePersistent id="AbofSphereEffect">
        <EditorCategories value="Race:Orc"/>
        <ExpireEffect value="AbofSubsides"/>
        <PeriodCount value="2"/>
        <PeriodicEffectArray value="AbofFullDamageSearch"/>
        <PeriodicPeriodArray value="0.5"/>
        <RevealRadius value="6"/>
        <RevealFlags index="Unfog" value="1"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AbofSubsides">
        <EditorCategories value="Race:Orc"/>
        <PeriodCount value="2"/>
        <PeriodicPeriodArray value="1"/>
        <PeriodicEffectArray value="AbofHalfDamageSearch"/>
        <RevealRadius value="6"/>
        <RevealFlags index="Unfog" value="1"/>
        <ExpireDelay value="0.5"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AbofFullDamageSearch">
        <EditorCategories value="Race:Orc"/>
        <AreaArray Radius="1.1718" Effect="AbofFullDamageSet"/>
        <SearchFilters value="-;air,wall,tree,Missile,debris,item,ward,dead,invulnerable"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AbofHalfDamageSearch">
        <EditorCategories value="Race:Orc"/>
        <AreaArray Radius="1.1718" Effect="AbofHalfDamageSet"/>
        <SearchFilters value="-;air,wall,tree,Missile,debris,item,ward,dead,invulnerable"/>
    </CEffectEnumArea>
    <CEffectSet id="AbofFullDamageSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AbofFullDamage"/>
        <EffectArray value="Bbof"/>
    </CEffectSet>
    <CEffectSet id="AbofHalfDamageSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AbofHalfDamage"/>
        <EffectArray value="Bbof"/>
    </CEffectSet>
    <CEffectDamage id="AbofFullDamage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="6"/>
    </CEffectDamage>
    <CEffectDamage id="AbofHalfDamage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="3"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="Bbof" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <!--Devour Buff=Bdig,Bdvv-->
    <CEffectApplyBehavior id="Bdig" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="BdigDPS" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="5"/>
    </CEffectDamage>
    <!--Disenchant(new)-->
    <CEffectSet id="Adcn">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AdcnSearch"/>
        <EffectArray value="DispelOwlR250"/>
        <TargetLocationType value="Point"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
    </CEffectSet>
    <CEffectEnumArea id="AdcnSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Orc"/>
        <SearchFilters value="-;wall,Missile,debris,item,structure,dead,Hidden"/>
        <AreaArray Radius="1.9531" Effect="DispelAllBuffsAndHurtEnemySummoned250"/>
        <ImpactLocation Value="TargetPoint"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="DisenchantSearchDamageTac" parent="AdcnSearch">
        <MinCount value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <SearchFilters value="summoned;player,allies,neutral,wall,Missile,debris,item,structure,dead,Hidden"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="DisenchantPurgeTac" parent="AdcnSearch">
        <MinCount value="1"/>
        <AINotifyFlags index="HelpFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AreaArray index="0" Radius="1.9531" Effect="TactFilterEnemyHasPurgableBuffOrFriendHasPurgableDebuff"/>
    </CEffectEnumArea>
    <!--Ensnare Dur=12 HeroDur=3 Buff=Bena,Beng-->
    <CEffectSwitch id="Aens">
        <EditorCategories value="Race:Orc"/>
        <CaseArray Validator="AirUnit" Effect="Bena"/>
        <CaseDefault value="Beng"/>
    </CEffectSwitch>
    <CEffectApplyBehavior id="Bena" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Beng" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <!--Venom Spears Dur=25 HeroDur=1 Buff=Bpoi,Bpsd-->
    <CEffectSet id="AvenSphereEffect">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="Bpoi"/>
        <EffectArray value="Bpsd"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Bpoi" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Bpsd" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="BpsdDPS" parent="War3_Poision">
        <EditorCategories value="Race:Orc"/>
        <Amount value="4"/>
    </CEffectDamage>
    <!--Healing Ward Dur=30 HeroDur=30 Buff=Bhwd-->
    <CEffectCreateUnit id="ohwd" parent="War3_SummonUnit">
        <EditorCategories value="Race:Orc"/>
        <SpawnEffect value="Bhwd"/>
        <WhichLocation Value="TargetPoint"/>
        <CreateFlags index="Placement" value="0"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="Bhwd" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <!--Aura - Regeneration (Ward) Buff=Boar-->
    <CEffectEnumArea id="AoarSearch" parent="War3_AuraSearch" aura="Boar">
        <EditorCategories value="Race:Orc"/>
        <SearchFilters value="-;self,enemies,mechanical,wall,tree,debris,item,structure,ward,dead,Hidden"/>
        <AreaArray index="0" Radius="3.9062" Effect="Boar"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AoarHealTick">
        <EditorCategories value="Race:Orc"/>
        <VitalArray index="Life" ChangeFraction="0.02"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="Boar" parent="War3_AuraBuff">
        <EditorCategories value="Race:Orc"/>
        <ValidatorArray value="TargetLifeNotFull"/>
    </CEffectApplyBehavior>
    <!--Lightning Shield Dur=20 HeroDur=20 Buff=Blsh,Blsa-->
    <CEffectApplyBehavior id="Blsh" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="BlshSearch" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Orc"/>
        <SearchFilters value="-;air,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable,Passive"/>
        <AreaArray Radius="1.25" Effect="BlshDPS"/>
        <ExcludeArray Value="Source"/>
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
    </CEffectEnumArea>
    <CEffectDamage id="BlshDPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="20"/>
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <ResponseFlags index="Acquire" value="0"/>
    </CEffectDamage>
    <!--ItemChangeTOD Dur=30 effect=XIct-->
    <CEffectSet id="AIct">
        <EditorCategories value="Race:Other"/>
    </CEffectSet>
    <!--Orb of Venom (Poison Attack) Dur=6 HeroDur=6 Buff=BIpb,BIpd-->
    <CEffectSet id="Apo2SphereEffect">
        <EditorCategories value="Race:Other"/>
        <EffectArray value="BIpb"/>
        <EffectArray value="BIpd"/>
    </CEffectSet>
    <CEffectDamage id="BIpdDPS" parent="War3_Poision">
        <EditorCategories value="Race:Other"/>
        <Amount value="9"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="BIpb" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BIpd" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <!--Anti-magic Shield Buff=Bams,Bam2-->
    <CEffectApplyBehavior id="Bams15s" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
        <Behavior value="Bams"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="15"/>
    </CEffectApplyBehavior>
    <!--Anti-magic Shield Dur=90 HeroDur=90 Buff=Bams,Bam2-->
    <CEffectApplyBehavior id="Bams" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Bam2" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <!--Liquid Fire Dur=3 HeroDur=3 Buff=Bliq-->
    <CEffectSet id="AliqSphereEffect">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="Bliq"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Bliq" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="BliqDPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="8"/>
    </CEffectDamage>
    <!--Purge Dur=15 HeroDur=5 Buff=Bprg-->
    <CEffectSet id="Aprg">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="DispelAllBuffsAndHurtEnemySummoned400AndDispelOwl"/>
        <EffectArray value="Bprg"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Bprg" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <ValidatorArray value="IsEnemy"/>
        <Count value="4"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BprgUpdateTriggerNotice">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <!--Purge Dur=15 HeroDur=5 Buff=Bprg-->
    <CEffectSet id="Apg2">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="DispelAllBuffsAndHurtEnemySummoned400AndDispelOwl"/>
        <EffectArray value="Bprg"/>
        <EffectArray value="BprgPause"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BprgPause" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <ValidatorArray value="IsEnemy"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="HealingWardTactSearchNotMoving" parent="AoarSearch">
        <AreaArray index="0" Radius="3.9062" Effect="HealingWardTactSearchValidator"/>
    </CEffectEnumArea>
    <!--Sentry Ward Dur=600 HeroDur=600 Buff=Beye-->
    <CEffectCreateUnit id="oeye" parent="War3_SummonUnit">
        <EditorCategories value="Race:Orc"/>
        <SpawnEffect value="Beye"/>
        <WhichLocation Value="TargetPoint"/>
        <CreateFlags index="Placement" value="0"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="Beye" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <!--Rune of the Watcher Buff=Beye-->
    <CEffectCreateUnit id="APwt" parent="War3_SummonUnit">
        <EditorCategories value="Race:Orc"/>
        <SpawnEffect value="Beye0s"/>
        <WhichLocation Value="CasterUnitOrPoint"/>
        <SpawnUnit value="nwad"/>
        <SpawnOwner Value="Target"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="Beye0s" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <Flags index="UseDuration" value="1"/>
    </CEffectApplyBehavior>
    <!--Spirit Link Dur=75 HeroDur=75 Buff=Bspl-->
    <CEffectSet id="Aspl">
        <EditorCategories value="Race:Orc"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Bspl" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <ValidatorArray value="NotSelf"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="BsplMainDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
    </CEffectDamage>
    <CEffectDamage id="BsplSplitDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Flags index="Live" value="1"/>
    </CEffectDamage>
    <!--Stasis Trap Dur=150 HeroDur=2.5 Buff=Bstt StunBuff=Bsta-->
    <CEffectCreateUnit id="otot" parent="War3_SummonUnit">
        <EditorCategories value="Race:Orc"/>
        <SpawnEffect value="ototSet"/>
        <WhichLocation Value="TargetPoint"/>
        <CreateFlags index="Placement" value="0"/>
    </CEffectCreateUnit>
    <CEffectSet id="ototSet">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="Bstt"/>
        <EffectArray value="AstaDelay"/>
    </CEffectSet>
    <CEffectEnumArea id="BsttSearch" parent="War3_AbilSearch">
        <AreaArray Radius="3.125" Effect="Bsta"/>
        <SearchFilters value="-;player,allies,air,wall,tree,debris,item,structure,ward,dead,Hidden,invulnerable,immunity"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="AstaDelay" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BsttDetonationDelay" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Bstt" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Bsta" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectSet id="BsttDetonation">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="BsttSearch"/>
        <EffectArray value="SuicideImpact"/>
    </CEffectSet>
    <!--Unstable Concoction-->
    <CEffectLaunchMissile id="AucoMissile">
        <EditorCategories value="Race:Orc"/>
        <ImpactEffect value="AucoDamage"/>
        <LaunchLocation Value="CasterUnit"/>
        <Movers Link="AucoMissile"/>
    </CEffectLaunchMissile>
    <CEffectDamage id="AucoDamage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="600"/>
        <SearchFilters value="-;player,allies,ground,wall,tree,debris,item,structure,ward,ethereal,dead,invulnerable"/>
        <AreaArray Radius="1.5625" Bonus="2" Fraction="0.24"/>
    </CEffectDamage>
    <!--Aura - War Drums Buff=Bakb-->
    <CEffectEnumArea id="AakbSearch" parent="War3_AuraSearch" aura="Bakb">
        <EditorCategories value="Race:Orc"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="Bakb" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <!--Shadow Hunter - Voodooo Buff=BOvd,BOvc-->
    <CEffectApplyBehavior id="BOvc" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="BOvcSearch" parent="War3_AuraSearch" aura="BOvd">
        <EditorCategories value="Race:Orc"/>
        <SearchFilters value="-;self,neutral,enemies,wall,tree,debris,item,structure,ward,dead,Hidden"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="BOvd" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <ValidatorArray value="NotInvulnerabilitySuppressed"/>
    </CEffectApplyBehavior>
    <!--Blade Master - Bladestorm Buff=BOww-->
    <CEffectApplyBehavior id="BOww" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AOclMainmIpact">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <EffectArray value="AOcl1"/>
        <EffectArray value="AOcl2"/>
        <EffectArray value="AOcl3"/>
    </CEffectSet>
    <CEffectDamage id="BOwwDPS" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <AreaArray Radius="1.5625" Fraction="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,Missile,item,ward,ethereal,dead,Hidden,invulnerable"/>
        <Amount value="110"/>
        <SearchFlags index="OffsetByUnitRadius" value="1"/>
        <ImpactLocation Value="CasterPoint"/>
    </CEffectDamage>
    <CEffectEnumArea id="AOclSearch" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <SearchFilters value="Visible;player,allies,mechanical,wall,tree,debris,item,structure,ward,dead,Hidden,invulnerable,immunity"/>
        <AreaArray Radius="3.9062" Effect="AOclDelay"/>
        <MaxCount value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="AOclSecondaryImpact">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ValidatorArray value="noMarkers"/>
        <EffectArray value="AOclSearch"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AOcl">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="AOclMainmIpact"/>
        <WhichLocation Value="TargetUnit"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AOclDelay">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="AOclISecondarympact"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="AOcl1" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ValidatorArray value="AOclLevel0"/>
        <Amount value="85"/>
    </CEffectDamage>
    <CEffectDamage id="AOcl2" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ValidatorArray value="AOclLevel1"/>
        <Amount value="125"/>
    </CEffectDamage>
    <CEffectDamage id="AOcl3" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ValidatorArray value="AOclLevel2"/>
        <Amount value="180"/>
    </CEffectDamage>
    <CEffectDamage id="AOclSecondaryTriggerDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
    </CEffectDamage>
    <CEffectSet id="AOclSecondaryLightningDummy">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
    </CEffectSet>
    <!--Chain Lightning (creep)-->
    <CEffectCreatePersistent id="ACcl">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="ACclMainmIpactDamage"/>
        <WhichLocation Value="TargetUnit"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="ACclMainmIpactDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <Amount value="100"/>
    </CEffectDamage>
    <!--Blade Master - Critical Strike-->
    <CEffectSet id="W1CritTriggerNotice"/>
    <CEffectSet id="W2CritTriggerNotice"/>
    <CEffectSet id="ACctW1CritTriggerNotice"/>
    <CEffectSet id="ACctW2CritTriggerNotice"/>
    <CEffectSet id="W1Crit">
        <EffectArray value="W1CritTriggerNotice"/>
    </CEffectSet>
    <CEffectSet id="W2Crit">
        <EffectArray value="W2CritTriggerNotice"/>
    </CEffectSet>
    <CEffectSet id="ACctW1Crit">
        <EffectArray value="ACctW1CritTriggerNotice"/>
    </CEffectSet>
    <CEffectSet id="ACctW2Crit">
        <EffectArray value="ACctW2CritTriggerNotice"/>
    </CEffectSet>
    <CEffectSet id="Ogrh1Crit" parent="W1Crit"/>
    <CEffectSet id="Ogrh2Crit" parent="W2Crit"/>
    <CEffectSet id="Nbbc1Crit" parent="W1Crit"/>
    <CEffectSet id="Nbbc2Crit" parent="W2Crit"/>
    <CEffectSet id="Obla1Crit" parent="W1Crit"/>
    <CEffectSet id="Obla2Crit" parent="W2Crit"/>
    <CEffectSet id="Osam1Crit" parent="W1Crit"/>
    <CEffectSet id="Osam2Crit" parent="W2Crit"/>
    <CEffectSet id="Opgh1Crit" parent="W1Crit"/>
    <CEffectSet id="Opgh2Crit" parent="W2Crit"/>
    <CEffectSet id="nwld1Crit" parent="ACctW1Crit"/>
    <CEffectSet id="nwld2Crit" parent="ACctW2Crit"/>
    <CEffectSet id="nwwd1Crit" parent="ACctW1Crit"/>
    <CEffectSet id="nwwd2Crit" parent="ACctW2Crit"/>
    <CEffectSet id="nwwg1Crit" parent="ACctW1Crit"/>
    <CEffectSet id="nwwg2Crit" parent="ACctW2Crit"/>
    <CEffectSet id="osw21Crit" parent="ACctW1Crit"/>
    <CEffectSet id="osw22Crit" parent="ACctW2Crit"/>
    <CEffectSet id="osw31Crit" parent="ACctW1Crit"/>
    <CEffectSet id="osw32Crit" parent="ACctW2Crit"/>
    <!--Farseer - Earthquake Buff=BOeq,BOea effect=XOeq-->
    <CEffectCreatePersistent id="AOeq">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <PeriodicEffectArray value="AOeqSearch"/>
        <PeriodicPeriodArray value="1"/>
        <InitialDelay value="0.5"/>
        <Flags index="Channeled" value="1"/>
        <PeriodCount value="25"/>
        <InitialEffect value="ChannelingSpell"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AOeqSearch" parent="War3_AbilSearch">
        <AreaArray Radius="1.9531" Effect="AOeqImpact"/>
        <SearchFilters value="-;air,wall,RawResource,tree,Missile,item,ward,dead,Hidden,invulnerable"/>
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <AINotifyFlags index="MinorDanger" value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="AOeqImpact">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <EffectArray value="AOeqDamage"/>
        <EffectArray value="BOeq"/>
    </CEffectSet>
    <CEffectDamage id="AOeqDamage" parent="War3_UltraSpellDamage">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ValidatorArray value="Building_War3"/>
        <Amount value="50"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="BOeq" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ValidatorArray value="NotBuilding_War3"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="2"/>
    </CEffectApplyBehavior>
    <!--Chieftain - Endurance Aura Buff=BOae-->
    <CEffectEnumArea id="AOaeSearch" parent="War3_AuraSearch" aura="BOaeSet">
        <EditorCategories value="Race:Orc"/>
    </CEffectEnumArea>
    <CEffectSet id="BOaeSet">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <EffectArray value="BOae1"/>
        <EffectArray value="BOae2"/>
        <EffectArray value="BOae3"/>
        <EffectArray value="BOae4"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BOae1" parent="War3_AuraBuff">
        <EditorCategories value="Race:Orc"/>
        <ValidatorArray value="HeroPassiveButtonLevel1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BOae2" parent="War3_AuraBuff">
        <EditorCategories value="Race:Orc"/>
        <ValidatorArray value="HeroPassiveButtonLevel2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BOae3" parent="War3_AuraBuff">
        <EditorCategories value="Race:Orc"/>
        <ValidatorArray value="HeroPassiveButtonLevel3"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BOae4" parent="War3_AuraBuff">
        <EditorCategories value="Race:Orc"/>
        <ValidatorArray value="HeroPassiveButtonLevel4"/>
    </CEffectApplyBehavior>
    <!--Farseer - Far Sight effect=Xbdt-->
    <CEffectCreatePersistent id="AOfs1">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ExpireDelay value="8"/>
        <RevealRadius value="4.6875"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;PreventDefeat,Hidden"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AOfs2">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ExpireDelay value="8"/>
        <RevealRadius value="14.0625"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;PreventDefeat,Hidden"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AOfs3">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ExpireDelay value="8"/>
        <RevealRadius value="31.25"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;PreventDefeat,Hidden"/>
    </CEffectCreatePersistent>
    <!--Farseer - Spirit Wolf Buff=BOsf-->
    <CEffectCreateUnit id="osw1" parent="War3_SummonUnit">
        <EditorCategories value="Race:Orc"/>
        <SpawnEffect value="BOsf"/>
        <SpawnCount value="2"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="osw2" parent="War3_SummonUnit">
        <EditorCategories value="Race:Orc"/>
        <SpawnEffect value="BOsf"/>
        <SpawnCount value="2"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="osw3" parent="War3_SummonUnit">
        <EditorCategories value="Race:Orc"/>
        <SpawnEffect value="BOsf"/>
        <SpawnCount value="2"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BOsf">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <!--Shadow Hunter - Healing Wave-->
    <CEffectSet id="AOhwMainmIpact">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
    </CEffectSet>
    <CEffectCreatePersistent id="AOhw">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="AOhwMainmIpact"/>
        <WhichLocation Value="TargetUnit"/>
        <ValidatorArray value="TargetLifeNotFull"/>
    </CEffectCreatePersistent>
    <CEffectSet id="AOhwSecondaryLightningDummy">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
    </CEffectSet>
    <!--Rokhan - Healing Wave-->
    <CEffectSet id="ANhwMainmIpact">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
    </CEffectSet>
    <CEffectCreatePersistent id="ANhw">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="ANhwMainmIpact"/>
        <WhichLocation Value="TargetUnit"/>
        <ValidatorArray value="TargetLifeNotFull"/>
    </CEffectCreatePersistent>
    <!--Rokhan - Hex Buff=BOhx-->
    <CEffectApplyBehavior id="ANhx1HeroDur" parent="War3_HeroDur" buff="BOhx">
        <Duration value="4"/>
        <KillHallucination value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANhx1Dur" parent="War3_Dur" buff="BOhx">
        <Duration value="15"/>
        <KillHallucination value="1"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANhx1" parent="War3_DurSet"/>
    <CEffectApplyBehavior id="ANhx2HeroDur" parent="War3_HeroDur" buff="BOhx">
        <Duration value="5"/>
        <KillHallucination value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANhx2Dur" parent="War3_Dur" buff="BOhx">
        <Duration value="30"/>
        <KillHallucination value="1"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANhx2" parent="War3_DurSet"/>
    <CEffectApplyBehavior id="ANhx3HeroDur" parent="War3_HeroDur" buff="BOhx">
        <Duration value="6"/>
        <KillHallucination value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANhx3Dur" parent="War3_Dur" buff="BOhx">
        <Duration value="45"/>
        <KillHallucination value="1"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANhx3" parent="War3_DurSet"/>
    <CEffectApplyBehavior id="ANhx4HeroDur" parent="War3_HeroDur" buff="BOhx">
        <Duration value="6"/>
        <KillHallucination value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANhx4Dur" parent="War3_Dur" buff="BOhx">
        <Duration value="45"/>
        <KillHallucination value="1"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANhx4" parent="War3_DurSet"/>
    <!--Blade Master - Mirror Image Buff=BOmi-->
    <CEffectApplyBehavior id="AOmi" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <Behavior value="AOmiPrecursor"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BOmi" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectCreateUnit id="AOmiCreateUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:Orc"/>
        <CreateFlags index="Birth" value="0"/>
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="ProvideFood" value="0"/>
        <CreateFlags index="SetFacing" value="1"/>
        <CreateFlags index="SelectControlGroups" value="1"/>
        <CreateFlags index="TechComplete" value="0"/>
        <SpawnEffect value="AOmiSpawnEffect"/>
        <WhichLocation Value="TargetPoint"/>
        <SelectUnit Value="Caster"/>
    </CEffectCreateUnit>
    <CEffectTeleport id="AOmiTeleport">
        <EditorCategories value="Race:Orc"/>
        <MinDistance value="0"/>
        <PlacementArc value="0"/>
        <TargetLocation Value="TargetPoint"/>
        <TeleportFlags index="TestFog" value="0"/>
        <WhichUnit Value="Caster"/>
    </CEffectTeleport>
    <CEffectModifyUnit id="AOmiCopy">
        <EditorCategories value="Race:Orc"/>
        <ModifyFlags index="Copy" value="1"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectSet id="AOmiSpawnEffect">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <EffectArray value="AOmiCopy"/>
        <EffectArray value="BOmi"/>
    </CEffectSet>
    <!--Chieftain - Reincarnation effect=XOre cast=3-->
    <CEffectCreatePersistent id="AOre">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ExpireDelay value="7"/>
        <ExpireEffect value="AOreReviveSet"/>
        <WhichLocation Value="CasterUnitOrPoint"/>
        <InitialDelay value="0.0625"/>
        <InitialEffect value="AIrcDestory"/>
    </CEffectCreatePersistent>
    <CEffectModifyUnit id="AOreRevive">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ModifyFlags index="Revive" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AOreHeal">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <VitalArray index="Life" ChangeFraction="1"/>
        <VitalArray index="Shields" ChangeFraction="1"/>
    </CEffectModifyUnit>
    <CEffectSet id="AOreReviveSet">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <EffectArray value="AOreRevive"/>
        <EffectArray value="AOreHeal"/>
    </CEffectSet>
    <CEffectDestroyPersistent id="AIrcDestory">
        <EditorCategories value="Race:Other"/>
        <Effect value="AIrc"/>
    </CEffectDestroyPersistent>
    <!--Cairne - Reincarnation effect=XOre cast=3-->
    <CEffectCreatePersistent id="AOr3">
        <EditorCategories value="Race:Orc,AbilityorEffectType:Hero"/>
        <ExpireDelay value="2"/>
        <ExpireEffect value="AOreReviveSet"/>
        <WhichLocation Value="CasterUnitOrPoint"/>
    </CEffectCreatePersistent>
    <!--Shadow Hunter - Serpent Ward Buff=BOwd-->
    <CEffectCreateUnit id="osp1" parent="War3_SummonUnit">
        <EditorCategories value="Race:Orc"/>
        <SpawnEffect value="BOwd"/>
        <WhichLocation Value="TargetPoint"/>
        <CreateFlags index="Placement" value="0"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="osp2" parent="War3_SummonUnit">
        <EditorCategories value="Race:Orc"/>
        <SpawnEffect value="BOwd"/>
        <WhichLocation Value="TargetPoint"/>
        <CreateFlags index="Placement" value="0"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="osp3" parent="War3_SummonUnit">
        <EditorCategories value="Race:Orc"/>
        <SpawnEffect value="BOwd"/>
        <WhichLocation Value="TargetPoint"/>
        <CreateFlags index="Placement" value="0"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="osp4" parent="War3_SummonUnit">
        <EditorCategories value="Race:Orc"/>
        <SpawnEffect value="BOwd"/>
        <WhichLocation Value="TargetPoint"/>
        <CreateFlags index="Placement" value="0"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BOwd" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <!--Chieftain - Shock Wave Buff=BOsh-->
    <CEffectCreatePersistent id="AOshTarget">
        <EditorCategories value="Race:Orc"/>
        <WhichLocation Value="CasterPoint"/>
        <PeriodCount value="1"/>
        <PeriodicEffectArray value="AOshMissile"/>
        <PeriodicOffsetArray value="0,-6.25,0"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="AOshMissile">
        <EditorCategories value="Race:Orc"/>
        <ImpactLocation Value="TargetPoint"/>
        <LaunchEffect value="AOshPersistentScanner"/>
    </CEffectLaunchMissile>
    <CEffectCreatePersistent id="AOshPersistentScanner">
        <EditorCategories value="Race:Orc"/>
        <WhichLocation Value="SourceUnit"/>
        <PeriodicValidator value="SourceNotDead"/>
        <PeriodicEffectArray value="AOshSearch"/>
        <PeriodicPeriodArray value="0.0625"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AOshSearch" Parent="War3_AbilSearch">
        <EditorCategories value="Race:Orc"/>
        <AreaArray Radius="0.9765" Effect="AOshSearchImpact"/>
        <SearchFilters value="-;player,allies,neutral,air,wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable,immunity"/>
        <MaxCount value="12"/>
    </CEffectEnumArea>
    <CEffectSet id="AOshSearchImpact">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AOshDamage1"/>
        <EffectArray value="AOshDamage2"/>
        <EffectArray value="AOshDamage3"/>
        <ValidatorArray value="noMarkers"/>
    </CEffectSet>
    <CEffectDamage id="AOshDamage1" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="75"/>
        <ValidatorArray value="AOshLevel0"/>
    </CEffectDamage>
    <CEffectDamage id="AOshDamage2" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="130"/>
        <ValidatorArray value="AOshLevel1"/>
    </CEffectDamage>
    <CEffectDamage id="AOshDamage3" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="200"/>
        <ValidatorArray value="AOshLevel2"/>
    </CEffectDamage>
    <!--Cairne - Shock Wave Buff=BOsh-->
    <CEffectCreatePersistent id="AOs2Target">
        <EditorCategories value="Race:Orc"/>
        <WhichLocation Value="CasterPoint"/>
        <PeriodCount value="1"/>
        <PeriodicEffectArray value="AOs2Missile"/>
        <PeriodicOffsetArray value="0,-6.25,0"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AOs2PersistentScanner">
        <EditorCategories value="Race:Orc"/>
        <WhichLocation Value="SourceUnit"/>
        <PeriodicValidator value="SourceNotDead"/>
        <PeriodicEffectArray value="AOs2Search"/>
        <PeriodicPeriodArray value="0.0625"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AOs2Search" Parent="War3_AbilSearch">
        <EditorCategories value="Race:Orc"/>
        <AreaArray Radius="0.9765" Effect="AOs2SearchImpact"/>
        <SearchFilters value="-;player,allies,neutral,air,wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable,immunity"/>
        <MaxCount value="12"/>
    </CEffectEnumArea>
    <CEffectSet id="AOs2SearchImpact">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AOs2Damage1"/>
        <EffectArray value="AOs2Damage2"/>
        <EffectArray value="AOs2Damage3"/>
        <EffectArray value="AOs2Damage4"/>
        <ValidatorArray value="noMarkers"/>
    </CEffectSet>
    <CEffectDamage id="AOs2Damage1" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="75"/>
        <ValidatorArray value="AOs2Level0"/>
    </CEffectDamage>
    <CEffectDamage id="AOs2Damage2" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="130"/>
        <ValidatorArray value="AOs2Level1"/>
    </CEffectDamage>
    <CEffectDamage id="AOs2Damage3" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="200"/>
        <ValidatorArray value="AOs2Level2"/>
    </CEffectDamage>
    <CEffectDamage id="AOs2Damage4" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="300"/>
        <ValidatorArray value="AOs2Level3"/>
    </CEffectDamage>
    <!--Chieftain - War Stomp Buff=BPSE-->
    <CEffectEnumArea id="AOws1Search" parent="AOwsSearch">
        <AreaArray index="0" Radius="1.9531" Effect="AOws1SearchImpact"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AOws2Search" parent="AOwsSearch">
        <AreaArray index="0" Radius="2.3437" Effect="AOws2SearchImpact"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AOws3Search" parent="AOwsSearch">
        <AreaArray index="0" Radius="2.7343" Effect="AOws3SearchImpact"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="BOws" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AOws1SearchImpact">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AOwsDamage1"/>
        <EffectArray value="AOws1"/>
    </CEffectSet>
    <CEffectSet id="AOws2SearchImpact">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AOwsDamage2"/>
        <EffectArray value="AOws2"/>
    </CEffectSet>
    <CEffectSet id="AOws3SearchImpact">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AOwsDamage3"/>
        <EffectArray value="AOws3"/>
    </CEffectSet>
    <CEffectDamage id="AOwsDamage1" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="25"/>
    </CEffectDamage>
    <CEffectDamage id="AOwsDamage2" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="50"/>
    </CEffectDamage>
    <CEffectDamage id="AOwsDamage3" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="75"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="AOws1HeroDur" parent="War3_HeroDur" buff="BOws">
        <Duration value="2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AOws1Dur" parent="War3_Dur" buff="BOws">
        <Duration value="3"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AOws1" parent="War3_DurSet"/>
    <CEffectApplyBehavior id="AOws2HeroDur" parent="War3_HeroDur" buff="BOws">
        <Duration value="3"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AOws2Dur" parent="War3_Dur" buff="BOws">
        <Duration value="4"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AOws2" parent="War3_DurSet"/>
    <CEffectApplyBehavior id="AOws3HeroDur" parent="War3_HeroDur" buff="BOws">
        <Duration value="4"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AOws3Dur" parent="War3_Dur" buff="BOws">
        <Duration value="5"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AOws3" parent="War3_DurSet"/>
    <!--Cairne- War Stomp Buff=BPSE-->
    <CEffectEnumArea id="AOw24Search" parent="AOwsSearch">
        <AreaArray index="0" Radius="2.7343" Effect="AOw24SearchImpact"/>
    </CEffectEnumArea>
    <CEffectSet id="AOws24SearchImpact">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="AOw2Damage4"/>
        <EffectArray value="AOw24"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AOw24HeroDur" parent="War3_HeroDur" buff="BOws">
        <Duration value="4.5"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AOw24Dur" parent="War3_Dur" buff="BOws">
        <Duration value="6"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AOw24" parent="War3_DurSet"/>
    <CEffectDamage id="AOw2Damage4" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Orc"/>
        <Amount value="100"/>
    </CEffectDamage>
    <!--Blade Master - Wind Walk Buff=BOwk-->
    <CEffectSet id="WindWalkCancelAttack">
        <EditorCategories value="Race:Orc"/>
        <EffectArray value="CancelAttackOrdersWar3"/>
        <EffectArray value="WindWalkTempInvincible"/>
    </CEffectSet>
    <CEffectApplyBehavior id="WindWalkTempInvincible" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectCreatePersistent id="AOwk1">
        <EditorCategories value="Race:Orc"/>
        <InitialEffect value="BOwkTransition"/>
        <ExpireDelay value="0.6"/>
        <ExpireEffect value="BOwk1"/>
        <WhichLocation Value="CasterUnit"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AOwk2">
        <EditorCategories value="Race:Orc"/>
        <InitialEffect value="BOwkTransition"/>
        <ExpireDelay value="0.6"/>
        <ExpireEffect value="BOwk2"/>
        <WhichLocation Value="CasterUnit"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AOwk3">
        <EditorCategories value="Race:Orc"/>
        <InitialEffect value="BOwkTransition"/>
        <ExpireDelay value="0.6"/>
        <ExpireEffect value="BOwk3"/>
        <WhichLocation Value="CasterUnit"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="BOwkTransition" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BOwk1" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BOwk2" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BOwk3" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BOwk1ExtraDamage" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BOwk2ExtraDamage" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BOwk3ExtraDamage" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Orc"/>
    </CEffectApplyBehavior>
    <!--Potion of Life Regen Dur=45 HeroDur=45 Buff=BIrg,BIrl,BIrm-->
    <CEffectSet id="AIrl">
        <EditorCategories value="Race:Other"/>
        <EffectArray value="BIrlRemove"/>
        <EffectArray value="AIrlBuff"/>
        <ValidatorArray value="TargetLifeNotFull"/>
    </CEffectSet>
    <CEffectRemoveBehavior id="BIrlRemove">
        <EditorCategories value="Race:Other"/>
        <BehaviorLink value="BIrl"/>
    </CEffectRemoveBehavior>
    <CEffectApplyBehavior id="AIrlBuff" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <CEffectModifyUnit id="AIrlHealTick">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life" Change="8.889"/>
    </CEffectModifyUnit>
    <!--ItemSpeedAoe Dur=10 HeroDur=10 Buff=Bspe-->
    <CEffectApplyBehavior id="Bspe" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="AIsaSearch" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="4.6875" Effect="Bspe"/>
        <EditorCategories value="Race:Other"/>
        <SearchFilters value="-;neutral,enemies,wall,tree,debris,item,structure,ward,dead,immunity"/>
    </CEffectEnumArea>
    <!--Orb of Lightning-->
    <CEffectSwitch id="AIllSphereEffect">
        <EditorCategories value="Race:Other"/>
        <CaseArray Validator="Hero" Effect="AIllHero"/>
        <CaseArray Validator="IsSummoned" Effect="AIllSummon"/>
        <CaseDefault value="AIllUnit"/>
    </CEffectSwitch>
    <CEffectSet id="AIllHero">
        <EditorCategories value="Race:Other"/>
        <Chance value="0.1"/>
        <EffectArray value="AIpg"/>
    </CEffectSet>
    <CEffectSet id="AIllSummon">
        <EditorCategories value="Race:Other"/>
        <Chance value="0.35"/>
        <EffectArray value="AIpg"/>
    </CEffectSet>
    <CEffectSet id="AIllUnit">
        <EditorCategories value="Race:Other"/>
        <Chance value="0.35"/>
        <EffectArray value="AIpg"/>
    </CEffectSet>
    <!--Purge(orb) Dur=15 HeroDur=5 Buff=Bprg-->
    <CEffectSet id="AIpg">
        <EditorCategories value="Race:Other"/>
        <EffectArray value="DispelAllBuffsAndHurtEnemySummoned150AndDispelOwl"/>
        <EffectArray value="Bprg"/>
        <EffectArray value="BprgPause"/>
    </CEffectSet>
    <!--Heal (Creep Normal) Buff=Bhea-->
    <CEffectCreatePersistent id="Anhe">
        <ValidatorArray value="IsNotBeingHealed"/>
        <ValidatorArray value="TargetLifeNotFull"/>
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="TargetUnit"/>
        <Flags index="Channeled" value="1"/>
        <InitialEffect value="AnheExtraSet"/>
        <ExpireDelay value="1"/>
    </CEffectCreatePersistent>
    <CEffectSet id="AnheExtraSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="AnheHeal"/>
        <EffectArray value="Bhea"/>
    </CEffectSet>
    <CEffectCreateHealer id="AnheHeal" parent="War3_InstantHeal">
        <EditorCategories value="Race:Creeps"/>
        <PeriodCount value="1"/>
        <RechargeVitalRate value="15"/>
    </CEffectCreateHealer>
    <!--Heal (Creep Normal) Buff=Bhea-->
    <CEffectCreatePersistent id="Anh1">
        <ValidatorArray value="IsNotBeingHealed"/>
        <ValidatorArray value="TargetLifeNotFull"/>
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="TargetUnit"/>
        <Flags index="Channeled" value="1"/>
        <InitialEffect value="Anh1ExtraSet"/>
        <ExpireDelay value="1"/>
    </CEffectCreatePersistent>
    <CEffectSet id="Anh1ExtraSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="Anh1Heal"/>
        <EffectArray value="Bhea"/>
    </CEffectSet>
    <CEffectCreateHealer id="Anh1Heal" parent="War3_InstantHeal">
        <EditorCategories value="Race:Creeps"/>
        <PeriodCount value="1"/>
        <RechargeVitalRate value="12"/>
    </CEffectCreateHealer>
    <!--Heal (Creep High) Buff=Bhea-->
    <CEffectCreatePersistent id="Anh2">
        <ValidatorArray value="IsNotBeingHealed"/>
        <ValidatorArray value="TargetLifeNotFull"/>
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="TargetUnit"/>
        <Flags index="Channeled" value="1"/>
        <InitialEffect value="Anh2ExtraSet"/>
        <ExpireDelay value="1"/>
    </CEffectCreatePersistent>
    <CEffectSet id="Anh2ExtraSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="Anh2Heal"/>
        <EffectArray value="Bhea"/>
    </CEffectSet>
    <CEffectCreateHealer id="Anh2Heal" parent="War3_InstantHeal">
        <EditorCategories value="Race:Creeps"/>
        <PeriodCount value="1"/>
        <RechargeVitalRate value="25"/>
    </CEffectCreateHealer>
    <!--Venom Spears (Creep) Dur=20 HeroDur=10 Buff=Bpoi,Bpsd-->
    <CEffectSet id="ACvsSphereEffect">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="Bpsi"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Bpsi" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="BpsiDPS" parent="War3_Poision">
        <EditorCategories value="Race:Creeps"/>
        <Amount value="2"/>
    </CEffectDamage>
    <!--Purge (Creep) Dur=5 HeroDur=5 Buff=Bprg-->
    <CEffectSet id="ACpu">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="DispelAllBuffsAndHurtEnemySummoned400AndDispelOwl"/>
        <EffectArray value="Bprg5s"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Bprg5s" parent="Bprg">
        <EditorCategories value="Race:Creeps"/>
        <Duration value="5"/>
        <Flags index="UseDuration" value="1"/>
    </CEffectApplyBehavior>
    <!--Aura - Command (Creep) Buff=BOac-->
    <CEffectEnumArea id="ACacSearch" parent="War3_AuraSearch" aura="BOac">
        <EditorCategories value="Race:Creeps"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="BOac" parent="War3_AuraBuff">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <!--Slow (Creep) Dur=20 HeroDur=10 Buff=Bslo-->
    <CEffectApplyBehavior id="ACswDur" parent="War3_Dur" buff="Bslo">
        <EditorCategories value="Race:Creeps"/>
        <Duration value="20"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACswHeroDur" parent="War3_HeroDur" buff="Bslo">
        <EditorCategories value="Race:Creeps"/>
        <Duration value="10"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ACsw" parent="War3_DurSet">
        <EditorCategories value="Race:Creeps"/>
    </CEffectSet>
    <!--Thunder Bolt (Creep) Dur=2 HeroDur=2 Buff=BPSE-->
    <CEffectApplyBehavior id="BHtb2s" parent="BHtb">
        <EditorCategories value="Race:Creeps"/>
        <Duration value="2"/>
        <Flags index="UseDuration" value="1"/>
    </CEffectApplyBehavior>
    <!--Thunder Clap (Creep) Dur=4 HeroDur=2 Buff=BCtc-->
    <CEffectEnumArea id="ACtcSearch">
        <EditorCategories value="Race:Creeps"/>
        <AreaArray Radius="1.9531" Effect="BCtc"/>
        <SearchFilters value="-;player,allies,air,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable,immunity"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectDamage id="ACtcDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Amount value="70"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="BCtc">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <!--Bloodlust (creep, Hotkey B) Dur=40 HeroDur=40 Buff=Bblo-->
    <CEffectApplyBehavior id="Bblo40s" parent="Bblo">
        <EditorCategories value="Race:Creeps"/>
        <Duration value="40"/>
        <Flags index="UseDuration" value="1"/>
    </CEffectApplyBehavior>
    <!--Bloodlust (creep, Hotkey B) Dur=40 HeroDur=40 Buff=Bblo-->
    <CEffectApplyBehavior id="BHad" parent="War3_AuraBuff">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="ACavSearch" parent="War3_AuraSearch" aura="BHad">
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;neutral,enemies,mechanical,wall,tree,Missile,debris,item,structure,ward,dead,Hidden"/>
    </CEffectEnumArea>
    <!--Shockwave (Creep) Buff=BOsh-->
    <CEffectCreatePersistent id="ACshTarget">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="CasterPoint"/>
        <PeriodCount value="1"/>
        <PeriodicEffectArray value="ACshMissile"/>
        <PeriodicOffsetArray value="0,-6.25,0"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="ACshMissile">
        <EditorCategories value="Race:Creeps"/>
        <ImpactLocation Value="TargetPoint"/>
        <LaunchEffect value="ACshPersistentScanner"/>
    </CEffectLaunchMissile>
    <CEffectCreatePersistent id="ACshPersistentScanner">
        <EditorCategories value="Race:Creeps"/>
        <WhichLocation Value="SourceUnit"/>
        <PeriodicValidator value="SourceNotDead"/>
        <PeriodicEffectArray value="ACshSearch"/>
        <PeriodicPeriodArray value="0.0625"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="ACshSearch" Parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps"/>
        <AreaArray Radius="1.1718" Effect="ACshSearchImpact"/>
        <SearchFilters value="-;player,allies,neutral,air,wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable,immunity"/>
    </CEffectEnumArea>
    <CEffectSet id="ACshSearchImpact">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ACshDamage"/>
        <ValidatorArray value="noMarkers"/>
    </CEffectSet>
    <CEffectDamage id="ACshDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Amount value="75"/>
    </CEffectDamage>
    <!--PowerUpStat-->
    <CEffectApplyBehavior id="AIgm" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AItm" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIxm" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AInm" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AImi" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIam" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIim" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIsm" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <!--PowerUpStat End-->
    <!--ExperienceMod-->
    <CEffectModifyUnit id="AIem">
        <EditorCategories value="Race:Other"/>
        <XP value="100"/>
    </CEffectModifyUnit>
    <!--ExperienceMod greater-->
    <CEffectModifyUnit id="AIe2">
        <EditorCategories value="Race:Other"/>
        <XP value="500"/>
    </CEffectModifyUnit>
    <!--LevelMod, Trigger Notice-->
    <CEffectSet id="AIlm">
        <EditorCategories value="Race:Other"/>
    </CEffectSet>
    <CEffectSet id="texp">
        <ValidatorArray value="NotInMaxLevel"/>
    </CEffectSet>
    <CEffectSet id="tgxp">
        <ValidatorArray value="NotInMaxLevel"/>
    </CEffectSet>
    <!--Item PowerUp-->
    <!--Permanent Hit point Bonus (small)-->
    <CEffectSet id="tkno">
        <ValidatorArray value="NotInMaxLevel"/>
    </CEffectSet>
    <!--Permanent Hit point Bonus-->
    <CEffectApplyBehavior id="AImh" parent="AImi">
        <Behavior value="AImh"/>
    </CEffectApplyBehavior>
    <!--Death Knight - Unholy Aura Buff=BUau-->
    <CEffectEnumArea id="AUauSearch" parent="War3_AuraSearch" aura="BUauSet">
        <EditorCategories value="Race:Undead"/>
    </CEffectEnumArea>
    <CEffectSet id="BUauSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="BUau1"/>
        <EffectArray value="BUau2"/>
        <EffectArray value="BUau3"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BUau1" parent="War3_AuraBuff">
        <ValidatorArray value="AUauLevel0"/>
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BUau2" parent="War3_AuraBuff">
        <ValidatorArray value="AUauLevel1"/>
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BUau3" parent="War3_AuraBuff">
        <ValidatorArray value="AUauLevel2"/>
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <!--Unholy Aura (creep) Buff=BUau-->
    <CEffectEnumArea id="ACuaSearch" parent="War3_AuraSearch" aura="BUau">
        <EditorCategories value="Race:Undead"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="BUau" parent="War3_AuraBuff">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <!--Dreadlord - Vampiric Aura Buff=BUav-->
    <CEffectEnumArea id="AUavSearch" parent="War3_AuraSearch" aura="BUavSet">
        <EditorCategories value="Race:Undead"/>
        <SearchFilters value="-;neutral,enemies,mechanical,wall,tree,Missile,debris,item,structure,ward,dead,Hidden"/>
    </CEffectEnumArea>
    <CEffectSet id="BUavSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="BUav1"/>
        <EffectArray value="BUav2"/>
        <EffectArray value="BUav3"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BUav1" parent="War3_AuraBuff">
        <ValidatorArray value="AUavLevel0"/>
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BUav2" parent="War3_AuraBuff">
        <ValidatorArray value="AUavLevel1"/>
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BUav3" parent="War3_AuraBuff">
        <ValidatorArray value="AUavLevel2"/>
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BUavLeech" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Source"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BUav1Leech" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Source"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BUav2Leech" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Source"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BUav3Leech" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Source"/>
    </CEffectApplyBehavior>
    <!--Vampiric Aura (creep) Buff=BUav-->
    <CEffectEnumArea id="ACvpSearch" parent="War3_AuraSearch" aura="BUav">
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;neutral,enemies,mechanical,wall,tree,Missile,debris,item,structure,ward,dead,Hidden"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="BUav" parent="War3_AuraBuff">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <!--ItemAuraDevotion Buff=BHad-->
    <CEffectEnumArea id="AIadSearch" parent="War3_AuraSearch" aura="BHadI">
        <EditorCategories value="Race:Other"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="BHadI" parent="War3_AuraBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <!--Spell Shield Buff=BNss,SetLink,RemoveADebuff-->
    <CEffectSet id="BNssNonDamageResponse">
        <EditorCategories value="Race:Other"/>
        <EffectArray value="BNssTrigger"/>
        <ValidatorArray value="SourceHasPurgableDebuff"/>
    </CEffectSet>
    <CEffectSet id="BNssTrigger">
        <EditorCategories value="Race:Other"/>
        <EffectArray value="ANssCooldown"/>
        <EffectArray value="ANssRemoveNegative"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANssCooldown" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
        <WhichUnit Value="Source"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="ANssRemoveNegative">
        <BehaviorAlignment value="Negative"/>
    </CEffectRemoveBehavior>
    <!--Aura - Endurance (Creep) Buff=BOae-->
    <CEffectEnumArea id="SCaeSearch" parent="War3_AuraSearch" aura="BOae">
        <EditorCategories value="Race:Creeps"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="BOae" parent="War3_AuraBuff">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="ANsi1Search" parent="ANsiSearchBase"/>
    <CEffectEnumArea id="ANsi2Search" parent="ANsiSearchBase">
        <AreaArray index="0" Radius="2.1484" Effect="ANsiBuffSet"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="ANsi3Search" parent="ANsiSearchBase">
        <AreaArray index="0" Radius="2.7343" Effect="ANsiBuffSet"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="BNsi" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANsiBuffSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANsi1"/>
        <EffectArray value="ANsi2"/>
        <EffectArray value="ANsi3"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANsi1HeroDur" parent="War3_HeroDur" buff="BNsi">
        <Duration value="8"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANsi1Dur" parent="War3_Dur" buff="BNsi">
        <Duration value="16"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANsi1" parent="War3_DurSet"/>
    <CEffectApplyBehavior id="ANsi2HeroDur" parent="War3_HeroDur" buff="BNsi">
        <Duration value="10"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANsi2Dur" parent="War3_Dur" buff="BNsi">
        <Duration value="20"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANsi2" parent="War3_DurSet"/>
    <CEffectApplyBehavior id="ANsi3HeroDur" parent="War3_HeroDur" buff="BNsi">
        <Duration value="12"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANsi3Dur" parent="War3_Dur" buff="BNsi">
        <Duration value="24"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANsi3" parent="War3_DurSet"/>
    <!--Silence(Item) Dur=12 HeroDur=6 Buff=BNsi-->
    <CEffectEnumArea id="AIseSearch" parent="ANsiSearchBase">
        <AreaArray index="0" Radius="1.7578" Effect="AIse"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="AIseHeroDur" parent="War3_HeroDur" buff="BNsi">
        <Duration value="6"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AIseDur" parent="War3_Dur" buff="BNsi">
        <Duration value="12"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AIse" parent="War3_DurSet"/>
    <!--Silence(Creep) Dur=40 HeroDur=8.5 Buff=BNsi-->
    <CEffectEnumArea id="ACsiSearch" parent="ANsiSearchBase">
        <AreaArray index="0" Radius="1.7578" Effect="ACsi"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ACsiHeroDur" parent="War3_HeroDur" buff="BNsi">
        <Duration value="8.5"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACsiDur" parent="War3_Dur" buff="BNsi">
        <Duration value="40"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ACsi" parent="War3_DurSet"/>
    <!--Dark Ranger - Black Arrow Buff=BNba,BNdm-->
    <CEffectApplyBehavior id="BNba" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNdm" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <CEffectSet id="BNbaSummonSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ndr1"/>
        <EffectArray value="ndr2"/>
        <EffectArray value="ndr3"/>
        <ValidatorArray value="IsDead"/>
    </CEffectSet>
    <CEffectCreateUnit id="ndr1" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNdm"/>
        <ValidatorArray value="ANbaLevel0"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="ndr2" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNdm"/>
        <ValidatorArray value="ANbaLevel1"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="ndr3" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNdm"/>
        <ValidatorArray value="ANbaLevel2"/>
    </CEffectCreateUnit>
    <!--Sentry Ward Dur=300 HeroDur=300 Buff=Beye-->
    <CEffectCreateUnit id="oeye300s" parent="oeye">
        <EditorCategories value="Race:Other"/>
        <SpawnEffect value="Beye300s"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="Beye300s" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="300"/>
        <Behavior value="Beye"/>
    </CEffectApplyBehavior>
    <CEffectCreateUnit id="AIil" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other"/>
        <CreateFlags index="Birth" value="0"/>
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="ProvideFood" value="0"/>
        <CreateFlags index="SetFacing" value="1"/>
        <CreateFlags index="TechComplete" value="0"/>
        <SpawnEffect value="AIilSpawnEffect"/>
        <TypeFallbackUnit Value="Target"/>
    </CEffectCreateUnit>
    <CEffectSet id="AIilSpawnEffect">
        <EditorCategories value="Race:Other,AbilityorEffectType:Unit"/>
        <EffectArray value="AIilCopy"/>
        <EffectArray value="BIil"/>
    </CEffectSet>
    <CEffectModifyUnit id="AIilCopy">
        <EditorCategories value="Race:Other"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Effect="AIil"/>
        <ModifyFlags index="Copy" value="1"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="BIil" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <!--Potion of Rejuv III Dur=30 HeroDur=30 Buff=BIrg,BIrl,BIrm-->
    <CEffectApplyBehavior id="BIrg" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
        <ValidatorArray value="LifeNotFullOrEnergyNotFull"/>
    </CEffectApplyBehavior>
    <!--ManaSteal, Trigger Notice-->
    <CEffectSet id="Aste">
        <EditorCategories value="Race:Other"/>
    </CEffectSet>
    <!--CEffectCreateHealer id="Aste">-->
    <!--        <EditorCategories value="Race:Other"/>-->
    <!--        <LaunchUnit Value="Target"/>-->
    <!--        <ImpactUnit Value="Caster"/>-->
    <!--        <PeriodCount value="1"/>-->
    <!--        <PeriodicPeriod value="0.5"/>-->
    <!--        <DrainVital value="Energy"/>-->
    <!--        <DrainVitalCostFactor value="1"/>-->
    <!--        <RechargeVital value="Energy"/>-->
    <!--        <ValidatorArray value="TargetNotDead"/>-->
    <!--        <ResponseFlags index="Acquire" value="1"/>-->
    <!--        <ResponseFlags index="Flee" value="1"/>-->
    <!--        <Flags index="Channeled" value="0"/>-->
    <!--        <RechargeVitalRate value="50"/>-->
    <!--    </CEffectCreateHealer-->
    <!--FigurineSkeleton Dur=120 HeroDur=60 Buff=BFig-->
    <CEffectSet id="AIfs">
        <EditorCategories value="Race:Other"/>
        <EffectArray value="nsceX4"/>
        <EffectArray value="nscaX4"/>
    </CEffectSet>
    <CEffectCreateUnit id="nsceX4" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other"/>
        <SpawnEffect value="BFig120s"/>
        <SpawnUnit value="nsce"/>
        <SpawnCount value="4"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="nscaX4" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other"/>
        <SpawnEffect value="BFig120s"/>
        <SpawnUnit value="nsca"/>
        <SpawnCount value="4"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BFig120s" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
        <Behavior value="BFig"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="120"/>
    </CEffectApplyBehavior>
    <!--ItemReincarnation effect=XOre-->
    <CEffectCreatePersistent id="AIrc">
        <EditorCategories value="Race:Other"/>
        <ExpireDelay value="7"/>
        <ExpireEffect value="AIrcReviveSet"/>
        <WhichLocation Value="CasterUnit"/>
    </CEffectCreatePersistent>
    <CEffectModifyUnit id="AIrcRevive">
        <EditorCategories value="Race:Other"/>
        <ModifyFlags index="Revive" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AIrcHeal">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Life" Change="500" ChangeFraction="-1"/>
        <VitalArray index="Energy" ChangeFraction="-1"/>
    </CEffectModifyUnit>
    <CEffectSet id="AIrcReviveSet">
        <EditorCategories value="Race:Other"/>
        <EffectArray value="AIrcRevive"/>
        <EffectArray value="AIrcHeal"/>
    </CEffectSet>
    <!--Mana Burn (Hotkey B)-->
    <CEffectSet id="ManaBurnCreep">
        <EditorCategories value="Race:Other"/>
        <EffectArray value="ManaBurnCreepDamage"/>
        <EffectArray value="ManaBurnCreepManaLoss"/>
    </CEffectSet>
    <CEffectDamage id="ManaBurnCreepDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Other"/>
        <VitalBonus index="Energy" value="100"/>
    </CEffectDamage>
    <CEffectModifyUnit id="ManaBurnCreepManaLoss">
        <EditorCategories value="Race:Other"/>
        <VitalArray index="Energy" Change="-100"/>
    </CEffectModifyUnit>
    <!--FigurineRockGolem Dur=180 HeroDur= Buff=BFig-->
    <CEffectCreateUnit id="ngst" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other"/>
    </CEffectCreateUnit>
    <!--FigurineRedDrake Dur=180 HeroDur= Buff=BFig-->
    <CEffectCreateUnit id="nrdr" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other"/>
    </CEffectCreateUnit>
    <!--FigurineFelHound Dur=180 HeroDur= Buff=BFig-->
    <CEffectCreateUnit id="nfel" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other"/>
    </CEffectCreateUnit>
    <!--FigurineDoomGuard Dur=180 HeroDur= Buff=BFig-->
    <CEffectCreateUnit id="nba2" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other"/>
    </CEffectCreateUnit>
    <!--FigurineIceRevenant Dur=180 HeroDur=180 Buff=BFig-->
    <CEffectCreateUnit id="nrvi" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other"/>
    </CEffectCreateUnit>
    <!--FigurineUrsaWarrior Dur=180 HeroDur=180 Buff=BFig-->
    <CEffectCreateUnit id="nfra" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other"/>
    </CEffectCreateUnit>
    <!--FigurineFurbolg Dur=180 HeroDur= Buff=BFig-->
    <CEffectCreateUnit id="nfrl" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other"/>
    </CEffectCreateUnit>
    <!--Inferno Buff=BNin-->
    <CEffectCreatePersistent id="ANin">
        <EditorCategories value="Race:Creeps"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="ANinImpactSet"/>
        <OffsetFacingFallback Value="CasterUnit"/>
    </CEffectCreatePersistent>
    <CEffectSet id="ANinImpactSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="AUinTreeKiller"/>
        <EffectArray value="AUinSearch"/>
        <EffectArray value="ANinCU"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectCreateUnit id="ANinCU" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps"/>
        <SpawnEffect value="BNin360s"/>
        <WhichLocation Value="TargetPoint"/>
        <CreateFlags index="SetFacing" value="1"/>
        <SpawnUnit value="ninf"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BNin360s" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="360"/>
        <Behavior value="BNin"/>
    </CEffectApplyBehavior>
    <!--Dreadlord - Inferno Buff=BNin-->
    <CEffectCreatePersistent id="AUin">
        <EditorCategories value="Race:Undead"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="AUinImpactSet"/>
        <OffsetFacingFallback Value="CasterUnit"/>
    </CEffectCreatePersistent>
    <CEffectSet id="AUinImpactSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUinTreeKiller"/>
        <EffectArray value="AUinSearch"/>
        <EffectArray value="ninf"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectDamage id="AUinTreeKiller" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Flags index="Kill" value="1"/>
        <AreaArray Radius="1.9531" Fraction="1"/>
        <SearchFilters value="tree;invulnerable"/>
        <ImpactLocation Value="TargetPoint"/>
        <ValidatorArray index="0" removed="1"/>
    </CEffectDamage>
    <CEffectCreateUnit id="ninf" parent="War3_SummonUnit">
        <EditorCategories value="Race:Undead"/>
        <SpawnEffect value="BNin"/>
        <WhichLocation Value="TargetPoint"/>
        <CreateFlags index="SetFacing" value="1"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BNin" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="AUinSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Undead"/>
        <SearchFilters value="-;player,allies,air,wall,tree,item,ward,dead,Hidden,invulnerable"/>
        <AreaArray Radius="1.9531" Effect="AUinSearchImpactSet"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AUinSearchCursor" parent="War3_AbilSearch">
        <EditorCategories value="Race:Undead"/>
        <SearchFilters value="-;player,allies,air,wall,item,ward,dead,Hidden,invulnerable"/>
        <AreaArray Radius="1.9531"/>
    </CEffectEnumArea>
    <CEffectSet id="AUinSearchImpactSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUinDamage"/>
        <EffectArray value="AUinStun"/>
    </CEffectSet>
    <CEffectDamage id="AUinDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Amount value="50"/>
    </CEffectDamage>
    <CEffectSet id="AUinStun">
        <EffectArray value="BSTN"/>
        <ValidatorArray value="NotDestructible"/>
        <ValidatorArray value="NotBuilding_War3"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BSTN" parent="War3_ApplyBuff"/>
    <!--Divine Shield (Item) Dur=25 HeroDur=25 Buff=BHds-->
    <CEffectApplyBehavior id="AIdv" parent="BHdsBase">
        <Duration value="25"/>
    </CEffectApplyBehavior>
    <!--ItemInvis (Lesser) Dur=120 HeroDur=120 Buff=Binv-->
    <CEffectSet id="AIv1">
        <EditorCategories value="Race:Human"/>
        <EffectArray value="RemoveSuppressInvisibility"/>
        <EffectArray value="Bivs"/>
        <EffectArray value="BinvDelay"/>
    </CEffectSet>
    <!--Death Knight - Animate Dead Buff=BUan-->
    <CEffectEnumArea id="AUanSearch" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="7.0312" Effect="AUanAnimateSet"/>
        <EditorCategories value="Race:Undead"/>
        <SearchFilters value="dead;wall,tree,Missile,debris,item,structure,ward,Hidden,invulnerable,hero"/>
        <MinCount value="1"/>
        <MaxCount value="6"/>
        <TargetSorts>
            <SortArray value="UnitLevel"/>
        </TargetSorts>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindcorpse"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AUanRevive">
        <ModifyFlags index="Revive" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="AUanHeal">
        <VitalArray index="Life" ChangeFraction="1"/>
        <VitalArray index="Shields" ChangeFraction="1"/>
    </CEffectModifyUnit>
    <CEffectSet id="AUanAnimateSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUanRevive"/>
        <EffectArray value="AUanHeal"/>
        <EffectArray value="BUan"/>
        <EffectArray value="BUad"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BUan" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BUad" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <!--Animate Dead Dur=40 HeroDur=40 Buff=BUan-->
    <CEffectEnumArea id="ACadSearch" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="7.0312" Effect="ACadAnimateSet"/>
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="dead;wall,tree,Missile,debris,item,structure,ward,Hidden,invulnerable,hero"/>
        <MinCount value="1"/>
        <MaxCount value="6"/>
        <TargetSorts>
            <SortArray value="UnitLevel"/>
        </TargetSorts>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindcorpse"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="ACadRevive">
        <ModifyFlags index="Revive" value="1"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="ACadHeal">
        <VitalArray index="Life" ChangeFraction="1"/>
        <VitalArray index="Shields" ChangeFraction="1"/>
    </CEffectModifyUnit>
    <CEffectSet id="ACadAnimateSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ACadRevive"/>
        <EffectArray value="ACadHeal"/>
        <EffectArray value="BUan120s"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BUan120s" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps"/>
        <Behavior value="BUan"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="120"/>
    </CEffectApplyBehavior>
    <!--Cripple Dur=60 HeroDur=10 Buff=Bcri-->
    <CEffectApplyBehavior id="Bcri" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <!--Pit Lord - Rain of Fire Buff=BNrd,BNrf effect=XErf cast=1-->
    <CEffectCreatePersistent id="ANrfDamageDelay">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="ANrfSearch"/>
        <InitialEffect value="ChannelingSpell"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANrf1" parent="ANrfBase">
        <PeriodCount value="5"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANrf2" parent="ANrfBase">
        <PeriodCount value="7"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANrf3" parent="ANrfBase">
        <PeriodCount value="9"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="ANrfDamage1" parent="ANrfAOEDamageBase">
        <ValidatorArray value="ANrfLevel0"/>
        <Amount value="25"/>
    </CEffectDamage>
    <CEffectDamage id="ANrfDamage2" parent="ANrfAOEDamageBase">
        <ValidatorArray value="ANrfLevel1"/>
        <Amount value="30"/>
    </CEffectDamage>
    <CEffectDamage id="ANrfDamage3" parent="ANrfAOEDamageBase">
        <ValidatorArray value="ANrfLevel2"/>
        <Amount value="35"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="BNrd">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANrfImpactSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANrfDamage1"/>
        <EffectArray value="ANrfDamage2"/>
        <EffectArray value="ANrfDamage3"/>
        <EffectArray value="BNrd"/>
    </CEffectSet>
    <CEffectEnumArea id="ANrfSearch">
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable,immunity"/>
        <AreaArray Radius="1.5625" Effect="ANrfImpactSet"/>
        <MaxCount value="5"/>
    </CEffectEnumArea>
    <CEffectSet id="BNrdDPS">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="BNrdDPS1"/>
        <EffectArray value="BNrdDPS2"/>
        <EffectArray value="BNrdDPS3"/>
    </CEffectSet>
    <CEffectDamage id="BNrdDPS1" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Amount value="5"/>
        <ValidatorArray value="ANrfLevel0"/>
    </CEffectDamage>
    <CEffectDamage id="BNrdDPS2" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Amount value="10"/>
        <ValidatorArray value="ANrfLevel1"/>
    </CEffectDamage>
    <CEffectDamage id="BNrdDPS3" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Amount value="15"/>
        <ValidatorArray value="ANrfLevel2"/>
    </CEffectDamage>
    <!--Rain of Fire (creep) Buff=BNrd,BNrf effect=XErf cast=1-->
    <CEffectCreatePersistent id="ACrfDamageDelay">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="ACrfSearch"/>
        <InitialEffect value="ChannelingSpell"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ACrf">
        <EditorCategories value="Race:Creeps"/>
        <AINotifyFlags index="HurtFriend" value="1"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <Flags index="Channeled" value="1"/>
        <PeriodicEffectArray value="ACrfDamageDelay"/>
        <PeriodicPeriodArray value="1"/>
        <InitialEffect value="ACrfDamageDelay"/>
        <ExpireDelay value="1"/>
        <PeriodCount value="5"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="ACrfDamage" parent="ANrfAOEDamageBase">
        <Amount value="25"/>
    </CEffectDamage>
    <CEffectEnumArea id="ACrfSearch">
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable,immunity"/>
        <AreaArray Radius="1.5625" Effect="ACrfDamage"/>
    </CEffectEnumArea>
    <CEffectCreateHealer id="AabsLaunch">
        <EditorCategories value="Race:Undead"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Source"/>
        <DrainVital value="Energy"/>
        <DrainVitalCostFactor value="1"/>
        <RechargeVital value="Energy"/>
        <Flags index="Channeled" value="0"/>
        <RechargeVitalRate value="100000"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="AabsImpact">
        <EditorCategories value="Race:Undead"/>
        <LaunchUnit Value="Source"/>
        <ImpactUnit Value="Caster"/>
        <DrainVital value="Energy"/>
        <DrainVitalCostFactor value="1"/>
        <RechargeVital value="Energy"/>
        <Flags index="Channeled" value="0"/>
        <RechargeVitalRate value="100000"/>
    </CEffectCreateHealer>
    <!--Cannibalize Dur=33 HeroDur=33-->
    <CEffectCreateHealer id="Acan">
        <EditorCategories value="Race:Undead"/>
        <ImpactUnit Value="Caster"/>
        <PeriodCount value="165"/>
        <PeriodicPeriod value="0.2"/>
        <RechargeVitalRate value="10"/>
        <LaunchUnit Value="Target"/>
        <PeriodicValidator value="IsDead"/>
        <RechargeVitalMax value="800"/>
        <InitialEffect value="AcanMarker"/>
        <ValidatorArray value="CasterLifeNotFull"/>
    </CEffectCreateHealer>
    <CEffectApplyBehavior id="AcanMarker">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Effect="Acan"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="AcanShell" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Undead"/>
        <SearchFilters value="dead;air,mechanical,wall,tree,debris,item,structure,ward,Hidden,invulnerable,hero"/>
        <AreaArray Radius="5" Effect="OrderCannibalize"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindcorpse"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
        <ValidatorArray value="CasterLifeNotFull"/>
    </CEffectEnumArea>
    <CEffectCreateHealer id="Acn2">
        <EditorCategories value="Race:Undead"/>
        <ImpactUnit Value="Caster"/>
        <PeriodCount value="165"/>
        <PeriodicPeriod value="0.2"/>
        <RechargeVitalRate value="15"/>
        <LaunchUnit Value="Target"/>
        <PeriodicValidator value="IsDead"/>
        <RechargeVitalMax value="800"/>
        <InitialEffect value="Acn2Marker"/>
        <ValidatorArray value="CasterLifeNotFull"/>
    </CEffectCreateHealer>
    <CEffectApplyBehavior id="Acn2Marker">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Effect="Acn2"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="Acn2Shell" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Undead"/>
        <SearchFilters value="dead;air,mechanical,wall,tree,debris,item,structure,ward,Hidden,invulnerable,hero"/>
        <AreaArray Radius="5" Effect="OrderCannibalize"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindcorpse"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
        <ValidatorArray value="CasterLifeNotFull"/>
    </CEffectEnumArea>
    <!--Meat Load-->
    <CEffectCreatePersistent id="Amel">
        <EditorCategories value="Race:Undead"/>
        <Flags index="Channeled" value="1"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
        <ValidatorArray value="IsCasterTransportNotFull"/>
        <ValidatorArray value="IsDead"/>
        <ValidatorArray value="DeathTimeGT0"/>
        <ValidatorArray value="NotRemoved"/>
        <WhichLocation Value="TargetUnit"/>
        <PeriodicValidator value="NotRemoved"/>
    </CEffectCreatePersistent>
    <CEffectIssueOrder id="OrderGetCorpse">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Caster"/>
        <CmdFlags index="Preempt" value="1"/>
        <Player Value="Caster"/>
        <Target Value="TargetUnit"/>
    </CEffectIssueOrder>
    <!--Curse Dur=120 HeroDur=60 Buff=Bcrs-->
    <CEffectApplyBehavior id="Bcrs" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BcrsMissChanceUsed" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BcrsMiss33Chance" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <Chance value="0.33"/>
        <Behavior value="BcrsMiss"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="DrunkMiss45Chance" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creep"/>
        <Chance value="0.45"/>
        <Behavior value="BNdhMiss"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="DrunkMiss65Chance" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creep"/>
        <Chance value="0.65"/>
        <Behavior value="BNdhMiss"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="DrunkMiss80Chance" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creep"/>
        <Chance value="0.8"/>
        <Behavior value="BNdhMiss"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNdhMissChanceUsed" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creep"/>
    </CEffectApplyBehavior>
    <!--Curse (creep) Dur=30 HeroDur=15 Buff=Bcrs-->
    <CEffectApplyBehavior id="ACcsDur" parent="War3_Dur" buff="Bcrs">
        <EditorCategories value="Race:Creeps"/>
        <Duration value="30"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACcsHeroDur" parent="War3_HeroDur" buff="Bcrs">
        <EditorCategories value="Race:Creeps"/>
        <Duration value="15"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ACcs" parent="War3_DurSet">
        <EditorCategories value="Race:Creeps"/>
    </CEffectSet>
    <!--Devour Magic-->
    <CEffectSet id="Advm">
        <EffectArray value="AdvmSearchA"/>
        <EffectArray value="AdvmSearchB"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectEnumArea id="AdvmSearchA" parent="War3_AbilSearch">
        <EditorCategories value="Race:Undead"/>
        <AreaArray Radius="1.5625" Effect="AdvmMissile"/>
        <SearchFilters value="-;wall,Missile,debris,item,structure,dead,Hidden"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="AdvmSearchB" parent="War3_AbilSearch">
        <EditorCategories value="Race:Undead"/>
        <AreaArray Radius="1.5625" Effect="DispelAllBuffsAndHurtEnemySummoned180AndDispelOwl"/>
        <SearchFilters value="-;wall,Missile,debris,item,structure,dead,Hidden"/>
    </CEffectEnumArea>
    <CEffectModifyUnit id="AdvmHeal">
        <EditorCategories value="Race:Undead"/>
        <VitalArray index="Life" Change="50"/>
        <VitalArray index="Energy" Change="75"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <!--Aura - Plague (Abomination) Buff=Bapl-->
    <CEffectEnumArea id="Aap1Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Undead"/>
        <AreaArray Radius="1.375" Effect="Bapl"/>
        <SearchFilters value="-;player,allies,air,mechanical,wall,tree,debris,item,structure,ward,dead,Hidden,invulnerable,Passive"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="Bapl" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="BaplDPS" parent="War3_Poision">
        <EditorCategories value="Race:Undead"/>
    </CEffectDamage>
    <!--Aura - Plague (Plague Ward) Buff=Bapl,Bplg-->
    <CEffectEnumArea id="Aap2Search" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Undead"/>
        <AreaArray Radius="1.9531" Effect="Bapl"/>
        <SearchFilters value="-;player,allies,air,mechanical,wall,tree,debris,item,structure,ward,dead,Hidden,invulnerable,Passive"/>
    </CEffectEnumArea>
    <!--Replenish (Life) Dur=1 HeroDur=1 Buff=Brpl cast=6-->
    <CEffectSet id="Arpl">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="ReplenishRefund"/>
        <EffectArray value="ArplSearch"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectEnumArea id="ArplSearch" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Undead"/>
        <AreaArray MaxCount="6" Radius="5.4687" Effect="Brpl"/>
        <SearchFilters value="-;neutral,enemies,mechanical,wall,tree,Missile,debris,item,structure,ward,dead,Hidden"/>
        <LaunchLocation Value="CasterUnit"/>
    </CEffectEnumArea>
    <CEffectSet id="ArplBuffRechargeSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="Brpl"/>
        <EffectArray value="ReplenishReCharge"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Brpl" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <ValidatorArray value="TargetLifeNotFull"/>
    </CEffectApplyBehavior>
    <CEffectCreateHealer id="BrplHeal" parent="War3_InstantHeal">
        <EditorCategories value="Race:Undead"/>
        <RechargeVitalRate value="10"/>
    </CEffectCreateHealer>
    <CEffectModifyUnit id="ReplenishRefund">
        <EditorCategories value="Race:Undead"/>
        <VitalArray index="Energy" Change="8"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="ReplenishReCharge">
        <EditorCategories value="Race:Undead"/>
        <VitalArray index="Energy" Change="-2"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <!--Replenish (Mana) Dur=1 HeroDur=1 Buff=Brpm cast=6-->
    <CEffectSet id="Arpm">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="ReplenishRefund"/>
        <EffectArray value="ArpmSearch"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectEnumArea id="ArpmSearch" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Undead"/>
        <AreaArray MaxCount="6" Radius="5.4687" Effect="Brpm"/>
        <SearchFilters value="-;neutral,enemies,mechanical,wall,tree,Missile,debris,item,structure,ward,dead,Hidden"/>
        <LaunchLocation Value="CasterUnit"/>
    </CEffectEnumArea>
    <CEffectSet id="ArpmBuffRechargeSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="Brpm"/>
        <EffectArray value="ReplenishReCharge"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Brpm" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <ValidatorArray value="TargetEnergyNotFull"/>
    </CEffectApplyBehavior>
    <!--Freezing Breath Dur=5 HeroDur=5 Buff=Bfrz-->
    <CEffectEnumArea id="AfrzSphereEffect" parent="War3_AbilSearch">
        <EditorCategories value="Race:Undead"/>
        <SearchFilters value="-;player,allies,neutral,air,ground,wall,tree,debris,item,ward,dead,Hidden,invulnerable"/>
        <AreaArray Radius="0.7812" Effect="Bfrz"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="Bfrz" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <!--Frost Attack Dur=5 HeroDur=5 Buff=Bfro-->
    <!--Frost Attack (1,2) Dur=5 HeroDur=5 Buff=Bfro-->
    <CEffectApplyBehavior id="Bfro" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <!--Frost Breath Dur=10 HeroDur=10 Buff=Bfro-->
    <CEffectApplyBehavior id="Bfro10s" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="10"/>
        <Behavior value="Bfro"/>
    </CEffectApplyBehavior>
    <!--Orb of Annihilation-->
    <CEffectSwitch id="ubsp1Switch">
        <EditorCategories value="Race:Undead"/>
        <CaseArray Validator="AfakWeaponFilter" Effect="AfakMissile"/>
        <CaseDefault value="ubsp1LM"/>
    </CEffectSwitch>
    <CEffectDamage id="AfakWeaponDamage" parent="ubsp1">
        <EditorCategories value="Race:Undead"/>
        <Amount value="39"/>
        <AreaArray Radius="0.001" Fraction="1"/>
        <AreaArray Radius="0.586" Fraction="0.45"/>
        <AreaArray Radius="1.1718" Fraction="0.25"/>
        <SearchFilters value="-;player,allies,wall,tree,debris,item,ward,dead,invulnerable,immunity"/>
    </CEffectDamage>
    <CEffectModifyUnit id="AfakCost">
        <EditorCategories value="Race:Undead"/>
        <VitalArray index="Energy" Change="-25"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectSet id="AfakMissileImpactSet">
        <EditorCategories value="Race:Undead,AbilityorEffectType:Unit"/>
        <EffectArray value="AfakWeaponDamage"/>
        <EffectArray value="AfakCost"/>
    </CEffectSet>
    <CEffectSet id="Afak">
        <EditorCategories value="Race:Undead,AbilityorEffectType:Unit"/>
        <EffectArray value="UseAfak"/>
        <EffectArray value="AfakRefund"/>
    </CEffectSet>
    <CEffectModifyUnit id="AfakRefund">
        <EditorCategories value="Race:Undead"/>
        <VitalArray index="Energy" Change="25"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="UseAfak" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <!--Possession (Channeling) Dur=4.5 HeroDur=4.5 Buff=Bpos,Bpoc-->
    <CEffectSet id="Aps2">
        <EditorCategories value="Race:Undead,AbilityorEffectType:Unit"/>
        <EffectArray value="Bpos"/>
        <EffectArray value="Bpoc"/>
        <ValidatorArray value="NonPowerfulMob"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Bpos" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Bpoc" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectLaunchMissile id="Aps2Missile">
        <ImpactLocation Effect="Aps2"/>
    </CEffectLaunchMissile>
    <CEffectApplyBehavior id="AposControlled">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectSet id="Aps2ControlSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="Aps2Missile"/>
        <EffectArray value="SuicideRemove"/>
    </CEffectSet>
    <!--Possession cast=1-->
    <CEffectCreatePersistent id="Apos">
        <EditorCategories value="Race:Undead"/>
        <ExpireDelay value="1"/>
        <ValidatorArray value="NonPowerfulMob"/>
        <WhichLocation Value="TargetUnit"/>
        <ExpireEffect value="AposControlSet"/>
    </CEffectCreatePersistent>
    <CEffectSet id="AposControlSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AposMissile"/>
        <EffectArray value="SuicideRemove"/>
    </CEffectSet>
    <CEffectSet id="AposMissileImpactSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AposControlled"/>
    </CEffectSet>
    <CEffectLaunchMissile id="ucry1LM">
        <Flags index="Return" value="1"/>
        <ReturnDelay value="1"/>
        <ReturnMovers Link="ucry1LMReturn"/>
    </CEffectLaunchMissile>
    <CEffectSet id="ulocLocustAttackSet">
        <ValidatorArray value="LocustAttackingTargetLessThan7"/>
        <EffectArray value="uloc1LM"/>
        <EffectArray value="AUlsAttackedByLocustMarker"/>
    </CEffectSet>
    <!--Raise Dead Dur=40 HeroDur=40 Buff=Brai-->
    <CEffectCreateUnit id="uskeX2" parent="War3_SummonUnit">
        <EditorCategories value="Race:Undead"/>
        <SpawnEffect value="Brai"/>
        <SpawnUnit value="uske"/>
        <SpawnCount value="2"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="uske" parent="War3_SummonUnit">
        <EditorCategories value="Race:Undead"/>
        <SpawnEffect value="Brai"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="uskm" parent="War3_SummonUnit">
        <EditorCategories value="Race:Undead"/>
        <SpawnEffect value="Brai"/>
    </CEffectCreateUnit>
    <!--Sacrifice (Sacrificial Pit)-->
    <CEffectIssueOrder id="AsacOrder">
        <EditorCategories value="Race:Undead"/>
        <Abil value="Alam"/>
        <ValidatorArray value="IsShade"/>
        <ValidatorArray value="NoAsacChannelingCaster"/>
        <Target Value="CasterUnit"/>
    </CEffectIssueOrder>
    <CEffectIssueOrder id="CancelShade">
        <EditorCategories value="Race:Undead"/>
        <Abil value="que1"/>
    </CEffectIssueOrder>
    <!--Sacrifice (Acolyte)-->
    <CEffectSet id="Alam">
        <ValidatorArray value="IsSacrificialPit"/>
        <ValidatorArray value="NoAsacChanneling"/>
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AsacChanneling"/>
        <EffectArray value="AsacPrecursor"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AsacChanneling">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AsacPrecursor">
        <EditorCategories value="Race:Undead"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <!--Unholy Frenzy Dur=45 HeroDur=45 Buff=BUhf-->
    <CEffectApplyBehavior id="Buhf">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="BuhfDPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Amount value="4"/>
    </CEffectDamage>
    <!--Unsummon-->
    <CEffectApplyBehavior id="EnableUnsummon">
        <EditorCategories value="Race:Undead"/>
        <ValidatorArray value="IsUndead"/>
        <ValidatorArray value="NotUnsummoned"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="BunsDPS" parent="War3_UltraSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Amount value="50"/>
    </CEffectDamage>
    <!--Web Dur=12 HeroDur=7 Buff=Bwea,Bweb-->
    <CEffectApplyBehavior id="Bwea">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <!--Crypt Lord - Carrion Scarabs Buff=BUcb-->
    <CEffectSet id="AUcb">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="ucs1"/>
        <EffectArray value="ucs2"/>
        <EffectArray value="ucs3"/>
        <EffectArray value="TargetRemoveTriggerRequest"/>
        <ValidatorArray value="DeathTimeGT0"/>
    </CEffectSet>
    <CEffectCreateUnit id="ucs1" parent="War3_SummonUnit">
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="OffsetByRadius" value="0"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="PlacementIgnoreBlockers" value="1"/>
        <CreateFlags index="PlacementIgnoreCliffTest" value="1"/>
        <CreateFlags index="SetFacing" value="1"/>
        <SpawnRange value="0"/>
        <EditorCategories value="Race:Undead"/>
        <SpawnEffect value="BUcb"/>
        <ValidatorArray value="AUcbLevel0"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="ucs2" parent="War3_SummonUnit">
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="OffsetByRadius" value="0"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="PlacementIgnoreBlockers" value="1"/>
        <CreateFlags index="PlacementIgnoreCliffTest" value="1"/>
        <CreateFlags index="SetFacing" value="1"/>
        <SpawnRange value="0"/>
        <EditorCategories value="Race:Undead"/>
        <SpawnEffect value="BUcb"/>
        <ValidatorArray value="AUcbLevel1"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="ucs3" parent="War3_SummonUnit">
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="OffsetByRadius" value="0"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="PlacementIgnoreBlockers" value="1"/>
        <CreateFlags index="PlacementIgnoreCliffTest" value="1"/>
        <CreateFlags index="SetFacing" value="1"/>
        <SpawnRange value="0"/>
        <EditorCategories value="Race:Undead"/>
        <SpawnEffect value="BUcb"/>
        <ValidatorArray value="AUcbLevel2"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BUcb">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <!--Crypt Lord - Locust Swarm-->
    <CEffectSet id="LocustHealTriggerNotice">
        <EditorCategories value="Race:Undead"/>
        <ValidatorArray value="MPGE20"/>
    </CEffectSet>
    <CEffectCreateHealer id="LocustHeal" parent="War3_InstantHeal">
        <EditorCategories value="Race:Undead"/>
        <DrainVitalCostFactor value="1"/>
        <PeriodCount value="4294967295"/>
        <PeriodicPeriod value="0.0625"/>
        <RechargeVitalRate value="1200"/>
        <DrainVital value="Energy"/>
    </CEffectCreateHealer>
    <CEffectSwitch id="LocustReturn">
        <EditorCategories value="Race:Undead"/>
        <CaseArray Validator="LocustCanHealCaster" Effect="LocustReturnHeal"/>
        <CaseDefault value="LocustHealSuicide"/>
    </CEffectSwitch>
    <CEffectCreateHealer id="LocustReturnHeal" parent="War3_InstantHeal">
        <EditorCategories value="Race:Undead"/>
        <PeriodCount value="4294967295"/>
        <PeriodicPeriod value="0.0625"/>
        <DrainVital value="Energy"/>
        <DrainVitalCostFactor value="1"/>
        <RechargeVitalRate value="1200"/>
        <FinalEffect value="LocustHealSuicide"/>
    </CEffectCreateHealer>
    <CEffectSet id="AUls">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUlsCUCP"/>
        <EffectArray value="AUlsDuration"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AUlsAttackedByLocustMarker">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectCreatePersistent id="AUlsCUCP">
        <EditorCategories value="Race:Undead"/>
        <WhichLocation Value="CasterUnit"/>
        <PeriodCount value="20"/>
        <PeriodicEffectArray value="uloc"/>
        <PeriodicValidator value="CasterNotDead"/>
        <PeriodicPeriodArray value="0.2"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="AUlsDuration">
        <EditorCategories value="Race:Undead"/>
        <WhichLocation Value="CasterUnit"/>
        <ExpireDelay value="30"/>
    </CEffectCreatePersistent>
    <CEffectCreateUnit id="uloc" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="AUlsLocustBuffSet"/>
    </CEffectCreateUnit>
    <CEffectSet id="AUlsLocustBuffSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="BUlo"/>
        <EffectArray value="Aloc"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BUlo">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Aloc">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <!--Dreadlord - Carrion Swarm Buff=BUcs-->
    <CEffectCreatePersistent id="AUcsTarget">
        <EditorCategories value="Race:Undead"/>
        <WhichLocation Value="CasterPoint"/>
        <PeriodCount value="1"/>
        <PeriodicEffectArray value="AUcsMissile"/>
        <PeriodicOffsetArray value="0,-6.25,0"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
    </CEffectCreatePersistent>
    <CEffectLaunchMissile id="AUcsMissile">
        <EditorCategories value="Race:Undead"/>
        <ImpactLocation Value="TargetPoint"/>
        <LaunchEffect value="AUcsPersistentScanner"/>
    </CEffectLaunchMissile>
    <CEffectCreatePersistent id="AUcsPersistentScanner">
        <EditorCategories value="Race:Undead"/>
        <WhichLocation Value="SourceUnit"/>
        <PeriodicValidator value="SourceNotDead"/>
        <PeriodicEffectArray value="AUcsSearch"/>
        <PeriodicPeriodArray value="0.0625"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AUcsSearch" Parent="War3_AbilSearch">
        <EditorCategories value="Race:Undead"/>
        <AreaArray Radius="0.7812" RadiusBonus="0.1342" Effect="AUcsSearchImpact"/>
        <SearchFilters value="-;player,allies,neutral,mechanical,wall,tree,debris,item,structure,ward,dead,invulnerable,immunity"/>
        <MaxCount value="4"/>
    </CEffectEnumArea>
    <CEffectSet id="AUcsSearchImpact">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUcsDamage1"/>
        <EffectArray value="AUcsDamage2"/>
        <EffectArray value="AUcsDamage3"/>
        <ValidatorArray value="noMarkers"/>
    </CEffectSet>
    <CEffectDamage id="AUcsDamage1" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Amount value="75"/>
        <ValidatorArray value="AUcsLevel0"/>
    </CEffectDamage>
    <CEffectDamage id="AUcsDamage2" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Amount value="130"/>
        <ValidatorArray value="AUcsLevel1"/>
    </CEffectDamage>
    <CEffectDamage id="AUcsDamage3" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Amount value="200"/>
        <ValidatorArray value="AUcsLevel2"/>
    </CEffectDamage>
    <!--Lich - Dark Ritual-->
    <CEffectSet id="AUdr">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUdr1"/>
        <EffectArray value="AUdr2"/>
        <EffectArray value="AUdr3"/>
        <ValidatorArray value="IsUndead"/>
        <ValidatorArray value="EnergyNotFullCaster"/>
    </CEffectSet>
    <CEffectCreateHealer id="AUdr1" parent="War3_InstantHeal">
        <EditorCategories value="Race:Undead"/>
        <DrainVitalCostFactor value="3"/>
        <PeriodCount value="4294967295"/>
        <PeriodicPeriod value="0.0625"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
        <RechargeVital value="Energy"/>
        <RechargeVitalRate value="1200"/>
        <ValidatorArray value="AUdrLevel0"/>
        <FinalEffect value="AUdrKill"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="AUdr2" parent="War3_InstantHeal">
        <EditorCategories value="Race:Undead"/>
        <DrainVitalCostFactor value="1.5"/>
        <PeriodCount value="4294967295"/>
        <PeriodicPeriod value="0.0625"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
        <RechargeVital value="Energy"/>
        <RechargeVitalRate value="1200"/>
        <ValidatorArray value="AUdrLevel1"/>
        <FinalEffect value="AUdrKill"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="AUdr3" parent="War3_InstantHeal">
        <EditorCategories value="Race:Undead"/>
        <DrainVitalCostFactor value="1"/>
        <PeriodCount value="4294967295"/>
        <PeriodicPeriod value="0.0625"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
        <RechargeVital value="Energy"/>
        <RechargeVitalRate value="1200"/>
        <ValidatorArray value="AUdrLevel2"/>
        <FinalEffect value="AUdrKill"/>
    </CEffectCreateHealer>
    <CEffectDamage id="AUdrKill">
        <EditorCategories value="Race:Undead"/>
        <Flags index="Kill" value="1"/>
        <ImpactLocation Effect="AUdr"/>
    </CEffectDamage>
    <!--Death Knight - Death Pact-->
    <CEffectSet id="AUdp">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUdp1"/>
        <EffectArray value="AUdp2"/>
        <EffectArray value="AUdp3"/>
        <ValidatorArray value="IsUndead"/>
        <ValidatorArray value="CasterLifeNotFull"/>
    </CEffectSet>
    <CEffectCreateHealer id="AUdp1" parent="War3_InstantHeal">
        <EditorCategories value="Race:Undead"/>
        <DrainVitalCostFactor value="1"/>
        <PeriodCount value="4294967295"/>
        <PeriodicPeriod value="0.0625"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
        <RechargeVitalRate value="1200"/>
        <ValidatorArray value="AUdpLevel0"/>
        <FinalEffect value="AUdpKill"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="AUdp2" parent="War3_InstantHeal">
        <EditorCategories value="Race:Undead"/>
        <DrainVitalCostFactor value="0.5"/>
        <PeriodCount value="4294967295"/>
        <PeriodicPeriod value="0.0625"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
        <RechargeVitalRate value="1200"/>
        <ValidatorArray value="AUdpLevel1"/>
        <FinalEffect value="AUdpKill"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="AUdp3" parent="War3_InstantHeal">
        <EditorCategories value="Race:Undead"/>
        <DrainVitalCostFactor value="0.33"/>
        <PeriodCount value="4294967295"/>
        <PeriodicPeriod value="0.0625"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
        <RechargeVitalRate value="1200"/>
        <ValidatorArray value="AUdpLevel2"/>
        <FinalEffect value="AUdpKill"/>
    </CEffectCreateHealer>
    <CEffectDamage id="AUdpKill">
        <EditorCategories value="Race:Undead"/>
        <Flags index="Kill" value="1"/>
        <ImpactLocation Effect="AUdp"/>
    </CEffectDamage>
    <!--Lich - Death and Decay Buff=BUdd effect=XUdd-->
    <CEffectCreatePersistent id="AUdd">
        <EditorCategories value="Race:Undead"/>
        <Flags index="Channeled" value="1"/>
        <RevealRadius value="3"/>
        <RevealFlags index="Unfog" value="1"/>
        <PeriodCount value="35"/>
        <PeriodicEffectArray value="AUddSearch"/>
        <PeriodicPeriodArray value="1"/>
        <InitialEffect value="ChannelingSpell"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AUddSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Undead"/>
        <AreaArray Radius="2.3437" Effect="BUdd"/>
        <SearchFilters value="-;wall,tree,debris,item,dead,invulnerable"/>
        <SearchFlags index="CallForHelp" value="1"/>
    </CEffectEnumArea>
    <CEffectDamage id="BUddDamage" parent="War3_UltraSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <VitalFractionMax index="Life" value="0.04"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="BUdd" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <!--Death Knight - Death Coil-->
    <CEffectLaunchMissile id="AUdcMissile">
        <EditorCategories value="Race:Undead"/>
        <ValidatorArray value="AUdcTarget"/>
    </CEffectLaunchMissile>
    <CEffectSet id="AUdcMissileImpactSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUdc"/>
    </CEffectSet>
    <CEffectSet id="AUdc">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUdcHeal1"/>
        <EffectArray value="AUdcHeal2"/>
        <EffectArray value="AUdcHeal3"/>
        <EffectArray value="AUdcDamage1"/>
        <EffectArray value="AUdcDamage2"/>
        <EffectArray value="AUdcDamage3"/>
    </CEffectSet>
    <CEffectCreateHealer id="AUdcHeal1" parent="AUdcHealBase">
        <RechargeVitalRate value="200"/>
        <ValidatorArray value="AUdcLevel0"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="AUdcHeal2" parent="AUdcHealBase">
        <RechargeVitalRate value="400"/>
        <ValidatorArray value="AUdcLevel1"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="AUdcHeal3" parent="AUdcHealBase">
        <RechargeVitalRate value="600"/>
        <ValidatorArray value="AUdcLevel2"/>
    </CEffectCreateHealer>
    <CEffectDamage id="AUdcDamage1" parent="AUdcDamageBase">
        <Amount value="100"/>
        <ValidatorArray value="AUdcLevel0"/>
    </CEffectDamage>
    <CEffectDamage id="AUdcDamage2" parent="AUdcDamageBase">
        <Amount value="200"/>
        <ValidatorArray value="AUdcLevel1"/>
    </CEffectDamage>
    <CEffectDamage id="AUdcDamage3" parent="AUdcDamageBase">
        <Amount value="300"/>
        <ValidatorArray value="AUdcLevel2"/>
    </CEffectDamage>
    <!--Frost Armor (creep,autocast) Dur=5 HeroDur=5 Buff=BUfa,Bfro-->
    <CEffectApplyBehavior id="BUfa" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps"/>
    </CEffectApplyBehavior>
    <!--Lich - Frost Armor Buff=BUfa-->
    <CEffectApplyBehavior id="BUfa1" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BUfa2" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BUfa3" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <!--Lich - Frost Nova Buff=Bfro-->
    <CEffectSet id="AUfn">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUfnDamage1"/>
        <EffectArray value="AUfnDamage2"/>
        <EffectArray value="AUfnDamage3"/>
        <EffectArray value="AUfnSearch"/>
    </CEffectSet>
    <CEffectDamage id="AUfnDamage1" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Amount value="100"/>
        <ValidatorArray value="AUfnLevel0"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
        <ExcludeArray index="0" removed="1"/>
        <AreaArray Radius="1.5625" Bonus="-50" Fraction="1"/>
        <SearchFilters value="-;player,allies,mechanical,wall,tree,debris,item,structure,ward,dead,invulnerable,immunity"/>
    </CEffectDamage>
    <CEffectDamage id="AUfnDamage2" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Amount value="100"/>
        <ValidatorArray value="AUfnLevel1"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
        <ExcludeArray index="0" removed="1"/>
        <AreaArray Radius="1.5625" Fraction="1"/>
        <SearchFilters value="-;player,allies,mechanical,wall,tree,debris,item,structure,ward,dead,invulnerable,immunity"/>
    </CEffectDamage>
    <CEffectDamage id="AUfnDamage3" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead"/>
        <Amount value="100"/>
        <ValidatorArray value="AUfnLevel2"/>
        <SearchFlags index="ExtendByUnitRadius" value="1"/>
        <ExcludeArray index="0" removed="1"/>
        <AreaArray Radius="1.5625" Bonus="50" Fraction="1"/>
        <SearchFilters value="-;player,allies,mechanical,wall,tree,debris,item,structure,ward,dead,invulnerable,immunity"/>
    </CEffectDamage>
    <CEffectEnumArea id="AUfnSearch" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="1.5625" Effect="AUfnBuffSet"/>
        <SearchFilters value="-;player,allies,mechanical,wall,tree,debris,item,structure,ward,dead,invulnerable,immunity"/>
    </CEffectEnumArea>
    <CEffectSet id="AUfnBuffSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUfn1"/>
        <EffectArray value="AUfn2"/>
        <EffectArray value="AUfn3"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AUfn1HeroDur" parent="War3_HeroDur" buff="Bfro">
        <Duration value="2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AUfn1Dur" parent="War3_Dur" buff="Bfro">
        <Duration value="4"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AUfn1" parent="War3_DurSet">
        <ValidatorArray value="AUfnLevel0"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AUfn2HeroDur" parent="War3_HeroDur" buff="Bfro">
        <Duration value="3"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AUfn2Dur" parent="War3_Dur" buff="Bfro">
        <Duration value="6"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AUfn2" parent="War3_DurSet">
        <ValidatorArray value="AUfnLevel1"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AUfn3HeroDur" parent="War3_HeroDur" buff="Bfro">
        <Duration value="4"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AUfn3Dur" parent="War3_Dur" buff="Bfro">
        <Duration value="8"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AUfn3" parent="War3_DurSet">
        <ValidatorArray value="AUfnLevel2"/>
    </CEffectSet>
    <!--Crypt Lord - Impale Buff=BUim-->
    <CEffectCreatePersistent id="AUim">
        <EditorCategories value="Race:Undead"/>
        <WhichLocation Value="CasterPoint"/>
        <PeriodCount value="3"/>
        <PeriodicEffectArray value="AUimSearch"/>
        <PeriodicOffsetArray value="0,-1.9531,0"/>
        <PeriodicOffsetArray value="0,-3.9062,0"/>
        <PeriodicOffsetArray value="0,-5.8593,0"/>
        <PeriodicPeriodArray value="0.1"/>
        <Marker>
            <MatchFlags index="Id" value="1"/>
        </Marker>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="AUimSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Undead"/>
        <AreaArray Radius="1.9531" Effect="AUimSearchImpactSet"/>
        <SearchFilters value="-;player,allies,air,mechanical,wall,tree,debris,item,structure,ward,dead,invulnerable,immunity"/>
    </CEffectEnumArea>
    <CEffectSet id="AUimSearchImpactSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUim1"/>
        <EffectArray value="AUim2"/>
        <EffectArray value="AUim3"/>
        <ValidatorArray value="noMarkers"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AUim1HeroDur" parent="War3_HeroDur" buff="BUim">
        <EditorCategories value="Race:Undead"/>
        <Duration value="1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AUim1Dur" parent="War3_Dur" buff="BUim">
        <EditorCategories value="Race:Undead"/>
        <Duration value="2"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AUim1" parent="War3_DurSet">
        <EditorCategories value="Race:Undead"/>
        <ValidatorArray value="AUimLevel0"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AUim2HeroDur" parent="War3_HeroDur" buff="BUim">
        <EditorCategories value="Race:Undead"/>
        <Duration value="2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AUim2Dur" parent="War3_Dur" buff="BUim">
        <EditorCategories value="Race:Undead"/>
        <Duration value="3"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AUim2" parent="War3_DurSet">
        <EditorCategories value="Race:Undead"/>
        <ValidatorArray value="AUimLevel1"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AUim3HeroDur" parent="War3_HeroDur" buff="BUim">
        <EditorCategories value="Race:Undead"/>
        <Duration value="3"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AUim3Dur" parent="War3_Dur" buff="BUim">
        <EditorCategories value="Race:Undead"/>
        <Duration value="4"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AUim3" parent="War3_DurSet">
        <EditorCategories value="Race:Undead"/>
        <ValidatorArray value="AUimLevel2"/>
    </CEffectSet>
    <CEffectDamage id="BUimDamage1" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead,AbilityorEffectType:Unit"/>
        <Amount value="50"/>
        <ValidatorArray value="AUimLevel0"/>
    </CEffectDamage>
    <CEffectDamage id="BUimDamage2" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead,AbilityorEffectType:Unit"/>
        <Amount value="80"/>
        <ValidatorArray value="AUimLevel1"/>
    </CEffectDamage>
    <CEffectDamage id="BUimDamage3" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Undead,AbilityorEffectType:Unit"/>
        <Amount value="110"/>
        <ValidatorArray value="AUimLevel2"/>
    </CEffectDamage>
    <CEffectSet id="BUimDamageSet">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="BUimDamage1"/>
        <EffectArray value="BUimDamage2"/>
        <EffectArray value="BUimDamage3"/>
    </CEffectSet>
    <!--Dreadlord - Sleep Buff=BUsl,BUsp,Bust-->
    <CEffectSet id="AUsl">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="AUsl1"/>
        <EffectArray value="AUsl2"/>
        <EffectArray value="AUsl3"/>
        <EffectArray value="BUst"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BUst" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <CEffectRemoveBehavior id="RemoveBUsl">
        <EditorCategories value="Race:Undead"/>
        <BehaviorLink value="BUsl"/>
        <WhichUnit Value="Caster"/>
    </CEffectRemoveBehavior>
    <CEffectApplyBehavior id="AUsl1HeroDur" parent="War3_HeroDur" buff="BUsl">
        <Duration value="5"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AUsl1Dur" parent="War3_Dur" buff="BUsl">
        <Duration value="20"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AUsl1" parent="War3_DurSet">
        <ValidatorArray value="AUslLevel0"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AUsl2HeroDur" parent="War3_HeroDur" buff="BUsl">
        <Duration value="10"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AUsl2Dur" parent="War3_Dur" buff="BUsl">
        <Duration value="40"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AUsl2" parent="War3_DurSet">
        <ValidatorArray value="AUslLevel1"/>
    </CEffectSet>
    <CEffectApplyBehavior id="AUsl3HeroDur" parent="War3_HeroDur" buff="BUsl">
        <Duration value="15"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="AUsl3Dur" parent="War3_Dur" buff="BUsl">
        <Duration value="60"/>
    </CEffectApplyBehavior>
    <CEffectSet id="AUsl3" parent="War3_DurSet">
        <ValidatorArray value="AUslLevel2"/>
    </CEffectSet>
    <!--Sleep (creep) Dur=10 HeroDur=5 Buff=BUsl,BUsp,Bust-->
    <CEffectSet id="ACsl">
        <EditorCategories value="Race:Undead"/>
        <EffectArray value="ACslHeroDur"/>
        <EffectArray value="ACslDur"/>
        <EffectArray value="BUst"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ACslHeroDur" parent="War3_HeroDur" buff="BUsl">
        <Duration value="5"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ACslDur" parent="War3_Dur" buff="BUsl">
        <Duration value="10"/>
    </CEffectApplyBehavior>
    <!--Raise Dead (Item) Dur=65 HeroDur=65 Buff=Brai-->
    <CEffectEnumArea id="AIrd" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="4.6875" Effect="AIrdSummonSet"/>
        <EditorCategories value="Race:Human"/>
        <SearchFilters value="dead;self,wall,tree,Missile,debris,item,structure,ward,Hidden,invulnerable,hero"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
        <MinCountError value="CantFindEnoughTargets,Errors/Cantfindcorpse"/>
    </CEffectEnumArea>
    <CEffectSet id="AIrdSummonSet">
        <EffectArray value="uske65sX2"/>
        <EffectArray value="TargetRemoveTriggerRequest"/>
        <ValidatorArray value="DeathTimeGT0"/>
    </CEffectSet>
    <CEffectCreateUnit id="uske65sX2" parent="War3_SummonUnit">
        <EditorCategories value="Race:Undead"/>
        <SpawnEffect value="Brai65s"/>
        <SpawnUnit value="uske"/>
        <SpawnCount value="2"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="Brai65s" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
        <Flags index="UseDuration" value="1"/>
        <Duration value="65"/>
        <Behavior value="Brai"/>
    </CEffectApplyBehavior>
    <!--BlightPlacement Dur=.08 HeroDur=.08-->
    <CEffectSet id="Ablp">
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectEnumArea id="AblpSearch">
        <AreaArray Radius="2.7343"/>
    </CEffectEnumArea>
    <!--Orb of Corruption Dur=5 HeroDur=5 Buff=BIcb-->
    <CEffectApplyBehavior id="BIcb" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Undead"/>
    </CEffectApplyBehavior>
    <!--Alchemist - Acid Bomb Buff=BNab-->
    <CEffectSet id="ANabMissileImpactSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="BNab1"/>
        <EffectArray value="BNab2"/>
        <EffectArray value="BNab3"/>
        <EffectArray value="ANabSearch"/>
    </CEffectSet>
    <CEffectEnumArea id="ANabSearch" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="1.5625" Effect="BNabAreaSet"/>
        <SearchFilters value="-;player,allies,mechanical,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable,immunity"/>
        <ExcludeArray Value="Target"/>
    </CEffectEnumArea>
    <CEffectSet id="BNabAreaSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="BNabS1"/>
        <EffectArray value="BNabS2"/>
        <EffectArray value="BNabS3"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BNab1" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANabLevel0"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNab2" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANabLevel1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNab3" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANabLevel2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNabS1" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANabLevel0"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNabS2" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANabLevel1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNabS3" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANabLevel2"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="BNab1DPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Amount value="5"/>
    </CEffectDamage>
    <CEffectDamage id="BNab2DPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Amount value="10"/>
    </CEffectDamage>
    <CEffectDamage id="BNab3DPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Amount value="15"/>
    </CEffectDamage>
    <CEffectDamage id="BNabS1DPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Amount value="3"/>
    </CEffectDamage>
    <CEffectDamage id="BNabS2DPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Amount value="6.5"/>
    </CEffectDamage>
    <CEffectDamage id="BNabS3DPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Amount value="10"/>
    </CEffectDamage>
    <!--Sea Witch - Frost Arrows Buff=BHca,Bcsd-->
    <CEffectSet id="ANfa">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="UseANfa"/>
        <EffectArray value="ANfaRefund"/>
    </CEffectSet>
    <CEffectModifyUnit id="ANfaRefund">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <VitalArray index="Energy" Change="10"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="ANfaCost">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <VitalArray index="Energy" Change="-10"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="UseANfa" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectSwitch id="NngsWeapon">
        <CaseArray Validator="FrostArrowWeapon" Effect="NngsFrostArrowSet"/>
        <CaseDefault value="Nngs1LM"/>
    </CEffectSwitch>
    <CEffectSet id="NngsFrostArrowSet">
        <EffectArray value="ANfaCost"/>
        <EffectArray value="NngsFrostArrow"/>
    </CEffectSet>
    <CEffectLaunchMissile id="NngsFrostArrow" parent="War3_Missile">
        <AmmoUnit value="Nngs1LM"/>
        <ImpactEffect value="NngsFrostArrowImpactSet"/>
    </CEffectLaunchMissile>
    <CEffectSet id="NngsFrostArrowImpactSet">
        <EffectArray value="NngsFrostArrowDamage1"/>
        <EffectArray value="NngsFrostArrowDamage2"/>
        <EffectArray value="NngsFrostArrowDamage3"/>
        <EffectArray value="FrostArrowBuffSet"/>
    </CEffectSet>
    <CEffectDamage id="NngsFrostArrowDamage1" parent="War3_HeroDamage">
        <Amount value="7"/>
        <Random value="10"/>
        <ValidatorArray value="ANfaLevel0"/>
    </CEffectDamage>
    <CEffectDamage id="NngsFrostArrowDamage2" parent="War3_HeroDamage">
        <Amount value="12"/>
        <Random value="10"/>
        <ValidatorArray value="ANfaLevel1"/>
    </CEffectDamage>
    <CEffectDamage id="NngsFrostArrowDamage3" parent="War3_HeroDamage">
        <Amount value="17"/>
        <Random value="10"/>
        <ValidatorArray value="ANfaLevel2"/>
    </CEffectDamage>
    <CEffectSwitch id="HvshWeapon">
        <CaseArray Validator="FrostArrowWeapon" Effect="HvshFrostArrowSet"/>
        <CaseDefault value="Hvsh1LM"/>
    </CEffectSwitch>
    <CEffectSet id="HvshFrostArrowSet">
        <EffectArray value="ANfaCost"/>
        <EffectArray value="HvshFrostArrow"/>
    </CEffectSet>
    <CEffectLaunchMissile id="HvshFrostArrow" parent="War3_Missile">
        <AmmoUnit value="Hvsh1LM"/>
        <ImpactEffect value="HvshFrostArrowImpactSet"/>
    </CEffectLaunchMissile>
    <CEffectSet id="HvshFrostArrowImpactSet">
        <EffectArray value="HvshFrostArrowDamage1"/>
        <EffectArray value="HvshFrostArrowDamage2"/>
        <EffectArray value="HvshFrostArrowDamage3"/>
        <EffectArray value="FrostArrowBuffSet"/>
    </CEffectSet>
    <CEffectDamage id="HvshFrostArrowDamage1" parent="War3_HeroDamage">
        <Amount value="7"/>
        <Random value="6"/>
        <ValidatorArray value="ANfaLevel0"/>
    </CEffectDamage>
    <CEffectDamage id="HvshFrostArrowDamage2" parent="War3_HeroDamage">
        <Amount value="12"/>
        <Random value="6"/>
        <ValidatorArray value="ANfaLevel1"/>
    </CEffectDamage>
    <CEffectDamage id="HvshFrostArrowDamage3" parent="War3_HeroDamage">
        <Amount value="17"/>
        <Random value="6"/>
        <ValidatorArray value="ANfaLevel2"/>
    </CEffectDamage>
    <CEffectSet id="FrostArrowBuffSet">
        <EffectArray value="Bcsd1"/>
        <EffectArray value="Bcsd2"/>
        <EffectArray value="Bcsd3"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Bcsd1" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANfaLevel0"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Bcsd2" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANfaLevel1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Bcsd3" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANfaLevel2"/>
    </CEffectApplyBehavior>
    <!--Cold Arrows (creep) Dur=3 HeroDur=.75 Buff=BHca,Bcsd,Bcsi-->
    <CEffectApplyBehavior id="BHca" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Unit"/>
    </CEffectApplyBehavior>
    <!--Dark Ranger - Black Arrow Buff=BNba,BNdm-->
    <CEffectApplyBehavior id="ANbaAugment" parent="War3_AugmentApply">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANfaAugment" parent="War3_AugmentApply">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANba">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="UseANba"/>
        <EffectArray value="ANbaRefund"/>
    </CEffectSet>
    <CEffectModifyUnit id="ANbaRefund">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <VitalArray index="Energy" Change="6"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="ANbaCost">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <VitalArray index="Energy" Change="-6"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectApplyBehavior id="UseANba" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectEnumArea id="ACbcSearch" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ImpactLocation Value="CasterPoint"/>
        <SearchFilters value="-;player,allies,wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable,immunity"/>
        <AreaArray Arc="29.9926" Radius="8" Effect="ACbcSearchImpactSet"/>
        <LaunchLocation Value="CasterUnit"/>
    </CEffectEnumArea>
    <CEffectSet id="ACbcSearchImpactSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ACbcDamage"/>
        <EffectArray value="BNbf"/>
    </CEffectSet>
    <CEffectDamage id="ACbcDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Amount value="150"/>
    </CEffectDamage>
    <!--Brewmaster - Breath of Fire Buff=BNbf-->
    <CEffectEnumArea id="ANbfSearch" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ImpactLocation Value="CasterPoint"/>
        <SearchFilters value="-;player,allies,wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable,immunity"/>
        <AreaArray Arc="59.9963" Radius="4" Effect="ANbfSearchImpactSet"/>
        <MaxCount value="8"/>
        <LaunchLocation Value="CasterUnit"/>
    </CEffectEnumArea>
    <CEffectSet id="ANbfSearchImpactSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ANbfDamageSet"/>
        <EffectArray value="BNbf"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BNbf" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="HasDrunkenHazeAnyLevel"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="ANbfDamage1" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANbfLevel0"/>
        <Amount value="65"/>
    </CEffectDamage>
    <CEffectDamage id="ANbfDamage2" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANbfLevel1"/>
        <Amount value="125"/>
    </CEffectDamage>
    <CEffectDamage id="ANbfDamage3" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANbfLevel2"/>
        <Amount value="170"/>
    </CEffectDamage>
    <CEffectDamage id="BNbfDPS1" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANbfLevel0"/>
        <Amount value="7"/>
    </CEffectDamage>
    <CEffectDamage id="BNbfDPS2" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANbfLevel1"/>
        <Amount value="14"/>
    </CEffectDamage>
    <CEffectDamage id="BNbfDPS3" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANbfLevel2"/>
        <Amount value="21"/>
    </CEffectDamage>
    <CEffectSet id="ANbfDamageSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ANbfDamage1"/>
        <EffectArray value="ANbfDamage2"/>
        <EffectArray value="ANbfDamage3"/>
    </CEffectSet>
    <CEffectSet id="BNbfDPSSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="BNbfDPS1"/>
        <EffectArray value="BNbfDPS2"/>
        <EffectArray value="BNbfDPS3"/>
    </CEffectSet>
    <!--Dark Ranger - Charm-->
    <CEffectApplyBehavior id="BNch" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="NonPowerfulMob"/>
    </CEffectApplyBehavior>
    <!--Alchemist - Chemical Rage Buff=BNcr-->
    <CEffectApplyBehavior id="BNcr1" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNcr2" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNcr3" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANcs">
        <EffectArray value="ANcsCP"/>
        <EffectArray value="ChannelingSpell"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectCreatePersistent id="ANcsCP">
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <Flags index="Channeled" value="1"/>
        <PeriodicPeriodArray value="0.25"/>
        <EditorCategories value="Race:Creeps"/>
        <PeriodicEffectArray value="ANcsDamageSet"/>
        <InitialEffect value="ANcsInitSet"/>
        <PeriodCount value="4"/>
        <InitialDelay value="1"/>
    </CEffectCreatePersistent>
    <CEffectSet id="ANcsInitSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ANcsDamageSet"/>
        <EffectArray value="ANcsStunSearchSet"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectSet id="ANcsDamageSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ANcsDamage1"/>
        <EffectArray value="ANcsDamage2"/>
        <EffectArray value="ANcsDamage3"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectDamage id="ANcsDamage1" parent="ANcsAOEDamageBase">
        <ValidatorArray value="ANcsLevel0"/>
        <Amount value="8.75"/>
    </CEffectDamage>
    <CEffectDamage id="ANcsDamage2" parent="ANcsAOEDamageBase">
        <ValidatorArray value="ANcsLevel1"/>
        <Amount value="16.25"/>
    </CEffectDamage>
    <CEffectDamage id="ANcsDamage3" parent="ANcsAOEDamageBase">
        <ValidatorArray value="ANcsLevel2"/>
        <Amount value="25"/>
    </CEffectDamage>
    <CEffectSet id="ANcsStunSearchSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ANcsStunSearch"/>
        <EffectArray value="ANcsStunSearchA"/>
        <EffectArray value="ANcsStunSearchB"/>
        <EffectArray value="ANcsStunSearchC"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectEnumArea id="ANcsStunSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SearchFilters value="-;player,allies,air,wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable"/>
        <AreaArray Radius="1.5625" Effect="BNcs"/>
        <ValidatorArray value="CasterNoEngineeringUpgrade"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="ANcsStunSearchA" parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SearchFilters value="-;player,allies,air,wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable"/>
        <AreaArray Radius="1.7968" Effect="BNcs"/>
        <ValidatorArray value="ANegLevel0AndCasterHasEngineeringUpgrade"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="ANcsStunSearchB" parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SearchFilters value="-;player,allies,air,wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable"/>
        <AreaArray Radius="2.0312" Effect="BNcs"/>
        <ValidatorArray value="ANegLevel1"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="ANcsStunSearchC" parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SearchFilters value="-;player,allies,air,wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable"/>
        <AreaArray Radius="2.2656" Effect="BNcs"/>
        <ValidatorArray value="ANegLevel2"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="BNcs" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps"/>
        <ValidatorArray value="MagicDamageTargetFilter"/>
    </CEffectApplyBehavior>
    <!--Tinkerer - Demolish (Level 0)-->
    <CEffectSet id="ANdeSphereEffect">
        <ValidatorArray value="PreventDefeat"/>
        <ValidatorArray value="IsEnemy"/>
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ANdeDamageEx"/>
        <EffectArray value="ANdeDamageExA"/>
        <EffectArray value="ANdeDamageExB"/>
        <EffectArray value="ANdeDamageExC"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANdeDamageEx" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray index="1" value="CasterNoEngineeringUpgrade"/>
        <Duration value="0.0625"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANdeDamageExA" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANegLevel0AndCasterHasEngineeringUpgrade"/>
        <Duration value="0.0625"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANdeDamageExB" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANegLevel1"/>
        <Duration value="0.0625"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANdeDamageExC" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANegLevel2"/>
        <Duration value="0.0625"/>
    </CEffectApplyBehavior>
    <!--Pit Lord - Doom Buff=BNdo,BNdi-->
    <CEffectApplyBehavior id="BNdo" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="NonPowerfulMob"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNdi" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="BNdoDPS" parent="War3_UltraSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Amount value="40"/>
        <Death value="Blast"/>
    </CEffectDamage>
    <CEffectCreateUnit id="nba2120s" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other"/>
        <SpawnEffect value="BNdi"/>
        <SpawnUnit value="nba2"/>
    </CEffectCreateUnit>
    <CEffectSet id="Npbm1Crit"/>
    <CEffectSet id="Npbm2Crit"/>
    <!--Brewmaster - Drunken Haze Buff=BNdh-->
    <CEffectSet id="ANdhMissileImpactSet">
        <EffectArray value="ANdhSearch"/>
    </CEffectSet>
    <!--Brewmaster - Drunken Haze Buff=BNdh-->
    <CEffectEnumArea id="ANdhSearch" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="1.5625" Effect="ANdhBuffSet"/>
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;player,allies,mechanical,wall,tree,Missile,debris,item,structure,ward,Hidden,invulnerable,immunity"/>
    </CEffectEnumArea>
    <CEffectSet id="ANdhBuffSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="BNdh1"/>
        <EffectArray value="BNdh2"/>
        <EffectArray value="BNdh3"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BNdh1" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANdhLevel0"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNdh2" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANdhLevel1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNdh3" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANdhLevel2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNeg" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <!--Alchemist - Healing Spray Buff=BNhs effect=XNhs-->
    <CEffectCreatePersistent id="ANhs1" parent="ANhsBase">
        <PeriodCount value="2"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANhs2" parent="ANhsBase">
        <PeriodCount value="3"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="ANhs3" parent="ANhsBase">
        <PeriodCount value="4"/>
    </CEffectCreatePersistent>
    <CEffectEnumArea id="ANhsSearch" parent="War3_AbilSearch">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SearchFilters value="-;mechanical,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable"/>
        <AreaArray Radius="1.9531" Effect="ANhsHealSet"/>
        <MaxCount value="8"/>
        <TargetSorts>
            <SortArray value="TSLife"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectSet id="ANhsHealSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ANhsHeal1"/>
        <EffectArray value="ANhsHeal2"/>
        <EffectArray value="ANhsHeal3"/>
        <ValidatorArray value="TargetLifeNotFull"/>
    </CEffectSet>
    <CEffectCreateHealer id="ANhsHeal1" parent="War3_InstantHeal">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <RechargeVitalRate value="40"/>
        <ValidatorArray value="ANhsLevel0"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="ANhsHeal2" parent="War3_InstantHeal">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <RechargeVitalRate value="55"/>
        <ValidatorArray value="ANhsLevel1"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="ANhsHeal3" parent="War3_InstantHeal">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <RechargeVitalRate value="70"/>
        <ValidatorArray value="ANhsLevel2"/>
    </CEffectCreateHealer>
    <CEffectCreatePersistent id="ANhsSearchDelay">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ExpireDelay value="1"/>
        <ExpireEffect value="ANhsSearch"/>
    </CEffectCreatePersistent>
    <!--Pit Lord - Howl of Terror Buff=BNht-->
    <CEffectEnumArea id="ANhtSearch" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="1.5625" Effect="ANhtBuffSet"/>
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;player,allies,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable"/>
        <ImpactLocation Value="CasterUnit"/>
    </CEffectEnumArea>
    <CEffectSet id="ANhtBuffSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="BNht1"/>
        <EffectArray value="BNht2"/>
        <EffectArray value="BNht3"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BNht1" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANhtLevel0"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNht2" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANhtLevel1"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNht3" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANhtLevel2"/>
    </CEffectApplyBehavior>
    <!--Howl of Terror Dur=10 HeroDur=10 Buff=BNht-->
    <CEffectEnumArea id="AchtSearch" parent="War3_AbilSearchRadiusExt">
        <AreaArray Radius="1.5625" Effect="BNht"/>
        <EditorCategories value="Race:Creeps"/>
        <SearchFilters value="-;player,allies,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable"/>
        <ImpactLocation Value="CasterUnit"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="BNht" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <!--Sea Witch - Forked Lightning-->
    <CEffectSet id="ANfl">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ANflSearch"/>
    </CEffectSet>
    <CEffectEnumArea id="ANflSearch" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ImpactLocation Value="CasterPoint"/>
        <SearchFilters value="-;player,allies,mechanical,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable,immunity"/>
        <AreaArray Arc="119.9926" Radius="8" Effect="ANflDamageDelay"/>
        <MaxCount value="3"/>
        <LaunchLocation Value="CasterUnit"/>
        <TargetSorts>
            <SortArray value="TSDistanceToTarget"/>
        </TargetSorts>
        <SearchFlags index="ExtendByUnitRadius" value="0"/>
        <SearchFlags index="OffsetAreaByAngle" value="0"/>
    </CEffectEnumArea>
    <CEffectCreatePersistent id="ANflDamageDelay">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="ANflDamageSet"/>
        <WhichLocation Value="TargetUnit"/>
    </CEffectCreatePersistent>
    <CEffectSet id="ANflDamageSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ANfl1"/>
        <EffectArray value="ANfl2"/>
        <EffectArray value="ANfl3"/>
    </CEffectSet>
    <CEffectDamage id="ANfl1" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANflLevel0"/>
        <Amount value="85"/>
    </CEffectDamage>
    <CEffectDamage id="ANfl2" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANflLevel1"/>
        <Amount value="160"/>
    </CEffectDamage>
    <CEffectDamage id="ANfl3" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANflLevel2"/>
        <Amount value="250"/>
    </CEffectDamage>
    <!--Forked Lightning(creep) Dur=.7 HeroDur=-->
    <CEffectSet id="ACfl">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Unit"/>
        <EffectArray value="ACflSearch"/>
    </CEffectSet>
    <CEffectEnumArea id="ACflSearch" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Unit"/>
        <ImpactLocation Value="CasterPoint"/>
        <SearchFilters value="-;player,allies,mechanical,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable,immunity"/>
        <AreaArray Arc="119.9926" Radius="8" Effect="ACflDamageDelay"/>
        <MaxCount value="3"/>
        <LaunchLocation Value="CasterUnit"/>
        <TargetSorts>
            <SortArray value="TSDistanceToTarget"/>
        </TargetSorts>
        <SearchFlags index="ExtendByUnitRadius" value="0"/>
        <SearchFlags index="OffsetAreaByAngle" value="0"/>
    </CEffectEnumArea>
    <CEffectCreatePersistent id="ACflDamageDelay">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Unit"/>
        <ExpireDelay value="0.25"/>
        <ExpireEffect value="ACflDamage"/>
        <WhichLocation Value="TargetUnit"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="ACflDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Unit"/>
        <Amount value="175"/>
    </CEffectDamage>
    <!--Dark Ranger - Drain Buff=Bdcb,Bdcl,Bdcm,Bdtb,Bdtl,Bdtm,Bdbb,Bdbl,Bdbm-->
    <CEffectSet id="ANdr">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ANdrDrainLifeCP"/>
        <EffectArray value="Bdcl"/>
        <EffectArray value="Bdtl"/>
        <EffectArray value="ChannelingSpell"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <!--ValidatorArray value="CasterLifeNotFull"/-->
    </CEffectSet>
    <CEffectCreatePersistent id="ANdrDrainLifeCP">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <PeriodCount value="8"/>
        <PeriodicValidator value="ANdrLeechValidatorSet"/>
        <Flags index="Channeled" value="1"/>
        <WhichLocation Value="TargetUnit"/>
        <InitialEffect value="ANdrPeriodSet"/>
        <PeriodicEffectArray value="ANdrPeriodSet"/>
        <PeriodicPeriodArray value="1"/>
    </CEffectCreatePersistent>
    <CEffectSet id="ANdrPeriodSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ANdrDamage1"/>
        <EffectArray value="ANdrDamage2"/>
        <EffectArray value="ANdrDamage3"/>
        <EffectArray value="ANdrHeal1"/>
        <EffectArray value="ANdrHeal2"/>
        <EffectArray value="ANdrHeal3"/>
    </CEffectSet>
    <CEffectDamage id="ANdrDamage1" parent="ANdrDamageBase">
        <Amount value="25"/>
        <ValidatorArray value="ANdrLevel0"/>
    </CEffectDamage>
    <CEffectDamage id="ANdrDamage2" parent="ANdrDamageBase">
        <Amount value="40"/>
        <ValidatorArray value="ANdrLevel1"/>
    </CEffectDamage>
    <CEffectDamage id="ANdrDamage3" parent="ANdrDamageBase">
        <Amount value="55"/>
        <ValidatorArray value="ANdrLevel2"/>
    </CEffectDamage>
    <CEffectModifyUnit id="ANdrHeal1">
        <VitalArray index="Life" Change="25"/>
        <ValidatorArray value="ANdrLevel0"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="ANdrHeal2">
        <VitalArray index="Life" Change="40"/>
        <ValidatorArray value="ANdrLevel1"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="ANdrHeal3">
        <VitalArray index="Life" Change="55"/>
        <ValidatorArray value="ANdrLevel2"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectCreateHealer id="ANdrDrainLife1" parent="ANdrDrainLifeBase">
        <RechargeVitalRate value="25"/>
        <ValidatorArray value="ANdrLevel0"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="ANdrDrainLife2" parent="ANdrDrainLifeBase">
        <RechargeVitalRate value="40"/>
        <ValidatorArray value="ANdrLevel1"/>
    </CEffectCreateHealer>
    <CEffectCreateHealer id="ANdrDrainLife3" parent="ANdrDrainLifeBase">
        <RechargeVitalRate value="55"/>
        <ValidatorArray value="ANdrLevel2"/>
    </CEffectCreateHealer>
    <CEffectApplyBehavior id="Bdcl" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Bdtl" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <KillHallucination value="1"/>
    </CEffectApplyBehavior>
    <!--Drain Life(Creep) Dur=8 HeroDur=8 Buff=Bdcb,Bdcl,Bdcm,Bdtb,Bdtl,Bdtm,Bdbb,Bdbl,Bdbm-->
    <CEffectSet id="ACdr">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ACdrDrainLifeCP"/>
        <EffectArray value="Bdcl"/>
        <EffectArray value="Bdtl"/>
        <EffectArray value="ChannelingSpell"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <!--ValidatorArray value="CasterLifeNotFull"/-->
    </CEffectSet>
    <CEffectCreatePersistent id="ACdrDrainLifeCP">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <PeriodCount value="8"/>
        <PeriodicValidator value="ANdrLeechValidatorSet"/>
        <Flags index="Channeled" value="1"/>
        <WhichLocation Value="TargetUnit"/>
        <InitialEffect value="ACdrPeriodSet"/>
        <PeriodicEffectArray value="ACdrPeriodSet"/>
        <PeriodicPeriodArray value="1"/>
    </CEffectCreatePersistent>
    <CEffectSet id="ACdrPeriodSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ACdrDamage"/>
        <EffectArray value="ACdrHeal"/>
    </CEffectSet>
    <CEffectDamage id="ACdrDamage" parent="ANdrDamageBase">
        <Amount value="55"/>
    </CEffectDamage>
    <CEffectModifyUnit id="ACdrHeal">
        <VitalArray index="Life" Change="55"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <!--Firelord - Soul Burn Buff=BNso-->
    <CEffectSet id="ANso">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ANso1"/>
        <EffectArray value="ANso2"/>
        <EffectArray value="ANso3"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANso1HeroDur" parent="War3_HeroDur" buff="BNso">
        <Duration value="6"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANso1Dur" parent="War3_Dur" buff="BNso">
        <Duration value="14"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANso1" parent="War3_DurSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANsoLevel0"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANso2HeroDur" parent="War3_HeroDur" buff="BNso">
        <Duration value="7"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANso2Dur" parent="War3_Dur" buff="BNso">
        <Duration value="16"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANso2" parent="War3_DurSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANsoLevel1"/>
    </CEffectSet>
    <CEffectApplyBehavior id="ANso3HeroDur" parent="War3_HeroDur" buff="BNso">
        <Duration value="8"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANso3Dur" parent="War3_Dur" buff="BNso">
        <Duration value="18"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ANso3" parent="War3_DurSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="ANsoLevel2"/>
    </CEffectSet>
    <CEffectSet id="BNsoDPSSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="BNsoDPS1"/>
        <EffectArray value="BNsoDPS2"/>
        <EffectArray value="BNsoDPS3"/>
    </CEffectSet>
    <CEffectDamage id="BNsoDPS1" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Amount value="7.14"/>
        <ValidatorArray value="ANsoLevel0"/>
    </CEffectDamage>
    <CEffectDamage id="BNsoDPS2" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Amount value="14.06"/>
        <ValidatorArray value="ANsoLevel1"/>
    </CEffectDamage>
    <CEffectDamage id="BNsoDPS3" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Amount value="20.83"/>
        <ValidatorArray value="ANsoLevel2"/>
    </CEffectDamage>
    <!--Beast Master - Stampede Buff=BNst-->
    <CEffectSet id="ANst">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="BNst"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectApplyBehavior id="BNst" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <CEffectSet id="BNstTriggerNotice">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectSet>
    <CEffectSet id="ANstExplodeSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="Suicide"/>
        <EffectArray value="ANstDamage"/>
    </CEffectSet>
    <CEffectDamage id="ANstDamage" parent="War3_UltraSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <AreaArray Radius="2.1484" Fraction="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,Missile,item,ward,dead,Hidden,invulnerable"/>
        <ImpactLocation Value="SourceUnit"/>
        <Amount value="60"/>
    </CEffectDamage>
    <!--Alchemist - Transmute Buff=BNtm-->
    <CEffectSet id="ANtmMissileImpactSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="Kill"/>
        <EffectArray value="ANtmPawn"/>
        <EffectArray value="TargetRemoveTriggerRequest"/>
    </CEffectSet>
    <CEffectModifyUnit id="ANtmPawn">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <AINotifyFlags index="HurtEnemy" value="1"/>
        <ResponseFlags index="Acquire" value="1"/>
        <ResponseFlags index="Flee" value="1"/>
        <ModifyFlags index="Owner" value="1"/>
        <ModifyFlags index="Salvage" value="1"/>
        <SalvageFactor>
            <Resource index="Terrazine" value="-0.8"/>
        </SalvageFactor>
    </CEffectModifyUnit>
    <!--Beast Master - Summon Hawk Buff=BNsw-->
    <CEffectCreateUnit id="nwe1" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNsw"/>
        <SpawnRange value="1.5625"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="nwe2" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNsw"/>
        <SpawnRange value="1.5625"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="nwe3" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNsw"/>
        <SpawnRange value="1.5625"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BNsw" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <!--Frenzy Dur=20 HeroDur=20 Buff=Bfzy-->
    <CEffectApplyBehavior id="Bfzy" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
    <!--Beast Master - Summon Quilbeast Buff=BNsq-->
    <CEffectCreateUnit id="nqb1" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNsq"/>
        <SpawnRange value="1.5625"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="nqb2" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNsq"/>
        <SpawnRange value="1.5625"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="nqb3" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNsq"/>
        <SpawnRange value="1.5625"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BNsq" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <!--Beast Master - Summon Bear Buff=BNsg-->
    <CEffectCreateUnit id="ngz1" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNsg"/>
        <SpawnRange value="1.5625"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="ngz2" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNsg"/>
        <SpawnRange value="1.5625"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="ngz3" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNsg"/>
        <SpawnRange value="1.5625"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BNsg" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <!--Firelord - Volcano Buff=BNvc,BNva effect=XNvc-->
    <CEffectSet id="ANvc">
        <TargetLocationType value="Point"/>
        <EffectArray value="Volc"/>
        <EffectArray value="ChannelingSpell"/>
    </CEffectSet>
    <CEffectCreateUnit id="Volc" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNva"/>
        <WhichLocation Value="TargetPoint"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="PlacementIgnoreBlockers" value="1"/>
        <CreateFlags index="PlacementIgnoreCliffTest" value="1"/>
        <CreateFlags index="ProvideFood" value="0"/>
        <CreateFlags index="TechComplete" value="0"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BNva" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNvc" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="NotBuilding_War3"/>
        <ValidatorArray value="NotDestructible"/>
        <ValidatorArray value="NotHavestable"/>
    </CEffectApplyBehavior>
    <CEffectCreatePersistent id="BNvaEruption">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <PeriodCount value="5"/>
        <PeriodicPeriodArray value="0.6"/>
        <PeriodicEffectArray value="BNvaMissilePadTriggerNotice"/>
        <Flags index="Channeled" value="1"/>
        <InitialDelay value="2"/>
    </CEffectCreatePersistent>
    <CEffectSet id="BNvaMissilePadTriggerNotice">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectSet>
    <CEffectLaunchMissile id="XNvcMissile">
        <ImpactLocation Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <CEffectSet id="XNvcMissileImpactSet">
        <TargetLocationType value="Point"/>
        <EffectArray value="ANvcAoESearch"/>
    </CEffectSet>
    <!--CursorDummy-->
    <CEffectEnumArea id="ANvcSearch" parent="War3_AbilSearch">
        <SearchFilters value="-;self,air,wall,Missile,item,ward,dead,Hidden,invulnerable"/>
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <AreaArray Radius="3.9062"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="ANvcAoESearch" parent="War3_AbilSearch">
        <SearchFilters value="-;self,air,wall,Missile,item,ward,dead,Hidden,invulnerable"/>
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <!--AreaArray Radius="3.9062" Effect="ANvcAoEImpactSet"/-->
        <AreaArray Radius="1.9531" Effect="ANvcAoEImpactSet"/>
    </CEffectEnumArea>
    <CEffectSet id="ANvcAoEImpactSet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="ANvcDamage"/>
        <EffectArray value="BNvc"/>
        <ValidatorArray value="NotPlayerFirelord"/>
        <ValidatorArray value="NotVolcanoed"/>
    </CEffectSet>
    <CEffectDamage id="ANvcDamage" parent="War3_UltraSpellDamage">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <AttributeFactor index="fortified" value="1"/>
        <Amount value="100"/>
    </CEffectDamage>
    <!--Firelord - Summon Lava Spawn Buff=BNlm-->
    <CEffectCreateUnit id="nlv1" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNlm"/>
        <SpawnRange value="1.5625"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="nlv2" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNlm"/>
        <SpawnRange value="1.5625"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="nlv3" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNlm"/>
        <SpawnRange value="1.5625"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BNlm" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <CEffectLaunchMissile id="BNlmMissile">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ImpactLocation Value="TargetPoint"/>
        <Flags index="Placement" value="1"/>
        <PlaceholderUnit value="nlv1"/>
        <ImpactEffect value="BNlmCloneUnit"/>
        <PlacementRange value="1.5625"/>
        <ImpactOffset value="0,2,0"/>
    </CEffectLaunchMissile>
    <CEffectCreateUnit id="BNlmCloneUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <CreateFlags index="ProvideFood" value="0"/>
        <CreateFlags index="SetFacing" value="1"/>
        <CreateFlags index="SelectControlGroups" value="1"/>
        <SpawnEffect value="BNlmCopySet"/>
        <WhichLocation Value="TargetPoint"/>
        <SelectUnit Effect="BNlmMissile" Value="Source"/>
        <SpawnRange value="1.5625"/>
        <TypeFallbackUnit Effect="BNlmMissile" Value="Source"/>
    </CEffectCreateUnit>
    <CEffectSet id="BNlmCopySet">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <EffectArray value="BNlmCopyStatus"/>
        <EffectArray value="BNlmCopyBuff"/>
        <EffectArray value="BNlmCopyGeneration"/>
    </CEffectSet>
    <CEffectModifyUnit id="BNlmCopyStatus">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ModifyFlags index="Copy" value="1"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Source"/>
    </CEffectModifyUnit>
    <CEffectTransferBehavior id="BNlmCopyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Behavior value="BNlm"/>
        <LaunchUnit Value="Caster"/>
        <ImpactUnit Value="Target"/>
        <Copy value="1"/>
    </CEffectTransferBehavior>
    <CEffectTransferBehavior id="BNlmCopyGeneration">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <Behavior value="BNlmGeneration"/>
        <LaunchUnit Value="Caster"/>
        <ImpactUnit Value="Target"/>
        <Copy value="1"/>
    </CEffectTransferBehavior>
    <CEffectApplyBehavior id="BNlmAttackCount" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray value="GenerationCountLT2"/>
        <WhichUnit Value="Source"/>
    </CEffectApplyBehavior>
    <!--Pulverize (Sea Giant)-->
    <CEffectDamage id="ACpvAoEDamage" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <AreaArray Radius="1.1718" Bonus="40" Fraction="1"/>
        <AreaArray Radius="1.9531" Bonus="20" Fraction="1"/>
        <SearchFilters value="-;player,allies,air,wall,tree,debris,item,structure,ward,dead,invulnerable"/>
        <ExcludeArray index="0" removed="1"/>
    </CEffectDamage>
    <CEffectSet id="npn31Crit">
        <EffectArray value="npn31"/>
        <EffectArray value="ACpvAoEDamage"/>
    </CEffectSet>
    <CEffectSet id="npn32Crit">
        <EffectArray value="npn32"/>
        <EffectArray value="ACpvAoEDamage"/>
    </CEffectSet>
    <CEffectSet id="npn61Crit">
        <EffectArray value="npn61"/>
        <EffectArray value="ACpvAoEDamage"/>
    </CEffectSet>
    <CEffectSet id="npn62Crit">
        <EffectArray value="npn62"/>
        <EffectArray value="ACpvAoEDamage"/>
    </CEffectSet>
    <CEffectSet id="nsgn1Crit">
        <EffectArray value="nsgn1"/>
        <EffectArray value="ACpvAoEDamage"/>
    </CEffectSet>
    <CEffectSet id="nsgn2Crit">
        <EffectArray value="nsgn2"/>
        <EffectArray value="ACpvAoEDamage"/>
    </CEffectSet>
    <CEffectSet id="nsgb1Crit">
        <EffectArray value="nsgb1"/>
        <EffectArray value="ACpvAoEDamage"/>
    </CEffectSet>
    <CEffectSet id="nsgb2Crit">
        <EffectArray value="nsgb2"/>
        <EffectArray value="ACpvAoEDamage"/>
    </CEffectSet>
    <CEffectSet id="nsgh1Crit">
        <EffectArray value="nsgh1"/>
        <EffectArray value="ACpvAoEDamage"/>
    </CEffectSet>
    <CEffectSet id="nsgh2Crit">
        <EffectArray value="nsgh2"/>
        <EffectArray value="ACpvAoEDamage"/>
    </CEffectSet>
    <!--Permanent Immolation (graphic) Dur=1 HeroDur=1 Buff=Bpig-->
    <CEffectEnumArea id="ApigSearch" parent="War3_AbilSearchRadiusExt">
        <EditorCategories value="Race:Other,AbilityorEffectType:Unit"/>
        <AreaArray Radius="1.25" Effect="ApigDPS"/>
        <SearchFilters value="-;player,allies,air,mechanical,wall,tree,debris,item,structure,ward,dead,Hidden,invulnerable,Passive,immunity"/>
    </CEffectEnumArea>
    <CEffectDamage id="ApigDPS" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Other,AbilityorEffectType:Unit"/>
        <Amount value="10"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="Bpig" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other,AbilityorEffectType:Unit"/>
    </CEffectApplyBehavior>
    <!--Wind Walk Buff=BOwk-->
    <CEffectCreatePersistent id="ANwk">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <InitialEffect value="BOwkTransition"/>
        <ExpireDelay value="0.6"/>
        <ExpireEffect value="BOwk"/>
        <WhichLocation Value="CasterUnit"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="BOwk" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BOwkExtraDamage" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ValidatorArray index="1" value="SlamValidTarget"/>
    </CEffectApplyBehavior>
    <!--Brewmaster - Storm, Earth and Fire Buff=BNef-->
    <CEffectModifyUnit id="ANef">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ImpactUnit Value="Caster"/>
    </CEffectModifyUnit>
    <CEffectLaunchMissile id="ANefMissileFire" parent="War3_AbilMissile">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ImpactEffect value="npn1"/>
        <ImpactLocation Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="ANefMissileStorm" parent="War3_AbilMissile">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ImpactEffect value="npn2"/>
        <ImpactLocation Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <CEffectLaunchMissile id="ANefMissileEarth" parent="War3_AbilMissile">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <ImpactEffect value="npn3"/>
        <ImpactLocation Value="TargetPoint"/>
    </CEffectLaunchMissile>
    <CEffectCreateUnit id="npn1" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNef"/>
        <WhichLocation Value="TargetPoint"/>
        <SelectUnit Value="Caster"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="npn2" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNef"/>
        <WhichLocation Value="TargetPoint"/>
        <SelectUnit Value="Caster"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="npn3" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <SpawnEffect value="BNef"/>
        <WhichLocation Value="TargetPoint"/>
        <SelectUnit Value="Caster"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BNef" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <CEffectSet id="BNefExpireTriggerNotice">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectSet>
    <CEffectSet id="BNefDeathTriggerNotice">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectSet>
    <!--Mana Flare Dur=30 HeroDur=30 Buff=Bmfl,Bmfa-->
    <CEffectApplyBehavior id="Bmfa" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf,AbilityorEffectType:Unit"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="BmflLightning" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Nightelf,AbilityorEffectType:Unit"/>
        <AreaArray Radius="5.8593" Fraction="1"/>
        <SearchFilters value="HasEnergy;player,allies,neutral,wall,RawResource,debris,item,structure,ward,Hidden,invulnerable,immunity"/>
    </CEffectDamage>
    <CEffectEnumArea id="BmflSearch" parent="War3_AuraSearch" aura="Bmfa">
        <EditorCategories value="Race:Nightelf"/>
        <SearchFilters value="HasEnergy;player,allies,neutral,wall,RawResource,debris,item,structure,ward,Hidden,invulnerable,immunity"/>
        <AreaArray index="0" Radius="5.8593" Effect="Bmfa"/>
        <ValidatorArray value="CasterNotHasManaFlareSuppress"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="ManaFlareSuppress" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Nightelf,AbilityorEffectType:Unit"/>
    </CEffectApplyBehavior>
    <!--ItemRevealMap Dur=5 HeroDur=5 effect=Xbdt-->
    <CEffectCreatePersistent id="AIrv">
        <EditorCategories value="Race:Other"/>
        <ExpireDelay value="5"/>
        <RevealRadius value="500"/>
        <RevealFlags index="Unfog" value="1"/>
        <RevealFlags index="Detect" value="1"/>
        <DetectFilters value="-;PreventDefeat,Hidden"/>
    </CEffectCreatePersistent>
    <!--ShadowSight Buff=Bshs-->
    <CEffectApplyBehavior id="Bshs" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Other"/>
    </CEffectApplyBehavior>
    <CEffectSet id="RetrainCopySet">
        <EditorCategories value="Race:Other,AbilityorEffectType:Item"/>
        <EffectArray value="RetrainCopyStat"/>
        <EffectArray value="RetrainSuppress"/>
        <EffectArray value="RetrainNoUse"/>
    </CEffectSet>
    <CEffectIssueOrder id="OrderDevour">
        <WhichUnit Value="Caster"/>
        <Abil value="Adev"/>
        <Player Value="Caster"/>
        <Target Value="TargetUnit"/>
    </CEffectIssueOrder>
    <CEffectEnumArea id="SearchDevourTarget">
        <EditorCategories value=""/>
        <AreaArray Radius="3" Effect="OrderDevour"/>
        <MinCount value="1"/>
        <MaxCount value="1"/>
        <TargetSorts>
            <SortArray value="TSLifeLargestFirst"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectTransferBehavior id="RetrainCopyBuff">
        <EditorCategories value="Race:Other,AbilityorEffectType:Item"/>
        <LaunchUnit Value="Caster"/>
        <ImpactUnit Value="Target"/>
        <Behavior value="BHav"/>
    </CEffectTransferBehavior>
    <CEffectModifyUnit id="RetrainCopyStat">
        <EditorCategories value="Race:Other,AbilityorEffectType:Item"/>
        <LaunchUnit Value="Target"/>
        <ImpactUnit Value="Caster"/>
        <ModifyFlags index="Copy" value="1"/>
        <ModifyFlags index="CopyAutoCast" value="1"/>
    </CEffectModifyUnit>
    <CEffectCreateUnit id="RetrainCopyUnit" parent="War3_SummonUnit">
        <EditorCategories value="Race:Other,AbilityorEffectType:Item"/>
        <WhichLocation Value="CasterUnitOrPoint"/>
        <CreateFlags index="Birth" value="0"/>
        <CreateFlags index="DropOff" value="0"/>
        <CreateFlags index="OffsetByRadius" value="0"/>
        <CreateFlags index="Placement" value="0"/>
        <CreateFlags index="PlacementIgnoreBlockers" value="1"/>
        <CreateFlags index="PlacementIgnoreCliffTest" value="1"/>
        <CreateFlags index="SetFacing" value="1"/>
        <CreateFlags index="SelectControlGroups" value="1"/>
        <CreateFlags index="TechComplete" value="0"/>
        <CreateFlags index="UseFood" value="1"/>
        <SpawnEffect value="RetrainCopySet"/>
        <!--SelectUnit Value="Caster"/-->
    </CEffectCreateUnit>
    <!--TornadoDamage Buff=Btdg-->
    <CEffectEnumArea id="AtdgSearch" parent="War3_AuraSearch" aura="btdg">
        <EditorCategories value="Race:Naga,AbilityorEffectType:Unit"/>
        <SearchFilters value="structure;player,allies,neutral,wall,tree,Missile,debris,item,ward,dead,Hidden,invulnerable"/>
        <AreaArray index="0" Radius="0.9765" Effect="AtdgMediumDPSSet"/>
        <AreaArray Radius="5.0781" Effect="AtdgDPSSet"/>
        <SearchFlags index="OffsetByUnitRadius" value="1"/>
    </CEffectEnumArea>
    <CEffectSet id="AtdgDPSSet">
        <EditorCategories value="Race:Naga,AbilityorEffectType:Unit"/>
        <EffectArray value="AtdgDPS"/>
        <EffectArray value="Btdg"/>
    </CEffectSet>
    <CEffectSet id="AtdgMediumDPSSet">
        <EditorCategories value="Race:Naga,AbilityorEffectType:Unit"/>
        <EffectArray value="AtdgMediumDPS"/>
        <EffectArray value="Btdg"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Btdg" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Naga,AbilityorEffectType:Unit"/>
    </CEffectApplyBehavior>
    <CEffectDamage id="AtdgDPS" parent="War3_UltraSpellDamage">
        <Amount value="7"/>
    </CEffectDamage>
    <CEffectDamage id="AtdgMediumDPS" parent="War3_UltraSpellDamage">
        <Amount value="50"/>
    </CEffectDamage>
    <!--TornadoSpin Dur=12 HeroDur=6 Buff=Btsp,Btsa-->
    <CEffectEnumArea id="AtspSearch" parent="War3_AuraSearch" aura="AtspBuffSet">
        <EditorCategories value="Race:Naga,AbilityorEffectType:Unit"/>
        <SearchFilters value="ground;player,allies,neutral,wall,tree,Missile,debris,item,structure,ward,dead,Hidden,invulnerable"/>
        <AreaArray index="0" MaxCount="1" Radius="2.1484" Effect="AtspBuffSet"/>
        <SearchFlags index="OffsetByUnitRadius" value="1"/>
        <TargetSorts>
            <SortArray value="TSRandom"/>
        </TargetSorts>
    </CEffectEnumArea>
    <CEffectSet id="AtspBuffSet">
        <EditorCategories value="Race:Naga,AbilityorEffectType:Unit"/>
        <EffectArray value="Btsp"/>
        <EffectArray value="Btsa"/>
        <ValidatorArray value="TornadoSpinTestBuff"/>
    </CEffectSet>
    <CEffectApplyBehavior id="Btsp" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Naga,AbilityorEffectType:Unit"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="Btsa" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Naga,AbilityorEffectType:Unit"/>
    </CEffectApplyBehavior>
    <!--Aura - Slow Buff=Basl-->
    <CEffectEnumArea id="AaslSearch" parent="War3_AuraSearch" aura="Basl">
        <EditorCategories value="Race:Naga,AbilityorEffectType:Unit"/>
        <SearchFilters value="-;player,allies,neutral,wall,tree,Missile,debris,item,structure,ward,dead,Hidden"/>
        <AreaArray index="0" Radius="4.6875" Effect="Basl"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="Basl" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Naga,AbilityorEffectType:Unit"/>
    </CEffectApplyBehavior>
    <!--Sea Witch - Tornado Buff=BNto-->
    <CEffectCreateUnit id="ntor" parent="War3_SummonUnit">
        <WhichLocation Value="TargetUnitOrPoint"/>
        <SpawnEffect value="BNto"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BNto" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <!--Tinkerer - Summon Factory (Level 0) Buff=BNfy,BNcg-->
    <CEffectCreateUnit id="nfac" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="BNfy"/>
        <ValidatorArray value="ANsyLevel0"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="nfa1" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="BNfy"/>
        <ValidatorArray value="ANsyLevel1"/>
    </CEffectCreateUnit>
    <CEffectCreateUnit id="nfa2" parent="War3_SummonUnit">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
        <WhichLocation Value="TargetPoint"/>
        <SpawnEffect value="BNfy"/>
        <ValidatorArray value="ANsyLevel2"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BNfy" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNcg" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Hero"/>
    </CEffectApplyBehavior>
    <!--Parasite(eredar) Dur=30 HeroDur= Buff=BNpa,BNpm cast=90-->
    <CEffectDamage id="BNpaDPS" parent="War3_PhysicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Amount value="5"/>
        <ResponseFlags index="Flee" value="0"/>
    </CEffectDamage>
    <CEffectCreateUnit id="nvdl" parent="War3_SummonUnit">
        <SpawnEffect value="BNpm"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="BNpaACpa" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Unit"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="BNpm" parent="War3_ApplyBuff">
        <EditorCategories value="Race:Creeps,AbilityorEffectType:Unit"/>
    </CEffectApplyBehavior>
    <CEffectSet id="ACpaMissileImpactSet">
        <EffectArray value="BNpaACpa"/>
    </CEffectSet>
    <!--Fire Bolt-->
    <CEffectDamage id="ANfbDamage1" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ValidatorArray value="ANfbLevel0"/>
        <Amount value="100"/>
    </CEffectDamage>
    <CEffectDamage id="ANfbDamage2" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ValidatorArray value="ANfbLevel1"/>
        <Amount value="150"/>
    </CEffectDamage>
    <CEffectDamage id="ANfbDamage3" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <ValidatorArray value="ANfbLevel2"/>
        <Amount value="200"/>
    </CEffectDamage>
    <CEffectApplyBehavior id="ANfbStun2s" parent="BSTN">
        <EditorCategories value="Race:Creeps"/>
        <Duration value="2"/>
        <Flags index="UseDuration" value="1"/>
        <ValidatorArray value="ANfbLevel2"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANfbStun3s" parent="BSTN">
        <EditorCategories value="Race:Creeps"/>
        <Duration value="2"/>
        <Flags index="UseDuration" value="1"/>
        <ValidatorArray value="ANfbLevel3"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="ANfbStun4s" parent="BSTN">
        <EditorCategories value="Race:Creeps"/>
        <Duration value="2"/>
        <Flags index="UseDuration" value="1"/>
        <ValidatorArray value="ANfbLevel4"/>
    </CEffectApplyBehavior>
    <!--Bash (creep) Dur=2 HeroDur=2 Buff=BPSE-->
    <CEffectSet id="ANfbMissileImpactSet">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="ANfbDamage1"/>
        <EffectArray value="ANfbDamage2"/>
        <EffectArray value="ANfbDamage3"/>
        <EffectArray value="ANfbStun2s"/>
        <EffectArray value="ANfbStun3s"/>
        <EffectArray value="ANfbStun4s"/>
    </CEffectSet>
    <CEffectSet id="ACbhSphereEffect">
        <EditorCategories value="Race:Creeps"/>
        <EffectArray value="BHbh"/>
        <EffectArray value="AHbhExtraDamage"/>
    </CEffectSet>
    <!--Finger of Pain-->
    <CEffectCreatePersistent id="ACfd">
        <EditorCategories value="Race:Creeps"/>
        <ExpireDelay value="0.25"/>
        <WhichLocation Value="TargetUnit"/>
        <ExpireEffect value="ACfdDamage"/>
        <InitialEffect value="ACfdDummy"/>
    </CEffectCreatePersistent>
    <CEffectDamage id="ACfdDamage" parent="War3_MagicSpellDamage">
        <EditorCategories value="Race:Creeps"/>
        <Amount value="250"/>
        <Death value="Blast"/>
    </CEffectDamage>
    <CEffectModifyUnit id="ACfdDummy">
        <EditorCategories value="Race:Creeps"/>
    </CEffectModifyUnit>
</Catalog>
